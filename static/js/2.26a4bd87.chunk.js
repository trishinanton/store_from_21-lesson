/*! For license information please see 2.26a4bd87.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[2],[function(e,t,n){e.exports=n(111)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return q})),n.d(t,"d",(function(){return ae})),n.d(t,"e",(function(){return F})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return me})),n.d(t,"l",(function(){return Y})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return oe})),n.d(t,"o",(function(){return w})),n.d(t,"p",(function(){return ee})),n.d(t,"q",(function(){return O})),n.d(t,"r",(function(){return le})),n.d(t,"s",(function(){return ie})),n.d(t,"t",(function(){return U})),n.d(t,"u",(function(){return ye})),n.d(t,"v",(function(){return x})),n.d(t,"w",(function(){return $})),n.d(t,"x",(function(){return S})),n.d(t,"y",(function(){return I})),n.d(t,"z",(function(){return N})),n.d(t,"A",(function(){return J})),n.d(t,"B",(function(){return R})),n.d(t,"C",(function(){return M})),n.d(t,"D",(function(){return E})),n.d(t,"E",(function(){return T})),n.d(t,"F",(function(){return P})),n.d(t,"G",(function(){return C})),n.d(t,"H",(function(){return D})),n.d(t,"I",(function(){return A})),n.d(t,"J",(function(){return Q})),n.d(t,"K",(function(){return G})),n.d(t,"L",(function(){return W})),n.d(t,"M",(function(){return Z})),n.d(t,"N",(function(){return ne})),n.d(t,"O",(function(){return re})),n.d(t,"P",(function(){return X})),n.d(t,"Q",(function(){return pe})),n.d(t,"R",(function(){return de})),n.d(t,"S",(function(){return K})),n.d(t,"T",(function(){return ce})),n.d(t,"U",(function(){return fe})),n.d(t,"V",(function(){return he})),n.d(t,"W",(function(){return L}));var r=n(9),i=n(16),a=n(40),o=n(10),s=n(11),u=n(70),c=n(2),l=n(4),f=!1,h=!1,d="${JSCORE_VERSION}",p=function(e,t){if(!e)throw v(t)},v=function(e){return new Error("Firebase Database ("+d+") INTERNAL ASSERT FAILED: "+e)},m=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(m(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},g=function(e){var t=m(e);return y.encodeByteArray(t,!0)},b=function(e){return g(e).replace(/\./g,"")},k=function(e){try{return y.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function w(e){return O(void 0,e)}function O(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=O(e[n],t[n]));return e}var _=function(){function e(){var t=this;Object(c.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Object(l.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function j(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[b(JSON.stringify({alg:"none",type:"JWT"})),b(JSON.stringify(a)),""].join(".")}function x(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function E(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function T(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function S(){return"object"===typeof self&&self.self===self}function I(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function N(){return x().indexOf("Electron/")>=0}function R(){var e=x();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A(){return x().indexOf("MSAppHost/")>=0}function P(){return!0===f||!0===h}function D(){return!T()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M(){return"object"===typeof indexedDB}function L(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}function F(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}function U(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}var q=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(e,r,i){var o;return Object(c.a)(this,n),(o=t.call(this,r)).code=e,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(Object(a.a)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(a.a)(o),z.prototype.create),o}return n}(Object(u.a)(Error)),z=function(){function e(t,n,r){Object(c.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(l.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?V(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new q(n,a,t);return o}}]),e}();function V(e,t){return e.replace(B,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var B=/\{\$([^}]+)}/g;function W(e){return JSON.parse(e)}function K(e){return JSON.stringify(e)}var H=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=W(k(a[0])||""),n=W(k(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},G=function(e){var t=H(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},Q=function(e){var t=H(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},$=function(e){var t=H(e).claims;return"object"===typeof t&&!0===t.admin};function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function X(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function J(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Z(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function ee(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(te(s)&&te(u)){if(!ee(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function te(e){return null!==e&&"object"===typeof e}function ne(e){for(var t=[],n=function(){var e=Object(i.a)(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function re(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=Object(i.a)(n,2),a=r[0],o=r[1];t[decodeURIComponent(a)]=decodeURIComponent(o)}})),t}function ie(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var ae=function(){function e(){Object(c.a)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Object(l.a)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function oe(e,t){var n=new se(e,t);return n.subscribe.bind(n)}var se=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Object(l.a)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var i,a=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(e,t){if("object"!==typeof e||null===e)return!1;var n,i=Object(r.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in e&&"function"===typeof e[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(i.next=ue),void 0===i.error&&(i.error=ue),void 0===i.complete&&(i.complete=ue);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?i.error(a.finalError):i.complete()}catch(e){}})),this.observers.push(i),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ue(){}var ce=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function le(e,t){return"".concat(e," failed: ").concat(t," argument ")}function fe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(le(e,t)+"must be a valid function.")}function he(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(le(e,t)+"must be a valid context object.")}var de=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,p(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},pe=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ve=144e5;function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(ve,r+i)}function ye(e){return e&&e._delegate?e._delegate:e}}).call(this,n(77))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(99)},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";e.exports=n(105)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(46);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(54);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(30),i=n(66);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var o=n(40);function s(e,t){return!t||"object"!==a(t)&&"function"!==typeof t?Object(o.a)(e):t}function u(e){var t=Object(i.a)();return function(){var n,i=Object(r.a)(e);if(t){var a=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",(function(){return A})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return b})),n.d(t,"_addComponent",(function(){return _})),n.d(t,"_addOrOverwriteComponent",(function(){return j})),n.d(t,"_apps",(function(){return w})),n.d(t,"_clearComponents",(function(){return S})),n.d(t,"_components",(function(){return O})),n.d(t,"_getProvider",(function(){return E})),n.d(t,"_registerComponent",(function(){return x})),n.d(t,"_removeServiceInstance",(function(){return T})),n.d(t,"deleteApp",(function(){return L})),n.d(t,"getApp",(function(){return D})),n.d(t,"getApps",(function(){return M})),n.d(t,"initializeApp",(function(){return P})),n.d(t,"onLog",(function(){return q})),n.d(t,"registerVersion",(function(){return U})),n.d(t,"setLogLevel",(function(){return z}));var r,i,a=n(0),o=n.n(a),s=n(3),u=n(9),c=n(5),l=n(2),f=n(4),h=n(20),d=n(28),p=n(1);n.d(t,"FirebaseError",(function(){return p.c}));var v=function(){function e(t){Object(l.a)(this,e),this.container=t}return Object(f.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var m="@firebase/app",y="0.7.7",g=new d.b("@firebase/app"),b="[DEFAULT]",k=(r={},Object(c.a)(r,m,"fire-core"),Object(c.a)(r,"@firebase/app-compat","fire-core-compat"),Object(c.a)(r,"@firebase/analytics","fire-analytics"),Object(c.a)(r,"@firebase/analytics-compat","fire-analytics-compat"),Object(c.a)(r,"@firebase/app-check","fire-app-check"),Object(c.a)(r,"@firebase/app-check-compat","fire-app-check-compat"),Object(c.a)(r,"@firebase/auth","fire-auth"),Object(c.a)(r,"@firebase/auth-compat","fire-auth-compat"),Object(c.a)(r,"@firebase/database","fire-rtdb"),Object(c.a)(r,"@firebase/database-compat","fire-rtdb-compat"),Object(c.a)(r,"@firebase/functions","fire-fn"),Object(c.a)(r,"@firebase/functions-compat","fire-fn-compat"),Object(c.a)(r,"@firebase/installations","fire-iid"),Object(c.a)(r,"@firebase/installations-compat","fire-iid-compat"),Object(c.a)(r,"@firebase/messaging","fire-fcm"),Object(c.a)(r,"@firebase/messaging-compat","fire-fcm-compat"),Object(c.a)(r,"@firebase/performance","fire-perf"),Object(c.a)(r,"@firebase/performance-compat","fire-perf-compat"),Object(c.a)(r,"@firebase/remote-config","fire-rc"),Object(c.a)(r,"@firebase/remote-config-compat","fire-rc-compat"),Object(c.a)(r,"@firebase/storage","fire-gcs"),Object(c.a)(r,"@firebase/storage-compat","fire-gcs-compat"),Object(c.a)(r,"@firebase/firestore","fire-fst"),Object(c.a)(r,"@firebase/firestore-compat","fire-fst-compat"),Object(c.a)(r,"fire-js","fire-js"),Object(c.a)(r,"firebase","fire-js-all"),r),w=new Map,O=new Map;function _(e,t){try{e.container.addComponent(t)}catch(n){g.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function j(e,t){e.container.addOrOverwriteComponent(t)}function x(e){var t=e.name;if(O.has(t))return g.debug("There were multiple attempts to register component ".concat(t,".")),!1;O.set(t,e);var n,r=Object(u.a)(w.values());try{for(r.s();!(n=r.n()).done;){_(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function E(e,t){return e.container.getProvider(t)}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;E(e,t).clearInstance(n)}function S(){O.clear()}var I,C=(i={},Object(c.a)(i,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(c.a)(i,"bad-app-name","Illegal App name: '{$appName}"),Object(c.a)(i,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(c.a)(i,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(c.a)(i,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(c.a)(i,"invalid-log-argument","First argument to `onLog` must be null or a function."),i),N=new p.b("app","Firebase",C),R=function(){function e(t,n,r){var i=this;Object(l.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new h.a("app",(function(){return i}),"PUBLIC"))}return Object(f.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw N.create("app-deleted",{appName:this._name})}}]),e}(),A="9.4.0";function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:b,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw N.create("bad-app-name",{appName:String(i)});var a=w.get(i);if(a){if(Object(p.p)(e,a.options)&&Object(p.p)(r,a.config))return a;throw N.create("duplicate-app",{appName:i})}var o,s=new h.b(i),c=Object(u.a)(O.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;s.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var f=new R(e,r,s);return w.set(i,f),f}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=w.get(e);if(!t)throw N.create("no-app",{appName:e});return t}function M(){return Array.from(w.values())}function L(e){return F.apply(this,arguments)}function F(){return F=Object(s.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!w.has(n)){e.next=6;break}return w.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}function U(e,t,n){var r,i=null!==(r=k[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void g.warn(s.join(" "))}x(new h.a("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function q(e,t){if(null!==e&&"function"!==typeof e)throw N.create("invalid-log-argument");Object(d.d)(e,t)}function z(e){Object(d.c)(e)}I="",x(new h.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),U(m,y,I),U(m,y,"esm2017"),U("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return rt})),n.d(t,"c",(function(){return Ft})),n.d(t,"d",(function(){return Vt})),n.d(t,"e",(function(){return Wt})),n.d(t,"f",(function(){return Bt})),n.d(t,"g",(function(){return It})),n.d(t,"h",(function(){return zt})),n.d(t,"i",(function(){return xi})),n.d(t,"j",(function(){return Ua})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return hi})),n.d(t,"m",(function(){return Kt})),n.d(t,"n",(function(){return Ht})),n.d(t,"o",(function(){return Gt})),n.d(t,"p",(function(){return q})),n.d(t,"q",(function(){return Je})),n.d(t,"r",(function(){return D})),n.d(t,"s",(function(){return Ir})),n.d(t,"t",(function(){return W})),n.d(t,"u",(function(){return ra})),n.d(t,"v",(function(){return Me})),n.d(t,"x",(function(){return Nn})),n.d(t,"y",(function(){return jr})),n.d(t,"z",(function(){return La})),n.d(t,"A",(function(){return Er})),n.d(t,"B",(function(){return An})),n.d(t,"C",(function(){return In})),n.d(t,"D",(function(){return et})),n.d(t,"F",(function(){return Ln})),n.d(t,"G",(function(){return C})),n.d(t,"H",(function(){return Gn})),n.d(t,"I",(function(){return dr})),n.d(t,"J",(function(){return mr})),n.d(t,"K",(function(){return ta})),n.d(t,"L",(function(){return De})),n.d(t,"M",(function(){return $r})),n.d(t,"N",(function(){return Vn})),n.d(t,"O",(function(){return mn})),n.d(t,"P",(function(){return yi})),n.d(t,"Q",(function(){return Fi})),n.d(t,"R",(function(){return Zi})),n.d(t,"S",(function(){return kr})),n.d(t,"T",(function(){return gn})),n.d(t,"U",(function(){return bi})),n.d(t,"V",(function(){return Mi})),n.d(t,"W",(function(){return Xi})),n.d(t,"X",(function(){return $n})),n.d(t,"Y",(function(){return Tn})),n.d(t,"Z",(function(){return qn})),n.d(t,"ab",(function(){return Jt})),n.d(t,"bb",(function(){return pn})),n.d(t,"cb",(function(){return On})),n.d(t,"db",(function(){return Un})),n.d(t,"eb",(function(){return Bn})),n.d(t,"fb",(function(){return vi})),n.d(t,"gb",(function(){return Pi})),n.d(t,"hb",(function(){return $i})),n.d(t,"ib",(function(){return rn})),n.d(t,"jb",(function(){return rr})),n.d(t,"kb",(function(){return ir})),n.d(t,"lb",(function(){return _i})),n.d(t,"mb",(function(){return tr})),n.d(t,"nb",(function(){return Xn})),n.d(t,"ob",(function(){return Dn})),n.d(t,"w",(function(){return vo})),n.d(t,"E",(function(){return ho}));var r=n(64),i=n(67),a=n(46),o=n(65);var s=n(0),u=n.n(s),c=n(2),l=n(4),f=n(32),h=n(30),d=n(10),p=n(11),v=n(3),m=n(40),y=n(9),g=n(16),b=n(21),k=n(5),w=n(1),O=n(12);function _(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var j,x=n(28),E=n(20),T={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},S={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function I(){return Object(k.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var C=function(){var e;return e={},Object(k.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(k.a)(e,"argument-error",""),Object(k.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(k.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(k.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(k.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(k.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(k.a)(e,"cors-unsupported","This browser is not supported."),Object(k.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(k.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(k.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(k.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(k.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(k.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(k.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(k.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(k.a)(e,"expired-action-code","The action code has expired."),Object(k.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(k.a)(e,"internal-error","An internal AuthError has occurred."),Object(k.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(k.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(k.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(k.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(k.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(k.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(k.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(k.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(k.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(k.a)(e,"invalid-email","The email address is badly formatted."),Object(k.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(k.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(k.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(k.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(k.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(k.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(k.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(k.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(k.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(k.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(k.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(k.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(k.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(k.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(k.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(k.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(k.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(k.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(k.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(k.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(k.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(k.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(k.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(k.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(k.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(k.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(k.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(k.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(k.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(k.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(k.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(k.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(k.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(k.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(k.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(k.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(k.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(k.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(k.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(k.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(k.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(k.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(k.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(k.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(k.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(k.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(k.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(k.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(k.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(k.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(k.a)(e,"timeout","The operation has timed out."),Object(k.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(k.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(k.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(k.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(k.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(k.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(k.a)(e,"unverified-email","The operation requires a verified email."),Object(k.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(k.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(k.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(k.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(k.a)(e,"user-signed-out",""),Object(k.a)(e,"weak-password","The password must be 6 characters long or more."),Object(k.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(k.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},N=I,R=new w.b("auth","Firebase",I()),A=new x.b("@firebase/auth");function P(e){if(A.logLevel<=x.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];A.error.apply(A,["Auth (".concat(O.SDK_VERSION,"): ").concat(e)].concat(n))}}function D(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw U.apply(void 0,[e].concat(n))}function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return U.apply(void 0,[e].concat(n))}function L(e,t,n){var r=Object.assign(Object.assign({},N()),Object(k.a)({},t,n));return new w.b("auth","Firebase",r).create(t,{appName:e.name})}function F(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&D(e,"argument-error"),L(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Object(b.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Object(b.a)(o)))}return R.create.apply(R,[e].concat(n))}function q(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw U.apply(void 0,[t].concat(r))}}function z(e){var t="INTERNAL ASSERTION FAILED: "+e;throw P(t),new Error(t)}function V(e,t){e||z(t)}var B=new Map;function W(e){V(e instanceof Function,"Expected a class definition");var t=B.get(e);return t?(V(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,B.set(e,t),t)}function K(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function H(){return"http:"===G()||"https:"===G()}function G(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Q=function(){function e(t,n){Object(c.a)(this,e),this.shortDelay=t,this.longDelay=n,V(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(w.D)()||Object(w.G)()}return Object(l.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(H()||Object(w.y)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function $(e,t){V(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Y=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),X=(j={},Object(k.a)(j,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(k.a)(j,"MISSING_CUSTOM_TOKEN","internal-error"),Object(k.a)(j,"INVALID_IDENTIFIER","invalid-email"),Object(k.a)(j,"MISSING_CONTINUE_URI","internal-error"),Object(k.a)(j,"INVALID_PASSWORD","wrong-password"),Object(k.a)(j,"MISSING_PASSWORD","internal-error"),Object(k.a)(j,"EMAIL_EXISTS","email-already-in-use"),Object(k.a)(j,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(k.a)(j,"INVALID_IDP_RESPONSE","invalid-credential"),Object(k.a)(j,"INVALID_PENDING_TOKEN","invalid-credential"),Object(k.a)(j,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(k.a)(j,"MISSING_REQ_TYPE","internal-error"),Object(k.a)(j,"EMAIL_NOT_FOUND","user-not-found"),Object(k.a)(j,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(k.a)(j,"EXPIRED_OOB_CODE","expired-action-code"),Object(k.a)(j,"INVALID_OOB_CODE","invalid-action-code"),Object(k.a)(j,"MISSING_OOB_CODE","internal-error"),Object(k.a)(j,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(k.a)(j,"INVALID_ID_TOKEN","invalid-user-token"),Object(k.a)(j,"TOKEN_EXPIRED","user-token-expired"),Object(k.a)(j,"USER_NOT_FOUND","user-token-expired"),Object(k.a)(j,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(k.a)(j,"INVALID_CODE","invalid-verification-code"),Object(k.a)(j,"INVALID_SESSION_INFO","invalid-verification-id"),Object(k.a)(j,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(k.a)(j,"MISSING_SESSION_INFO","missing-verification-id"),Object(k.a)(j,"SESSION_EXPIRED","code-expired"),Object(k.a)(j,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(k.a)(j,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(k.a)(j,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(k.a)(j,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(k.a)(j,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(k.a)(j,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(k.a)(j,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(k.a)(j,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(k.a)(j,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(k.a)(j,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(k.a)(j,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),j),J=new Q(3e4,6e4);function Z(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return te=Object(v.a)(u.a.mark((function e(t,n,r,i){var a,o=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ne(t,a,(function(){var e={},a={};i&&("GET"===n?a=i:e={body:JSON.stringify(i)});var o=Object(w.N)(Object.assign({key:t.config.apiKey},a)).slice(1),s=new(Y.headers());return s.set("Content-Type","application/json"),s.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&s.set("X-Firebase-Locale",t.languageCode),Y.fetch()(oe(t,t.config.apiHost,r,o),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},e))})));case 2:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},X),n),e.prev=2,a=new se(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw ue(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=Object(g.a)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw ue(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw ue(t,"email-already-in-use",s);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw L(t,p,d);case 30:D(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof w.c)){e.next=37;break}throw e.t0;case 37:D(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function ie(e,t,n,r){return ae.apply(this,arguments)}function ae(){return ae=Object(v.a)(u.a.mark((function e(t,n,r,i){var a,o,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,ee(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&D(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function oe(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?$(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var se=function(){function e(t){var n=this;Object(c.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(M(n.auth,"timeout"))}),J.get())}))}return Object(l.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ue(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=M(e,t,r);return i.customData._tokenResponse=n,i}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function me(){return me=Object(v.a)(u.a.mark((function e(t){var n,r,i,a,o,s,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Object(w.u)(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,q((a=ge(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ve(ye(a.auth_time)),issuedAtTime:ve(ye(a.iat)),expirationTime:ve(ye(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function ye(e){return 1e3*Number(e)}function ge(e){var t=e.split("."),n=Object(g.a)(t,3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return P("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(w.i)(i);return o?JSON.parse(o):(P("Failed to decode base64 JWT payload"),null)}catch(s){return P("Caught error parsing JWT payload as JSON",s),null}}function be(e,t){return ke.apply(this,arguments)}function ke(){return ke=Object(v.a)(u.a.mark((function e(t,n){var r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof w.c&&we(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ke.apply(this,arguments)}function we(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Oe=function(){function e(t){Object(c.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(l.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(v.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),_e=function(){function e(t,n){Object(c.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(l.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ve(this.lastLoginAt),this.creationTime=ve(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function je(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(v.a)(u.a.mark((function e(t){var n,r,i,a,o,s,c,l,f,h,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,be(t,de(r,{idToken:i}));case 6:q(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Se(o.providerUserInfo):[],c=Te(t.providerData,s),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new _e(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(w.u)(t),e.next=3,je(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(b.a)(n),Object(b.a)(t))}function Se(e){return e.map((function(e){var t=e.providerId,n=_(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Ie(e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t,{},(function(){var e=Object(w.N)({grant_type:"refresh_token",refresh_token:n}).slice(1),r=t.config,i=r.tokenApiHost,a=r.apiKey,o=oe(t,i,"/v1/token","key=".concat(a));return Y.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:e})}));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne=function(){function e(){Object(c.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(l.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){q(e.idToken,"internal-error"),q("undefined"!==typeof e.idToken,"internal-error"),q("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ge(e);return q(t,"internal-error"),q("undefined"!==typeof t.exp,"internal-error"),q("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],q(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return z("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(q("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(q("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(q("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Re(e,t){q("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Ae=function(){function e(t){Object(c.a)(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Oe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.metadata=new _e(a.createdAt||void 0,a.lastLoginAt||void 0)}return Object(l.a)(e,[{key:"getIdToken",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(q(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return me.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ee.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,je(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,be(this,ce(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,O=n.providerData,_=n.stsTokenManager;q(b&&_,t,"internal-error");var j=Ne.fromJSON(this.name,_);q("string"===typeof b,t,"internal-error"),Re(f,t.name),Re(h,t.name),q("boolean"===typeof k,t,"internal-error"),q("boolean"===typeof w,t,"internal-error"),Re(d,t.name),Re(p,t.name),Re(v,t.name),Re(m,t.name),Re(y,t.name),Re(g,t.name);var x=new e({uid:b,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:j,createdAt:y,lastLoginAt:g});return O&&Array.isArray(O)&&(x.providerData=O.map((function(e){return Object.assign({},e)}))),m&&(x._redirectEventId=m),x}},{key:"_fromIdTokenResponse",value:function(){var t=Object(v.a)(u.a.mark((function t(n,r){var i,a,o,s=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new Ne).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,je(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Pe=function(){function e(){Object(c.a)(this,e),this.type="NONE",this.storage={}}return Object(l.a)(e,[{key:"_isAvailable",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Pe.type="NONE";var De=Pe;function Me(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Le=function(){function e(t,n,r){Object(c.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Me(this.userKey,a.apiKey,o),this.fullPersistenceKey=Me("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(l.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Ae._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(v.a)(u.a.mark((function t(n,r){var i,a,o,s,c,l,f,h,d,p,m,g=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(W(De),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||W(De),s=Me(i,n.config.apiKey,n.name),c=null,l=Object(y.a)(r),t.prev=10,l.s();case 12:if((f=l.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return p=Ae._fromJSON(n,d),h!==o&&(c=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!c){t.next=44;break}return t.next=44,o._set(s,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Fe(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ve(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ue(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(We(t))return"Blackberry";if(Ke(t))return"Webos";if(qe(t))return"Safari";if((t.includes("chrome/")||ze(t))&&!t.includes("edge/"))return"Chrome";if(Be(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return/firefox\//i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return/crios\//i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return/iemobile/i.test(e)}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return/android/i.test(e)}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return/blackberry/i.test(e)}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return/webos/i.test(e)}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return/iphone|ipad|ipod/i.test(e)}function Ge(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return He(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Qe(){return Object(w.B)()&&10===document.documentMode}function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return He(e)||Be(e)||Ke(e)||We(e)||/windows phone/i.test(e)||Ve(e)}function Ye(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fe(Object(w.v)());break;case"Worker":t="".concat(Fe(Object(w.v)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(O.SDK_VERSION,"/").concat(r)}var Xe=function(){function e(t,n){Object(c.a)(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ze(this),this.idTokenSubscription=new Ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Object(l.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=W(t)),this._initializationPromise=this.queue(Object(v.a)(u.a.mark((function r(){var i,a;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Le.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=10;break}return r.next=10,n._popupRedirectResolver._initialize(n);case 10:return r.next=12,n.initializeCurrentUser(t);case 12:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=15;break}return r.abrupt("return");case 15:n._isInitialized=!0;case 16:case"end":return r.stop()}}),r)})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return q(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(w.u)(t):null)&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&q(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(v.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(W(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new w.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return q(n=t&&W(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Le.create(this,[W(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return q(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ye(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),e}();function Je(e){return Object(w.u)(e)}var Ze=function(){function e(t){var n=this;Object(c.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(w.n)((function(e){return n.observer=e}))}return Object(l.a)(e,[{key:"next",get:function(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function et(e,t,n){var r=Je(e);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=tt(t),o=function(e){var t=tt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:nt(r.substr(a.length+1))}}var o=r.split(":"),s=Object(g.a)(o,2);return{host:s[0],port:nt(s[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function tt(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nt(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var rt=function(){function e(t,n){Object(c.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(l.a)(e,[{key:"toJSON",value:function(){return z("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return z("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return z("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return z("not implemented")}}]),e}();function it(e,t){return at.apply(this,arguments)}function at(){return(at=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:resetPassword",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return st.apply(this,arguments)}function st(){return(st=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPassword",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:sendOobCode",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gt(e,t){return bt.apply(this,arguments)}function bt(){return(bt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e,t){return _t.apply(this,arguments)}function _t(){return(_t=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithEmailLink",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e,t){return xt.apply(this,arguments)}function xt(){return(xt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithEmailLink",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Et=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(c.a)(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Object(l.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",lt(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ot(t,{email:this._email,oobCode:this._password}));case 5:D(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ot(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",jt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:D(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(rt);function Tt(e,t){return St.apply(this,arguments)}function St(){return(St=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithIdp",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(l.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Tt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Tt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Tt(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(w.N)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):D("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=_(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(rt);function Ct(e,t){return Nt.apply(this,arguments)}function Nt(){return(Nt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:sendVerificationCode",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(){return(Rt=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(){return(At=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ue(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pt=Object(k.a)({},"USER_NOT_FOUND","user-not-found");function Dt(){return(Dt=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,r),Pt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Rt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return At.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Dt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(rt);var Lt=function(){function e(t){var n,r,i,a,o,s;Object(c.a)(this,e);var u=Object(w.O)(Object(w.s)(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,f=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);q(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Object(l.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(w.O)(Object(w.s)(e)).link,n=t?Object(w.O)(Object(w.s)(t)).deep_link_id:null,r=Object(w.O)(Object(w.s)(e)).deep_link_id;return(r?Object(w.O)(Object(w.s)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ft=function(){function e(){Object(c.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(l.a)(e,null,[{key:"credential",value:function(e,t){return Et._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Lt.parseLink(t);return q(n,"argument-error"),Et._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ft.PROVIDER_ID="password",Ft.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ft.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ut=function(){function e(t){Object(c.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(l.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),qt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(l.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(b.a)(this.scopes)}}]),n}(Ut),zt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return q(e.idToken||e.accessToken,"argument-error"),It._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return q("providerId"in t&&"signInMethod"in t,"argument-error"),It._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(qt),Vt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"facebook.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e){return It._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(qt);Vt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Vt.PROVIDER_ID="facebook.com";var Bt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(l.a)(n,null,[{key:"credential",value:function(e,t){return It._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(qt);Bt.GOOGLE_SIGN_IN_METHOD="google.com",Bt.PROVIDER_ID="google.com";var Wt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"github.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e){return It._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(qt);Wt.GITHUB_SIGN_IN_METHOD="github.com",Wt.PROVIDER_ID="github.com";var Kt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){var i;return Object(c.a)(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return Tt(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Tt(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Tt(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rt),Ht=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){return Object(c.a)(this,n),q(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Object(l.a)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Kt.fromJSON(e);return q(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Kt._create(r,n)}catch(i){return null}}}]),n}(Ut),Gt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"twitter.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e,t){return It._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(qt);function Qt(e,t){return $t.apply(this,arguments)}function $t(){return($t=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signUp",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Gt.TWITTER_SIGN_IN_METHOD="twitter.com",Gt.PROVIDER_ID="twitter.com";var Yt=function(){function e(t){Object(c.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(l.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(v.a)(u.a.mark((function t(n,r,i){var a,o,s,c,l=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Ae._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Xt(i),c=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(v.a)(u.a.mark((function t(n,r,i){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Xt(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Xt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Jt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(v.a)(u.a.mark((function e(t){var n,r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Yt({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Qt(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Yt._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var en=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i,a){var o,s;return Object(c.a)(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Object(m.a)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Object(l.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(w.c);function tn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw en._fromErrorAndOperation(e,n,t,r);throw n}))}function nn(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function rn(e,t){return an.apply(this,arguments)}function an(){return(an=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.u)(t),e.next=3,un(!0,r,n);case 3:return e.t0=fe,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=nn(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e,t){return sn.apply(this,arguments)}function sn(){return sn=Object(v.a)(u.a.mark((function e(t,n){var r,i,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=be,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Yt._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),sn.apply(this,arguments)}function un(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(n);case 2:i=nn(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",q(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return fn=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o,s,c,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,be(t,tn(i,a,n,t),r);case 6:return q((o=e.sent).idToken,i,"internal-error"),q(s=ge(o.idToken),i,"internal-error"),c=s.sub,q(t.uid===c,i,"user-mismatch"),e.abrupt("return",Yt._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&D(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),fn.apply(this,arguments)}function hn(e,t){return dn.apply(this,arguments)}function dn(){return dn=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,tn(t,i,n);case 4:return a=e.sent,e.next=7,Yt._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),dn.apply(this,arguments)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(Je(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(v.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.u)(t),e.next=3,un(!1,r,n.providerId);case 3:return e.abrupt("return",on(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e,t){return bn.apply(this,arguments)}function bn(){return(bn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(Object(w.u)(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"POST","/v1/accounts:signInWithCustomToken",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t){return _n.apply(this,arguments)}function _n(){return(_n=Object(v.a)(u.a.mark((function e(t,n){var r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je(t),e.next=3,kn(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Yt._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jn=function(){function e(t,n){Object(c.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(l.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?xn._fromServerResponse(e,t):D(e,"internal-error")}}]),e}(),xn=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Object(l.a)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(jn);function En(e,t,n){var r;q((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),q("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(q(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(q(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Tn(e,t,n){return Sn.apply(this,arguments)}function Sn(){return(Sn=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.u)(t),a={requestType:"PASSWORD_RESET",email:n},r&&En(i,a,r),e.next=5,mt(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e,t,n){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(v.a)(u.a.mark((function e(t,n,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,it(Object(w.u)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nn(e,t){return Rn.apply(this,arguments)}function Rn(){return(Rn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut(Object(w.u)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function An(e,t){return Pn.apply(this,arguments)}function Pn(){return(Pn=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.u)(t),e.next=3,it(r,{oobCode:n});case 3:i=e.sent,q(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return q(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:q(i.mfaInfo,r,"internal-error");case 13:q(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=jn._fromServerResponse(Je(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e,t){return Mn.apply(this,arguments)}function Mn(){return(Mn=Object(v.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(Object(w.u)(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ln(e,t,n){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),e.next=3,Qt(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Yt._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e,t,n){return pn(Object(w.u)(e),Ft.credential(t,n))}function qn(e,t,n){return zn.apply(this,arguments)}function zn(){return(zn=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.u)(t),a={requestType:"EMAIL_SIGNIN",email:n},q(r.handleCodeInApp,i,"argument-error"),r&&En(i,a,r),e.next=6,gt(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e,t){var n=Lt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function Bn(e,t,n){return Wn.apply(this,arguments)}function Wn(){return(Wn=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.u)(t),q((a=Ft.credentialWithLink(n,r||K()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",pn(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kn(e,t){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:createAuthUri",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(e,t){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H()?K():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Kn(Object(w.u)(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $n(e,t){return Yn.apply(this,arguments)}function Yn(){return(Yn=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.u)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&En(r.auth,a,n),e.next=8,pt(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xn(e,t,n){return Jn.apply(this,arguments)}function Jn(){return(Jn=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.u)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&En(i.auth,o,r),e.next=8,kt(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e,t){return er.apply(this,arguments)}function er(){return(er=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e,t){return nr.apply(this,arguments)}function nr(){return(nr=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Object(w.u)(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,be(a,Zn(a.auth,s));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(e,t){return ar(Object(w.u)(e),t,null)}function ir(e,t){return ar(Object(w.u)(e),null,t)}function ar(e,t,n){return or.apply(this,arguments)}function or(){return(or=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,be(t,ot(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sr=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},ur=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i,a){var o;return Object(c.a)(this,n),(o=t.call(this,e,r,i)).username=a,o}return n}(sr),cr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"facebook.com",r)}return n}(sr),lr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return n}(ur),fr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"google.com",r)}return n}(sr),hr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i){return Object(c.a)(this,n),t.call(this,e,"twitter.com",r,i)}return n}(ur);function dr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ge(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new sr(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new cr(a,i);case"github.com":return new lr(a,i);case"google.com":return new fr(a,i);case"twitter.com":return new hr(a,i,e.screenName||null);case"custom":case"anonymous":return new sr(a,null);default:return new sr(a,r,i)}}(n)}var pr=function(){function e(t,n){Object(c.a)(this,e),this.type=t,this.credential=n}return Object(l.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(k.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),vr=function(){function e(t,n,r){Object(c.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(l.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Je(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return jn._fromServerResponse(r,e)}));q(i.mfaPendingCredential,r,"internal-error");var o=pr._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Object(v.a)(u.a.mark((function e(t){var a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Yt._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return q(n.user,r,"internal-error"),e.abrupt("return",Yt._forOperation(n.user,n.operationType,s));case 17:D(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function mr(e,t){var n,r=Object(w.u)(e),i=t;return q(t.customData.operationType,r,"argument-error"),q(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vr._fromError(r,i)}function yr(e,t){return ee(e,"POST","/v2/accounts/mfaEnrollment:start",Z(e,t))}var gr=function(){function e(t){var n=this;Object(c.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return jn._fromServerResponse(t.auth,e)})))}))}return Object(l.a)(e,[{key:"getSession",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=pr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,be(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,be(this.user,ee(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Z(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),br=new WeakMap;function kr(e){var t=Object(w.u)(e);return br.has(t)||br.set(t,gr._fromUser(t)),br.get(t)}var wr="__sak",Or=function(){function e(t,n){Object(c.a)(this,e),this.storageRetriever=t,this.type=n}return Object(l.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(wr,"1"),this.storage.removeItem(wr),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var _r=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(w.v)();return qe(e)||He(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=$e(),e._shouldAllowMigration=!0,e}return Object(l.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Qe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Or);_r.type="LOCAL";var jr=_r,xr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Object(l.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Or);xr.type="SESSION";var Er=xr;function Tr(e){return Promise.all(e.map(function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Sr=function(){function e(t){Object(c.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(l.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i,a,o,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),c=Array.from(s).map(function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Tr(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ir(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Sr.receivers=[];var Cr=function(){function e(t){Object(c.a)(this,e),this.target=t,this.handlers=new Set}return Object(l.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o,s=this,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Ir("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Nr(){return window}function Rr(){return"undefined"!==typeof Nr().WorkerGlobalScope&&"function"===typeof Nr().importScripts}function Ar(){return Pr.apply(this,arguments)}function Pr(){return(Pr=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Dr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Mr="firebaseLocalStorageDb",Lr="firebaseLocalStorage",Fr="fbase_key",Ur=function(){function e(t){Object(c.a)(this,e),this.request=t}return Object(l.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function qr(e,t){return e.transaction([Lr],t?"readwrite":"readonly").objectStore(Lr)}function zr(){var e=indexedDB.deleteDatabase(Mr);return new Ur(e).toPromise()}function Vr(){var e=indexedDB.open(Mr,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Lr,{keyPath:Fr})}catch(r){n(r)}})),e.addEventListener("success",Object(v.a)(u.a.mark((function n(){var r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Lr)){n.next=12;break}return r.close(),n.next=5,zr();case 5:return n.t0=t,n.next=8,Vr();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Br(e,t,n){return Wr.apply(this,arguments)}function Wr(){return(Wr=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qr(t,!0).put((i={},Object(k.a)(i,Fr,n),Object(k.a)(i,"value",r),i)),e.abrupt("return",new Ur(a).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kr(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=Object(v.a)(u.a.mark((function e(t,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qr(t,!1).get(n),e.next=3,new Ur(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gr(e,t){var n=qr(e,!0).delete(t);return new Ur(n).toPromise()}var Qr=function(){function e(){Object(c.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Object(l.a)(e,[{key:"_openDb",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Vr();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Sr._getInstance(Rr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(v.a)(u.a.mark((function e(n,r){var i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Cr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Dr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Vr();case 5:return t=e.sent,e.next=8,Br(t,wr,"1");case 8:return e.next=10,Gr(t,wr);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n){var r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Br(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Kr(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Gr(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n,r,i,a,o,s,c,l,f,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=qr(e,!1).getAll();return new Ur(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Object(y.a)(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,c=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(u){i.e(u)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(v.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Qr.type="LOCAL";var $r=Qr;function Yr(e,t){return ee(e,"POST","/v2/accounts/mfaSignIn:start",Z(e,t))}function Xr(e){return Jr.apply(this,arguments)}function Jr(){return(Jr=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zr(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=M("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ei(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var ti=1e12,ni=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.counter=ti,this._widgets=new Map}return Object(l.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new ri(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ti;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ti;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ti,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ri=function(){function e(t,n,r){var i=this;Object(c.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;q(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(l.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ii=ei("rcb"),ai=new Q(3e4,6e4),oi="https://www.google.com/recaptcha/api.js?",si=function(){function e(){Object(c.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nr().grecaptcha}return Object(l.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return q(ui(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Nr().grecaptcha):new Promise((function(r,i){var a=Nr().setTimeout((function(){i(M(e,"network-request-failed"))}),ai.get());Nr()[ii]=function(){Nr().clearTimeout(a),delete Nr()[ii];var o=Nr().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(M(e,"internal-error"))},Zr("".concat(oi,"?").concat(Object(w.N)({onload:ii,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(M(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Nr().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ui(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ci=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"load",value:function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new ni(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),li="recaptcha",fi={theme:"light",type:"image"},hi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},fi),r=arguments.length>2?arguments[2]:void 0;Object(c.a)(this,e),this.parameters=n,this.type=li,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Je(r),this.isInvisible="invisible"===this.parameters.size,q("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;q(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ci:new si,this.validateStartingState()}return Object(l.a)(e,[{key:"verify",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n,r,i=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){q(!this.parameters.sitekey,this.auth,"argument-error"),q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),q("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Nr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){q(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(H()&&!Rr(),this.auth,"internal-error"),e.next=3,di();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Xr(this.auth);case 8:q(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function di(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var pi=function(){function e(t,n){Object(c.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(l.a)(e,[{key:"confirm",value:function(e){var t=Mt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function vi(e,t,n){return mi.apply(this,arguments)}function mi(){return(mi=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),e.next=3,wi(i,n,Object(w.u)(r));case 3:return a=e.sent,e.abrupt("return",new pi(a,(function(e){return pn(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e,t,n){return gi.apply(this,arguments)}function gi(){return(gi=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.u)(t),e.next=3,un(!1,i,"phone");case 3:return e.next=5,wi(i.auth,n,Object(w.u)(r));case 5:return a=e.sent,e.abrupt("return",new pi(a,(function(e){return mn(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bi(e,t,n){return ki.apply(this,arguments)}function ki(){return(ki=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(w.u)(t),e.next=3,wi(i.auth,n,Object(w.u)(r));case 3:return a=e.sent,e.abrupt("return",new pi(a,(function(e){return gn(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wi(e,t,n){return Oi.apply(this,arguments)}function Oi(){return(Oi=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,q("string"===typeof a,t,"argument-error"),q(r.type===li,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return q("enroll"===s.type,t,"internal-error"),e.next=13,yr(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return q("signin"===s.type,t,"internal-error"),q(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Yr(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ct(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function _i(e,t){return ji.apply(this,arguments)}function ji(){return(ji=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(Object(w.u)(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xi=function(){function e(t){Object(c.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Je(t)}return Object(l.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return wi(this.auth,e,Object(w.u)(t))}}],[{key:"credential",value:function(e,t){return Mt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Mt._fromTokenResponse(n,r):null}}]),e}();function Ei(e,t){return t?W(t):(q(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}xi.PROVIDER_ID="phone",xi.PHONE_SIGN_IN_METHOD="phone";var Ti=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return Tt(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Tt(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Tt(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(rt);function Si(e){return hn(e.auth,new Ti(e),e.bypassAuthState)}function Ii(e){var t=e.auth,n=e.user;return q(n,t,"internal-error"),ln(n,new Ti(e),e.bypassAuthState)}function Ci(e){return Ni.apply(this,arguments)}function Ni(){return(Ni=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,q(r=t.user,n,"internal-error"),e.abrupt("return",on(r,new Ti(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ri=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(c.a)(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(l.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(v.a)(u.a.mark((function t(n,r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r,i,a,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Si;case"linkViaPopup":case"linkViaRedirect":return Ci;case"reauthViaPopup":case"reauthViaRedirect":return Ii;default:D(this.auth,"internal-error")}}},{key:"resolve",value:function(e){V(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){V(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ai=new Q(2e3,1e4);function Pi(e,t,n){return Di.apply(this,arguments)}function Di(){return(Di=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),F(t,n,Ut),a=Ei(i,r),o=new qi(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mi(e,t,n){return Li.apply(this,arguments)}function Li(){return(Li=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((i=Object(w.u)(t)).auth,n,Ut),a=Ei(i.auth,r),o=new qi(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fi(e,t,n){return Ui.apply(this,arguments)}function Ui(){return(Ui=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((i=Object(w.u)(t)).auth,n,Ut),a=Ei(i.auth,r),o=new qi(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qi=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,i,a,o){var s;return Object(c.a)(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(m.a)(s),s}return Object(l.a)(n,[{key:"executeNotNull",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return q(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(1===this.filter.length,"Popup operations only handle one event"),t=Ir(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(M(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(M(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(M(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ai.get())}()}}]),n}(Ri);qi.currentPopupAction=null;var zi=new Map,Vi=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(c.a)(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Object(l.a)(n,[{key:"execute",value:function(){var e=Object(v.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=zi.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Bi(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(f.a)(Object(h.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:zi.set(this.auth._key(),t);case 21:return this.bypassAuthState||zi.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(f.a)(Object(h.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(f.a)(Object(h.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ri);function Bi(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=Object(v.a)(u.a.mark((function e(t,n){var r,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qi(n),i=Gi(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ki(e,t){return Hi.apply(this,arguments)}function Hi(){return(Hi=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gi(t)._set(Qi(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gi(e){return W(e._redirectPersistence)}function Qi(e){return Me("pendingRedirect",e.config.apiKey,e.name)}function $i(e,t,n){return function(e,t,n){return Yi.apply(this,arguments)}(e,t,n)}function Yi(){return(Yi=Object(v.a)(u.a.mark((function e(t,n,r){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Je(t),F(t,n,Ut),a=Ei(i,r),e.next=5,Ki(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xi(e,t,n){return function(e,t,n){return Ji.apply(this,arguments)}(e,t,n)}function Ji(){return(Ji=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((i=Object(w.u)(t)).auth,n,Ut),a=Ei(i.auth,r),e.next=5,Ki(a,i.auth);case 5:return e.next=7,aa(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zi(e,t,n){return function(e,t,n){return ea.apply(this,arguments)}(e,t,n)}function ea(){return(ea=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((i=Object(w.u)(t)).auth,n,Ut),a=Ei(i.auth,r),e.next=5,un(!1,i,n.providerId);case 5:return e.next=7,Ki(a,i.auth);case 7:return e.next=9,aa(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ta(e,t){return na.apply(this,arguments)}function na(){return(na=Object(v.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je(t)._initializationPromise;case 2:return e.abrupt("return",ra(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=Object(v.a)(u.a.mark((function e(t,n){var r,i,a,o,s,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=Je(t),a=Ei(i,n),o=new Vi(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e){return oa.apply(this,arguments)}function oa(){return(oa=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ir("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sa=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(l.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ca(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(M(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ua(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ua(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ca(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function la(e){return fa.apply(this,arguments)}function fa(){return fa=Object(v.a)(u.a.mark((function e(t){var n,r=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ee(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}var ha=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,da=/^https?/;function pa(){return(pa=Object(v.a)(u.a.mark((function e(t){var n,r,i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,la(t);case 4:n=e.sent,r=n.authorizedDomains,i=Object(y.a)(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!va(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:D(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function va(e){var t=K(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!da.test(r))return!1;if(ha.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ma=new Q(3e4,6e4);function ya(){var e=Nr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(b.a)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ga=null;function ba(e){return ga=ga||function(e){return new Promise((function(t,n){var r,i,a;function o(){ya(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){ya(),n(M(e,"network-request-failed"))},timeout:ma.get()})}if(null===(i=null===(r=Nr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Nr().gapi)||void 0===a?void 0:a.load)){var s=ei("iframefcb");return Nr()[s]=function(){gapi.load?o():n(M(e,"network-request-failed"))},Zr("https://apis.google.com/js/api.js?onload=".concat(s))}o()}})).catch((function(e){throw ga=null,e}))}(e),ga}var ka=new Q(5e3,15e3),wa={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Oa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _a(e){var t=e.config;q(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?$(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:O.SDK_VERSION},i=Oa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Object(w.N)(r).slice(1))}function ja(e){return xa.apply(this,arguments)}function xa(){return xa=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(t);case 2:return n=e.sent,q(r=Nr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:_a(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wa,dontclear:!0},(function(e){return new Promise(function(){var n=Object(v.a)(u.a.mark((function n(r,i){var a,o,s;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Nr().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=M(t,"network-request-failed"),o=Nr().setTimeout((function(){i(a)}),ka.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}var Ea={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ta="_blank",Sa="http://localhost",Ia=function(){function e(t){Object(c.a)(this,e),this.window=t,this.associatedEvent=null}return Object(l.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Ca(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Ea),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Object(w.v)().toLowerCase();n&&(s=ze(c)?Ta:n),Ue(c)&&(t=t||Sa,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=Object(g.a)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ge(c)&&"_self"!==s)return Na(t||"",s),new Ia(null);var f=window.open(t||"",s,l);q(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Ia(f)}function Na(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Ra="__/auth/handler",Aa="emulator/auth/handler";function Pa(e,t,n,r,i,a){q(e.config.authDomain,e,"auth-domain-config-required"),q(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:O.SDK_VERSION,eventId:i};if(t instanceof Ut){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(w.A)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=Object(g.a)(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof qt){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ra);return $(t,Aa)}(e),"?").concat(Object(w.N)(d).slice(1))}var Da="webStorageSupport",Ma=function(){function e(){Object(c.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Er,this._completeRedirectFn=ra}return Object(l.a)(e,[{key:"_openPopup",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n,r,i){var a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Pa(t,n,r,K(),i),e.abrupt("return",Ca(t,o,Ir()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n,r,i){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Pa(t,n,r,K(),i),Nr().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=e._key();if(this.eventManagers[t]){var n=this.eventManagers[t],r=n.manager,i=n.promise;return r?Promise.resolve(r):(V(i,"If manager is not set, promise should be"),i)}var a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a}},{key:"initAndGetManager",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ja(t);case 2:return n=e.sent,r=new sa(t),n.register("authEvent",(function(e){return q(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Da,{type:Da},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),D(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return pa.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return $e()||qe()||He()}}]),e}(),La=Ma,Fa=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(l.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ee(e,"POST","/v2/accounts/mfaEnrollment:finalize",Z(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ee(e,"POST","/v2/accounts/mfaSignIn:finalize",Z(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Object(c.a)(this,e),this.factorId=t}return Object(l.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return z("unexpected MultiFactorSessionType")}}}]),e}()),Ua=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"assertion",value:function(e){return Fa._fromCredential(e)}}]),e}();Ua.FACTOR_ID="phone";var qa,za="@firebase/auth",Va="0.19.2",Ba=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(l.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Wa(){return window}qa="Browser",Object(O._registerComponent)(new E.a("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){q(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),q(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:qa,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ye(qa)},r=new Xe(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(W);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Object(O._registerComponent)(new E.a("auth-internal",(function(e){return function(e){return new Ba(e)}(Je(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(O.registerVersion)(za,Va,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(qa)),Object(O.registerVersion)(za,Va,"esm2017");function Ka(e,t,n){return Ha.apply(this,arguments)}function Ha(){return(Ha=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wa(),o=a.BuildInfo,V(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Ja(n.sessionId);case 4:return s=e.sent,c={},He()?c.ibi=o.packageName:Be()?c.apn=o.packageName:D(t,"operation-not-supported-in-this-environment"),o.displayName&&(c.appDisplayName=o.displayName),c.sessionId=s,e.abrupt("return",Pa(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ga(){return(Ga=Object(v.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wa(),r=n.BuildInfo,i={},He()?i.iosBundleId=r.packageName:Be()?i.androidPackageName=r.packageName:D(t,"operation-not-supported-in-this-environment"),e.next=5,la(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e){var t=Wa().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.v)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function $a(e,t,n){return Ya.apply(this,arguments)}function Ya(){return(Ya=Object(v.a)(u.a.mark((function e(t,n,r){var i,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wa(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(M(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Be()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Xa(e){var t,n,r,i,a,o,s,u,c,l,f=Wa();q("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),q("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),q("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),q("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Ja(e){return Za.apply(this,arguments)}function Za(){return(Za=Object(v.a)(u.a.mark((function e(t){var n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=eo(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eo(e){if(V(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var to=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Object(l.a)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Object(f.a)(Object(h.a)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(v.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(sa);function no(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:so(),postBody:null,tenantId:e.tenantId,error:M(e,"no-auth-event")}}function ro(e,t){return uo()._set(co(e),t)}function io(e){return ao.apply(this,arguments)}function ao(){return(ao=Object(v.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo()._get(co(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,uo()._remove(co(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oo(e,t){var n,r,i=function(e){var t=lo(e),n=t.link?decodeURIComponent(t.link):void 0,r=lo(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return lo(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=lo(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?M(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function so(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function uo(){return W(jr)}function co(e){return Me("authEvent",e.config.apiKey,e.name)}function lo(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),s=(t=n,Object(r.a)(t)||Object(i.a)(t)||Object(a.a)(t)||Object(o.a)()),u=(s[0],s.slice(1));return Object(w.O)(u.join("?"))}var fo=function(){function e(){Object(c.a)(this,e),this._redirectPersistence=Er,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ra}return Object(l.a)(e,[{key:"_initialize",value:function(){var e=Object(v.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new to(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){D(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(v.a)(u.a.mark((function e(t,n,r,i){var a,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xa(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),zi.clear(),e.next=10,this._originValidation(t);case 10:return o=no(t,r,i),e.next=13,ro(t,o);case 13:return e.next=15,Ka(t,o,n);case 15:return s=e.sent,e.next=18,Qa(s);case 18:return c=e.sent,e.abrupt("return",$a(t,a,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ga.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Wa(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Object(v.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,io(e);case 2:t.onEvent(po());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Object(v.a)(u.a.mark((function n(r){var i,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,io(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=oo(i,r.url)),t.onEvent(a||po());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var c=i,l="".concat(a.packageName.toLowerCase(),"://");Wa().handleOpenURL=function(){var e=Object(v.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&s({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ho=fo;function po(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:M("no-auth-event")}}function vo(e,t){Je(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return kl})),n.d(t,"b",(function(){return mc})),n.d(t,"c",(function(){return tc})),n.d(t,"d",(function(){return Wu})),n.d(t,"e",(function(){return $c})),n.d(t,"f",(function(){return vc})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return gc})),n.d(t,"i",(function(){return Yc})),n.d(t,"j",(function(){return Xc})),n.d(t,"k",(function(){return X})),n.d(t,"l",(function(){return _l})),n.d(t,"m",(function(){return Ru})),n.d(t,"n",(function(){return be})),n.d(t,"o",(function(){return ae})),n.d(t,"p",(function(){return Uu})),n.d(t,"q",(function(){return P})),n.d(t,"r",(function(){return se})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return Du})),n.d(t,"u",(function(){return Dl})),n.d(t,"v",(function(){return Kl})),n.d(t,"w",(function(){return Wl})),n.d(t,"x",(function(){return uc})),n.d(t,"y",(function(){return Gu})),n.d(t,"z",(function(){return Qu})),n.d(t,"A",(function(){return Bu})),n.d(t,"B",(function(){return Pl})),n.d(t,"C",(function(){return Vl})),n.d(t,"D",(function(){return fc})),n.d(t,"E",(function(){return $u})),n.d(t,"F",(function(){return ac})),n.d(t,"G",(function(){return oc})),n.d(t,"H",(function(){return lc})),n.d(t,"I",(function(){return vl})),n.d(t,"J",(function(){return pl})),n.d(t,"K",(function(){return rc})),n.d(t,"L",(function(){return Fl})),n.d(t,"M",(function(){return xl})),n.d(t,"N",(function(){return Tl})),n.d(t,"O",(function(){return Sl})),n.d(t,"P",(function(){return Il})),n.d(t,"Q",(function(){return Cl})),n.d(t,"R",(function(){return Nl})),n.d(t,"S",(function(){return Hl})),n.d(t,"T",(function(){return ul})),n.d(t,"U",(function(){return cl})),n.d(t,"V",(function(){return hc})),n.d(t,"W",(function(){return dc})),n.d(t,"X",(function(){return Ml})),n.d(t,"Y",(function(){return Ll})),n.d(t,"Z",(function(){return ol})),n.d(t,"ab",(function(){return nl})),n.d(t,"bb",(function(){return Xu})),n.d(t,"cb",(function(){return Yu})),n.d(t,"db",(function(){return zl})),n.d(t,"eb",(function(){return Bl})),n.d(t,"fb",(function(){return Rl})),n.d(t,"gb",(function(){return T})),n.d(t,"hb",(function(){return Zc})),n.d(t,"ib",(function(){return hl})),n.d(t,"jb",(function(){return fl})),n.d(t,"kb",(function(){return Al})),n.d(t,"lb",(function(){return cc})),n.d(t,"mb",(function(){return il}));var r=n(53),i=n(32),a=n(30),o=n(16),s=n(9),u=n(0),c=n.n(u),l=n(3),f=n(10),h=n(11),d=n(70),p=n(21),v=n(2),m=n(4),y=n(12),g=n(20),b=n(28),k=n(1),w=n(35),O="@firebase/firestore",_=function(){function e(t){Object(v.a)(this,e),this.uid=t}return Object(m.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();_.UNAUTHENTICATED=new _(null),_.GOOGLE_CREDENTIALS=new _("google-credentials-uid"),_.FIRST_PARTY=new _("first-party-uid"),_.MOCK_USER=new _("mock-user");var j="9.4.0",x=new b.b("@firebase/firestore");function E(){return x.logLevel}function T(e){x.setLogLevel(e)}function S(e){if(x.logLevel<=b.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(N);x.debug.apply(x,["Firestore (".concat(j,"): ").concat(e)].concat(Object(p.a)(i)))}}function I(e){if(x.logLevel<=b.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(N);x.error.apply(x,["Firestore (".concat(j,"): ").concat(e)].concat(Object(p.a)(i)))}}function C(e){if(x.logLevel<=b.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(N);x.warn.apply(x,["Firestore (".concat(j,"): ").concat(e)].concat(Object(p.a)(i)))}}function N(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(j,") INTERNAL ASSERTION FAILED: ")+e;throw I(t),new Error(t)}function A(e,t){e||R()}function P(e,t){e||R()}function D(e,t){return e}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,r)).code=e,i.message=r,i.name="FirebaseError",i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return n}(Object(d.a)(Error)),F=function e(){var t=this;Object(v.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},U=function e(t,n){Object(v.a)(this,e),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(t)},q=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),z=function(){function e(t){Object(v.a)(this,e),this.token=t,this.changeListener=null}return Object(m.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),V=function(){function e(t){Object(v.a)(this,e),this.t=t,this.currentUser=_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(m.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new F;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new F,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){S("FirebaseCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(S("FirebaseCredentialsProvider","Auth not yet detected"),a.resolve(),a=new F)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(S("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(A("string"==typeof n.accessToken),new U(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return A(null===e||"string"==typeof e),new _(e)}}]),e}(),B=function(){function e(t,n,r){Object(v.a)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=_.FIRST_PARTY}return Object(m.a)(e,[{key:"authHeaders",get:function(){var e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}]),e}(),W=function(){function e(t,n,r){Object(v.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(m.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new B(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(_.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),K=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.g(e)},this.p=function(e){return n.writeSequenceNumber(e)})}return Object(m.a)(e,[{key:"g",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.p&&this.p(e),e}}]),e}();function H(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}K.T=-1;var G=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=H(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Q(e,t){return e<t?-1:e>t?1:0}function $(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Y(e){return e+"\0"}var X=function(){function e(t,n){if(Object(v.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(m.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),J=function(){function e(t){Object(v.a)(this,e),this.timestamp=t}return Object(m.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new X(0,0))}}]),e}();function Z(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ee(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function te(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ne=function(){function e(t,n,r){Object(v.a)(this,e),void 0===n?n=0:n>t.length&&R(),void 0===r?r=t.length-n:r>t.length-n&&R(),this.segments=t,this.offset=n,this.len=r}return Object(m.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),re=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Object(p.a)(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ne),ie=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ae=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ie.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new L(M.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ne),oe=function(){function e(t){Object(v.a)(this,e),this.fields=t,t.sort(ae.comparator)}return Object(m.a)(e,[{key:"covers",value:function(e){var t,n=Object(s.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();function se(){return"undefined"!=typeof atob}var ue=function(){function e(t){Object(v.a)(this,e),this.binaryString=t}return Object(m.a)(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Q(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}]),e}();ue.EMPTY_BYTE_STRING=new ue("");var ce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function le(e){if(A(!!e),"string"==typeof e){var t=0,n=ce.exec(e);if(A(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:fe(e.seconds),nanos:fe(e.nanos)}}function fe(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function he(e){return"string"==typeof e?ue.fromBase64String(e):ue.fromUint8Array(e)}function de(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pe(e){var t=e.mapValue.fields.__previous_value__;return de(t)?pe(t):t}function ve(e){var t=le(e.mapValue.fields.__local_write_time__.timestampValue);return new X(t.seconds,t.nanos)}function me(e){return null==e}function ye(e){return 0===e&&1/e==-1/0}function ge(e){return"number"==typeof e&&Number.isInteger(e)&&!ye(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var be=function(){function e(t){Object(v.a)(this,e),this.path=t}return Object(m.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===re.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(re.fromString(t))}},{key:"fromName",value:function(t){return new e(re.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return re.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new re(t.slice()))}}]),e}();function ke(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?de(e)?4:10:R()}function we(e,t){var n=ke(e);if(n!==ke(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ve(e).isEqual(ve(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=le(e.timestampValue),r=le(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return he(e.bytesValue).isEqual(he(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fe(e.geoPointValue.latitude)===fe(t.geoPointValue.latitude)&&fe(e.geoPointValue.longitude)===fe(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fe(e.integerValue)===fe(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fe(e.doubleValue),r=fe(t.doubleValue);return n===r?ye(n)===ye(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $(e.arrayValue.values||[],t.arrayValue.values||[],we);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Z(n)!==Z(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!we(n[i],r[i])))return!1;return!0}(e,t);default:return R()}}function Oe(e,t){return void 0!==(e.values||[]).find((function(e){return we(e,t)}))}function _e(e,t){var n=ke(e),r=ke(t);if(n!==r)return Q(n,r);switch(n){case 0:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fe(e.integerValue||e.doubleValue),r=fe(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return je(e.timestampValue,t.timestampValue);case 4:return je(ve(e),ve(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){var n=he(e),r=he(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Q(n[i],r[i]);if(0!==a)return a}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Q(fe(e.latitude),fe(t.latitude));return 0!==n?n:Q(fe(e.longitude),fe(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=_e(n[i],r[i]);if(a)return a}return Q(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Q(r[o],a[o]);if(0!==s)return s;var u=_e(n[r[o]],i[a[o]]);if(0!==u)return u}return Q(r.length,a.length)}(e.mapValue,t.mapValue);default:throw R()}}function je(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);var n=le(e),r=le(t),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function xe(e){return Ee(e)}function Ee(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=le(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?he(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,be.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Object(s.a)(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ee(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n=Object.keys(e.fields||{}).sort(),r="{",i=!0,a=Object(s.a)(n);try{for(a.s();!(t=a.n()).done;){var o=t.value;i?i=!1:r+=",",r+="".concat(o,":").concat(Ee(e.fields[o]))}}catch(u){a.e(u)}finally{a.f()}return r+"}"}(e.mapValue):R();var t,n}function Te(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Se(e){return!!e&&"integerValue"in e}function Ie(e){return!!e&&"arrayValue"in e}function Ce(e){return!!e&&"nullValue"in e}function Ne(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Re(e){return!!e&&"mapValue"in e}function Ae(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ee(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ae(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ae(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Pe=function(){function e(t){Object(v.a)(this,e),this.value=t}return Object(m.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Re(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ae(t)}},{key:"setAll",value:function(e){var t=this,n=ae.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ae(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Re(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return we(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Re(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ee(t,(function(t,n){return e[t]=n}));var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ae(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function De(e){var t=[];return ee(e.fields,(function(e,n){var r=new ae([e]);if(Re(n)){var i=De(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Object(s.a)(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new oe(t)}var Me=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Object(m.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Pe.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Pe.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,J.min(),Pe.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Pe.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Pe.empty(),2)}}]),e}(),Le=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(v.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.A=null};function Fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Le(e,t,n,r,i,a,o)}function Ue(e){var t=D(e);if(null===t.A){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+xe(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),me(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Je(t.startAt)),t.endAt&&(n+="|ub:",n+=Je(t.endAt)),t.A=n}return t.A}function qe(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!et(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!we(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nt(e.startAt,t.startAt)&&nt(e.endAt,t.endAt)}function ze(e){return be.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ve=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Object(m.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(_e(t,this.value)):null!==t&&ke(this.value)===ke(t)&&this.P(_e(t,this.value))}},{key:"P",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return R()}}},{key:"v",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new Be(e,t,r):"array-contains"===t?new Ge(e,r):"in"===t?new Qe(e,r):"not-in"===t?new $e(e,r):"array-contains-any"===t?new Ye(e,r):new n(e,t,r)}},{key:"R",value:function(e,t,n){return"in"===t?new We(e,n):new Ke(e,n)}}]),n}(function(){return function e(){Object(v.a)(this,e)}}());var Be=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this,e,r,i)).key=be.fromName(i.referenceValue),a}return Object(m.a)(n,[{key:"matches",value:function(e){var t=be.comparator(e.key,this.key);return this.P(t)}}]),n}(Ve),We=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,"in",r)).keys=He("in",r),i}return Object(m.a)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ve),Ke=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,"not-in",r)).keys=He("not-in",r),i}return Object(m.a)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ve);function He(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return be.fromName(e.referenceValue)}))}var Ge=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"array-contains",r)}return Object(m.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ie(t)&&Oe(t.arrayValue,this.value)}}]),n}(Ve),Qe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"in",r)}return Object(m.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Oe(this.value.arrayValue,t)}}]),n}(Ve),$e=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"not-in",r)}return Object(m.a)(n,[{key:"matches",value:function(e){if(Oe(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Oe(this.value.arrayValue,t)}}]),n}(Ve),Ye=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(m.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ie(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Oe(t.value.arrayValue,e)}))}}]),n}(Ve),Xe=function e(t,n){Object(v.a)(this,e),this.position=t,this.before=n};function Je(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return xe(e)})).join(","))}var Ze=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(v.a)(this,e),this.field=t,this.dir=n};function et(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function tt(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?be.comparator(be.fromName(o.referenceValue),n.key):_e(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function nt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!we(e.position[n],t.position[n]))return!1;return!0}var rt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(v.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.V=null,this.S=null,this.startAt,this.endAt};function it(e,t,n,r,i,a,o,s){return new rt(e,t,n,r,i,a,o,s)}function at(e){return new rt(e)}function ot(e){return!me(e.limit)&&"F"===e.limitType}function st(e){return!me(e.limit)&&"L"===e.limitType}function ut(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ct(e){var t,n=Object(s.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.v())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function lt(e){return null!==e.collectionGroup}function ft(e){var t=D(e);if(null===t.V){t.V=[];var n=ct(t),r=ut(t);if(null!==n&&null===r)n.isKeyField()||t.V.push(new Ze(n)),t.V.push(new Ze(ae.keyField(),"asc"));else{var i,a=!1,o=Object(s.a)(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.V.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Ze(ae.keyField(),c))}}}return t.V}function ht(e){var t=D(e);if(!t.S)if("F"===t.limitType)t.S=Fe(t.path,t.collectionGroup,ft(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Object(s.a)(ft(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Ze(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new Xe(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Xe(t.startAt.position,!t.startAt.before):null;t.S=Fe(t.path,t.collectionGroup,r,t.filters,t.limit,u,c)}return t.S}function dt(e,t,n){return new rt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function pt(e,t){return qe(ht(e),ht(t))&&e.limitType===t.limitType}function vt(e){return"".concat(Ue(ht(e)),"|lt:").concat(e.limitType)}function mt(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(xe(t.value));var t})).join(", "),"]")),me(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+Je(e.startAt)),e.endAt&&(t+=", endAt: "+Je(e.endAt)),"Target(".concat(t,")")}(ht(e)),"; limitType=").concat(e.limitType,")")}function yt(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):be.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(s.a)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(s.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!tt(e.startAt,ft(e),t))&&(!e.endAt||!tt(e.endAt,ft(e),t))}(e,t)}function gt(e){return function(t,n){var r,i=!1,a=Object(s.a)(ft(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=bt(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(c){a.e(c)}finally{a.f()}return 0}}function bt(e,t,n){var r=e.field.isKeyField()?be.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_e(r,i):R()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function kt(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(t)?"-0":t}}function wt(e){return{integerValue:""+e}}function Ot(e,t){return ge(t)?wt(t):kt(e,t)}var _t=function e(){Object(v.a)(this,e),this._=void 0};function jt(e,t,n){return e instanceof Tt?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof St?It(e,t):e instanceof Ct?Nt(e,t):function(e,t){var n=Et(e,t),r=At(n)+At(e.C);return Se(n)&&Se(e.C)?wt(r):kt(e.N,r)}(e,t)}function xt(e,t,n){return e instanceof St?It(e,t):e instanceof Ct?Nt(e,t):n}function Et(e,t){return e instanceof Rt?Se(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Tt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return n}(_t),St=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).elements=e,r}return n}(_t);function It(e,t){var n,r=Pt(t),i=Object(s.a)(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return we(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ct=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).elements=e,r}return n}(_t);function Nt(e,t){var n,r=Pt(t),i=Object(s.a)(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!we(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Rt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).N=e,i.C=r,i}return n}(_t);function At(e){return fe(e.integerValue||e.doubleValue)}function Pt(e){return Ie(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Dt=function e(t,n){Object(v.a)(this,e),this.field=t,this.transform=n};var Mt=function e(t,n){Object(v.a)(this,e),this.version=t,this.transformResults=n},Lt=function(){function e(t,n){Object(v.a)(this,e),this.updateTime=t,this.exists=n}return Object(m.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Ft(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ut=function e(){Object(v.a)(this,e)};function qt(e,t,n){e instanceof Kt?function(e,t,n){var r=e.value.clone(),i=Qt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ht?function(e,t,n){if(Ft(e.precondition,t)){var r=Qt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zt(e,t,n){e instanceof Kt?function(e,t,n){if(Ft(e.precondition,t)){var r=e.value.clone(),i=$t(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Wt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ht?function(e,t,n){if(Ft(e.precondition,t)){var r=$t(e.fieldTransforms,n,t),i=t.data;i.setAll(Gt(e)),i.setAll(r),t.convertToFoundDocument(Wt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ft(e.precondition,t)&&t.convertToNoDocument(J.min())}(e,t)}function Vt(e,t){var n,r=null,i=Object(s.a)(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Et(a.transform,o||null);null!=u&&(null==r&&(r=Pe.empty()),r.set(a.field,u))}}catch(c){i.e(c)}finally{i.f()}return r||null}function Bt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof St&&t instanceof St||e instanceof Ct&&t instanceof Ct?$(e.elements,t.elements,we):e instanceof Rt&&t instanceof Rt?we(e.C,t.C):e instanceof Tt&&t instanceof Tt}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Wt(e){return e.isFoundDocument()?e.version:J.min()}var Kt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(v.a)(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return n}(Ut),Ht=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(v.a)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return n}(Ut);function Gt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Qt(e,t,n){var r=new Map;A(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,xt(o,s,n[i]))}return r}function $t(e,t,n){var r,i=new Map,a=Object(s.a)(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,c=n.data.field(o.field);i.set(o.field,jt(u,c,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Yt,Xt,Jt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return n}(Ut),Zt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return n}(Ut),en=function e(t){Object(v.a)(this,e),this.count=t};function tn(e){switch(e){default:return R();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function nn(e){if(void 0===e)return I("GRPC error has no .code"),M.UNKNOWN;switch(e){case Yt.OK:return M.OK;case Yt.CANCELLED:return M.CANCELLED;case Yt.UNKNOWN:return M.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return M.INTERNAL;case Yt.UNAVAILABLE:return M.UNAVAILABLE;case Yt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Yt.NOT_FOUND:return M.NOT_FOUND;case Yt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Yt.ABORTED:return M.ABORTED;case Yt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Yt.DATA_LOSS:return M.DATA_LOSS;default:return R()}}(Xt=Yt||(Yt={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";var rn=function(){function e(t,n){Object(v.a)(this,e),this.comparator=t,this.root=n||on.EMPTY}return Object(m.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,on.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,on.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new an(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new an(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new an(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new an(this.root,e,this.comparator,!0)}}]),e}(),an=function(){function e(t,n,r,i){Object(v.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(m.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),on=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(m.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw R();if(this.right.isRed())throw R();var e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}}]),e}();on.EMPTY=null,on.RED=!0,on.BLACK=!1,on.EMPTY=new(function(){function e(){Object(v.a)(this,e),this.size=0}return Object(m.a)(e,[{key:"key",get:function(){throw R()}},{key:"value",get:function(){throw R()}},{key:"color",get:function(){throw R()}},{key:"left",get:function(){throw R()}},{key:"right",get:function(){throw R()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new on(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var sn=function(){function e(t){Object(v.a)(this,e),this.comparator=t,this.data=new rn(this.comparator)}return Object(m.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new un(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new un(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),un=function(){function e(t){Object(v.a)(this,e),this.iter=t}return Object(m.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),cn=new rn(be.comparator);function ln(){return cn}var fn=new rn(be.comparator);function hn(){return fn}var dn=new rn(be.comparator);function pn(){return dn}var vn=new sn(be.comparator);function mn(){for(var e=vn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var yn=new sn(Q);function gn(){return yn}var bn=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(m.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,kn.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(J.min(),r,gn(),ln(),mn())}}]),e}(),kn=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(m.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ue.EMPTY_BYTE_STRING,n,mn(),mn(),mn())}}]),e}(),wn=function e(t,n,r,i){Object(v.a)(this,e),this.k=t,this.removedTargetIds=n,this.key=r,this.$=i},On=function e(t,n){Object(v.a)(this,e),this.targetId=t,this.O=n},_n=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ue.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(v.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},jn=function(){function e(){Object(v.a)(this,e),this.F=0,this.M=Tn(),this.L=ue.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}return Object(m.a)(e,[{key:"current",get:function(){return this.B}},{key:"resumeToken",get:function(){return this.L}},{key:"q",get:function(){return 0!==this.F}},{key:"K",get:function(){return this.U}},{key:"j",value:function(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}},{key:"W",value:function(){var e=mn(),t=mn(),n=mn();return this.M.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:R()}})),new kn(this.L,this.B,e,t,n)}},{key:"G",value:function(){this.U=!1,this.M=Tn()}},{key:"H",value:function(e,t){this.U=!0,this.M=this.M.insert(e,t)}},{key:"J",value:function(e){this.U=!0,this.M=this.M.remove(e)}},{key:"Y",value:function(){this.F+=1}},{key:"X",value:function(){this.F-=1}},{key:"Z",value:function(){this.U=!0,this.B=!0}}]),e}(),xn=function(){function e(t){Object(v.a)(this,e),this.tt=t,this.et=new Map,this.nt=ln(),this.st=En(),this.it=new sn(Q)}return Object(m.a)(e,[{key:"rt",value:function(e){var t,n=Object(s.a)(e.k);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ot(r,e.$):this.ct(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=Object(s.a)(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"at",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ut(n);switch(e.state){case 0:t.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||t.removeTarget(n);break;case 3:t.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:t.ht(n)&&(t.lt(n),r.j(e.resumeToken));break;default:R()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((function(e,r){n.ht(r)&&t(r)}))}},{key:"ft",value:function(e){var t=e.targetId,n=e.O.count,r=this.dt(t);if(r){var i=r.target;if(ze(i))if(0===n){var a=new be(i.path);this.ct(t,a,Me.newNoDocument(a,J.min()))}else A(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}},{key:"_t",value:function(e){var t=this,n=new Map;this.et.forEach((function(r,i){var a=t.dt(i);if(a){if(r.current&&ze(a.target)){var o=new be(a.target.path);null!==t.nt.get(o)||t.gt(i,o)||t.ct(i,o,Me.newNoDocument(o,e))}r.K&&(n.set(i,r.W()),r.G())}}));var r=mn();this.st.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.dt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new bn(e,n,this.it,this.nt,r);return this.nt=ln(),this.st=En(),this.it=new sn(Q),i}},{key:"ot",value:function(e,t){if(this.ht(e)){var n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ht(e)){var r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.et.delete(e)}},{key:"wt",value:function(e){var t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Y",value:function(e){this.ut(e).Y()}},{key:"ut",value:function(e){var t=this.et.get(e);return t||(t=new jn,this.et.set(e,t)),t}},{key:"yt",value:function(e){var t=this.st.get(e);return t||(t=new sn(Q),this.st=this.st.insert(e,t)),t}},{key:"ht",value:function(e){var t=null!==this.dt(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}},{key:"dt",value:function(e){var t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}},{key:"lt",value:function(e){var t=this;this.et.set(e,new jn),this.tt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"gt",value:function(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}]),e}();function En(){return new rn(be.comparator)}function Tn(){return new rn(be.comparator)}var Sn={asc:"ASCENDING",desc:"DESCENDING"},In={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cn=function e(t,n){Object(v.a)(this,e),this.databaseId=t,this.D=n};function Nn(e,t){return e.D?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rn(e,t){return e.D?t.toBase64():t.toUint8Array()}function An(e,t){return Nn(e,t.toTimestamp())}function Pn(e){return A(!!e),J.fromTimestamp(function(e){var t=le(e);return new X(t.seconds,t.nanos)}(e))}function Dn(e,t){return function(e){return new re(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Mn(e){var t=re.fromString(e);return A(sr(t)),t}function Ln(e,t){return Dn(e.databaseId,t.path)}function Fn(e,t){var n=Mn(t);if(n.get(1)!==e.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(Vn(n))}function Un(e,t){return Dn(e.databaseId,t)}function qn(e){var t=Mn(e);return 4===t.length?re.emptyPath():Vn(t)}function zn(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vn(e){return A(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Bn(e,t,n){return{name:Ln(e,t),fields:n.value.mapValue.fields}}function Wn(e,t,n){var r=Fn(e,t.name),i=Pn(t.updateTime),a=new Pe({mapValue:{fields:t.fields}}),o=Me.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Kn(e,t){return"found"in t?function(e,t){A(!!t.found),t.found.name,t.found.updateTime;var n=Fn(e,t.found.name),r=Pn(t.found.updateTime),i=new Pe({mapValue:{fields:t.found.fields}});return Me.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){A(!!t.missing),A(!!t.readTime);var n=Fn(e,t.missing),r=Pn(t.readTime);return Me.newNoDocument(n,r)}(e,t):R()}function Hn(e,t){var n;if(t instanceof Kt)n={update:Bn(e,t.key,t.value)};else if(t instanceof Jt)n={delete:Ln(e,t.key)};else if(t instanceof Ht)n={update:Bn(e,t.key,t.data),updateMask:or(t.fieldMask)};else{if(!(t instanceof Zt))return R();n={verify:Ln(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Tt)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof St)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ct)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rt)return{fieldPath:t.field.canonicalString(),increment:n.C};throw R()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:An(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:R()}(e,t.precondition)),n}function Gn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Lt.updateTime(Pn(e.updateTime)):void 0!==e.exists?Lt.exists(e.exists):Lt.none()}(t.currentDocument):Lt.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)A("REQUEST_TIME"===t.setToServerValue),n=new Tt;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new St(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Ct(i)}else"increment"in t?n=new Rt(e,t.increment):R();var a=ae.fromServerFormat(t.fieldPath);return new Dt(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Fn(e,t.update.name),a=new Pe({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new oe(t.map((function(e){return ae.fromServerFormat(e)})))}(t.updateMask);return new Ht(i,a,o,n,r)}return new Kt(i,a,n,r)}if(t.delete){var s=Fn(e,t.delete);return new Jt(s,n)}if(t.verify){var u=Fn(e,t.verify);return new Zt(u,n)}return R()}function Qn(e,t){return{documents:[Un(e,t.path)]}}function $n(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Un(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Un(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ne(e.value))return{unaryFilter:{field:nr(e.field),op:"IS_NAN"}};if(Ce(e.value))return{unaryFilter:{field:nr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ne(e.value))return{unaryFilter:{field:nr(e.field),op:"IS_NOT_NAN"}};if(Ce(e.value))return{unaryFilter:{field:nr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nr(e.field),op:tr(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:nr(e.field),direction:er(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.D||me(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Jn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Jn(t.endAt)),n}function Yn(e){var t=qn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){A(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Xn(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Ze(rr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return me(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Zn(n.startAt));var l=null;return n.endAt&&(l=Zn(n.endAt)),it(t,i,s,o,u,"F",c,l)}function Xn(e){return e?void 0!==e.unaryFilter?[ar(e)]:void 0!==e.fieldFilter?[ir(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Xn(e)})).reduce((function(e,t){return e.concat(t)})):R():[]}function Jn(e){return{before:e.before,values:e.position}}function Zn(e){var t=!!e.before,n=e.values||[];return new Xe(n,t)}function er(e){return Sn[e]}function tr(e){return In[e]}function nr(e){return{fieldPath:e.canonicalString()}}function rr(e){return ae.fromServerFormat(e.fieldPath)}function ir(e){return Ve.create(rr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(e.fieldFilter.op),e.fieldFilter.value)}function ar(e){switch(e.unaryFilter.op){case"IS_NAN":var t=rr(e.unaryFilter.field);return Ve.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=rr(e.unaryFilter.field);return Ve.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=rr(e.unaryFilter.field);return Ve.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=rr(e.unaryFilter.field);return Ve.create(i,"!=",{nullValue:"NULL_VALUE"});default:return R()}}function or(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sr(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ur(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=lr(t)),t=cr(e.get(n),t);return lr(t)}function cr(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function lr(e){return e+"\x01\x01"}function fr(e){var t=e.length;if(A(t>=2),2===t)return A("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),re.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&R(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:R()}a=o+2}return new re(r)}var hr=function e(t,n){Object(v.a)(this,e),this.seconds=t,this.nanoseconds=n},dr=function e(t,n,r){Object(v.a)(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r};dr.store="owner",dr.key="owner";var pr=function e(t,n,r){Object(v.a)(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r};pr.store="mutationQueues",pr.keyPath="userId";var vr=function e(t,n,r,i,a){Object(v.a)(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a};vr.store="mutations",vr.keyPath="batchId",vr.userMutationsIndex="userMutationsIndex",vr.userMutationsKeyPath=["userId","batchId"];var mr=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ur(t)]}},{key:"key",value:function(e,t,n){return[e,ur(t),n]}}]),e}();mr.store="documentMutations",mr.PLACEHOLDER=new mr;var yr=function e(t,n){Object(v.a)(this,e),this.path=t,this.readTime=n},gr=function e(t,n){Object(v.a)(this,e),this.path=t,this.version=n},br=function e(t,n,r,i,a,o){Object(v.a)(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o};br.store="remoteDocuments",br.readTimeIndex="readTimeIndex",br.readTimeIndexPath="readTime",br.collectionReadTimeIndex="collectionReadTimeIndex",br.collectionReadTimeIndexPath=["parentPath","readTime"];var kr=function e(t){Object(v.a)(this,e),this.byteSize=t};kr.store="remoteDocumentGlobal",kr.key="remoteDocumentGlobalKey";var wr=function e(t,n,r,i,a,o,s){Object(v.a)(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s};wr.store="targets",wr.keyPath="targetId",wr.queryTargetsIndexName="queryTargetsIndex",wr.queryTargetsKeyPath=["canonicalId","targetId"];var Or=function e(t,n,r){Object(v.a)(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r};Or.store="targetDocuments",Or.keyPath=["targetId","path"],Or.documentTargetsIndex="documentTargetsIndex",Or.documentTargetsKeyPath=["path","targetId"];var _r=function e(t,n,r,i){Object(v.a)(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i};_r.key="targetGlobalKey",_r.store="targetGlobal";var jr=function e(t,n){Object(v.a)(this,e),this.collectionId=t,this.parent=n};jr.store="collectionParents",jr.keyPath=["collectionId","parent"];var xr=function e(t,n,r,i){Object(v.a)(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i};xr.store="clientMetadata",xr.keyPath="clientId";var Er=function e(t,n,r){Object(v.a)(this,e),this.bundleId=t,this.createTime=n,this.version=r};Er.store="bundles",Er.keyPath="bundleId";var Tr=function e(t,n,r){Object(v.a)(this,e),this.name=t,this.readTime=n,this.bundledQuery=r};Tr.store="namedQueries",Tr.keyPath="name";var Sr=[pr.store,vr.store,mr.store,br.store,wr.store,dr.store,_r.store,Or.store].concat([xr.store]).concat([kr.store]).concat([jr.store]).concat([Er.store,Tr.store]),Ir="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Cr=function(){function e(){Object(v.a)(this,e),this.onCommittedListeners=[]}return Object(m.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Nr=function(){function e(t){var n=this;Object(v.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Object(m.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Object(s.a)(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Rr=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.Et=new F,this.transaction.oncomplete=function(){r.Et.resolve()},this.transaction.onabort=function(){n.error?r.Et.reject(new Dr(t,n.error)):r.Et.resolve()},this.transaction.onerror=function(e){var n=qr(e.target.error);r.Et.reject(new Dr(t,n))}}return Object(m.a)(e,[{key:"It",get:function(){return this.Et.promise}},{key:"abort",value:function(e){e&&this.Et.reject(e),this.aborted||(S("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Lr(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Dr(n,t)}}}]),e}(),Ar=function(){function t(e,n,r){Object(v.a)(this,t),this.name=e,this.version=n,this.At=r,12.2===t.Rt(Object(k.v)())&&I("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(m.a)(t,[{key:"Dt",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return S("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Dr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new L(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new L(M.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Dr(t,n))},i.onupgradeneeded=function(e){S("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.At.Ct(t,i.transaction,e.oldVersion,n.version).next((function(){S("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Nt&&(this.db.onversionchange=function(e){return n.Nt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.Nt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,s,u,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(c.a.mark((function e(){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Dt(t);case 2:return l.db=e.sent,n=Rr.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).catch((function(e){return n.abort(e),Nr.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.It;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u="FirebaseError"!==e.t1.name&&o<3,S("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",u),this.close(),u){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return S("SimpleDb","Removing database:",e),Fr(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Object(k.C)())return!1;if(t.Pt())return!0;var e=Object(k.v)(),n=t.Rt(e),r=0<n&&n<10,i=t.vt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}},{key:"Pt",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/store_from_21-lesson",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Vt)}},{key:"St",value:function(e,t){return e.store(t)}},{key:"Rt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),Pr=function(){function e(t){Object(v.a)(this,e),this.kt=t,this.$t=!1,this.Ot=null}return Object(m.a)(e,[{key:"isDone",get:function(){return this.$t}},{key:"Ft",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.kt=e}},{key:"done",value:function(){this.$t=!0}},{key:"Mt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Fr(this.kt.delete())}}]),e}(),Dr=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,M.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return n}(L);function Mr(e){return"IndexedDbTransactionError"===e.name}var Lr=function(){function e(t){Object(v.a)(this,e),this.store=t}return Object(m.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(S("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(S("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Fr(n)}},{key:"add",value:function(e){return S("SimpleDb","ADD",this.store.name,e,e),Fr(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Fr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),S("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return S("SimpleDb","DELETE",this.store.name,e),Fr(this.store.delete(e))}},{key:"count",value:function(){return S("SimpleDb","COUNT",this.store.name),Fr(this.store.count())}},{key:"Lt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"Ut",value:function(e,t){S("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.qt=!1;var r=this.cursor(n);return this.Bt(r,(function(e,t,n){return n.delete()}))}},{key:"Kt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Bt(r,t)}},{key:"jt",value:function(e){var t=this.cursor({});return new Nr((function(n,r){t.onerror=function(e){var t=qr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Bt",value:function(e,t){var n=[];return new Nr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Pr(i),o=t(i.primaryKey,i.value,a);if(o instanceof Nr){var s=o.catch((function(e){return a.done(),Nr.reject(e)}));n.push(s)}a.isDone?r():null===a.Ft?i.continue():i.continue(a.Ft)}else r()}})).next((function(){return Nr.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Fr(e){return new Nr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=qr(e.target.error);n(t)}}))}var Ur=!1;function qr(e){var t=Ar.Rt(Object(k.v)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new L("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ur||(Ur=!0,setTimeout((function(){throw r}),0)),r}}return e}var zr=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).Qt=e,i.currentSequenceNumber=r,i}return n}(Cr);function Vr(e,t){var n=D(e);return Ar.St(n.Qt,t)}var Br=function(){function e(t,n,r,i){Object(v.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(m.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&qt(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Object(s.a)(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&zt(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Object(s.a)(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&zt(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(J.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),mn())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$(this.mutations,e.mutations,(function(e,t){return Bt(e,t)}))&&$(this.baseMutations,e.baseMutations,(function(e,t){return Bt(e,t)}))}}]),e}(),Wr=function(){function e(t,n,r,i){Object(v.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Object(m.a)(e,null,[{key:"from",value:function(t,n,r){A(t.mutations.length===r.length);for(var i=pn(),a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Kr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:J.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:J.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ue.EMPTY_BYTE_STRING;Object(v.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Object(m.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Hr=function e(t){Object(v.a)(this,e),this.Wt=t};function Gr(e,t){if(t.document)return Wn(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=be.fromSegments(t.noDocument.path),r=Jr(t.noDocument.readTime),i=Me.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var a=be.fromSegments(t.unknownDocument.path),o=Jr(t.unknownDocument.version);return Me.newUnknownDocument(a,o)}return R()}function Qr(e,t,n){var r=$r(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a=function(e,t){return{name:Ln(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Nn(e,t.version.toTimestamp())}}(e.Wt,t),o=t.hasCommittedMutations;return new br(null,null,a,o,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Xr(t.version),c=t.hasCommittedMutations;return new br(null,new yr(s,u),null,c,r,i)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Xr(t.version);return new br(new gr(l,f),null,null,!0,r,i)}return R()}function $r(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Yr(e){var t=new X(e[0],e[1]);return J.fromTimestamp(t)}function Xr(e){var t=e.toTimestamp();return new hr(t.seconds,t.nanoseconds)}function Jr(e){var t=new X(e.seconds,e.nanoseconds);return J.fromTimestamp(t)}function Zr(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Gn(e.Wt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Gn(e.Wt,t)})),s=X.fromMillis(t.localWriteTimeMs);return new Br(t.batchId,s,n,o)}function ei(e){var t,n,r=Jr(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Jr(e.lastLimboFreeSnapshotVersion):J.min();return void 0!==e.query.documents?(A(1===(n=e.query).documents.length),t=ht(at(qn(n.documents[0])))):t=function(e){return ht(Yn(e))}(e.query),new Kr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ue.fromBase64String(e.resumeToken))}function ti(e,t){var n,r=Xr(t.snapshotVersion),i=Xr(t.lastLimboFreeSnapshotVersion);n=ze(t.target)?Qn(e.Wt,t.target):$n(e.Wt,t.target);var a=t.resumeToken.toBase64();return new wr(t.targetId,Ue(t.target),r,a,t.sequenceNumber,i,n)}function ni(e){var t=Yn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?dt(t,t.limit,"L"):t}var ri=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"getBundleMetadata",value:function(e,t){return ii(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Jr(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ii(e).put({bundleId:(n=t).id,createTime:Xr(Pn(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ai(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:ni(t.bundledQuery),readTime:Jr(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ai(e).put(function(e){return{name:e.name,readTime:Xr(Pn(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ii(e){return Vr(e,Er.store)}function ai(e){return Vr(e,Tr.store)}var oi=function(){function e(){Object(v.a)(this,e),this.Gt=new si}return Object(m.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Gt.add(t),Nr.resolve()}},{key:"getCollectionParents",value:function(e,t){return Nr.resolve(this.Gt.getEntries(t))}}]),e}(),si=function(){function e(){Object(v.a)(this,e),this.index={}}return Object(m.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sn(re.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new sn(re.comparator)).toArray()}}]),e}(),ui=function(){function e(){Object(v.a)(this,e),this.zt=new si}return Object(m.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.zt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.zt.add(t)}));var a={collectionId:r,parent:ur(i)};return ci(e).put(a)}return Nr.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Y(t),""],!1,!0);return ci(e).Lt(r).next((function(e){var r,i=Object(s.a)(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(fr(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}}]),e}();function ci(e){return Vr(e,jr.store)}var li={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fi=function(){function e(t,n,r){Object(v.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(m.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function hi(e,t,n){var r=e.store(vr.store),i=e.store(mr.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,c=r.Kt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(c.next((function(){A(1===u)})));var l,f=[],h=Object(s.a)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=mr.key(t,d.key.path,n.batchId);a.push(i.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return Nr.waitFor(a).next((function(){return f}))}function di(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw R();t=e.noDocument}return JSON.stringify(t).length}fi.DEFAULT_COLLECTION_PERCENTILE=10,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fi.DEFAULT=new fi(41943040,fi.DEFAULT_COLLECTION_PERCENTILE,fi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fi.DISABLED=new fi(-1,0,0);var pi=function(){function e(t,n,r,i){Object(v.a)(this,e),this.userId=t,this.N=n,this.Ht=r,this.referenceDelegate=i,this.Jt={}}return Object(m.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mi(e).Kt({index:vr.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=yi(e),o=mi(e);return o.add({}).next((function(u){A("number"==typeof u);var c,l=new Br(u,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Hn(e.Wt,t)})),i=n.mutations.map((function(t){return Hn(e.Wt,t)}));return new vr(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.N,i.userId,l),h=[],d=new sn((function(e,t){return Q(e.canonicalString(),t.canonicalString())})),p=Object(s.a)(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,m=mr.key(i.userId,v.key.path,u);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(a.put(m,mr.PLACEHOLDER))}}catch(y){p.e(y)}finally{p.f()}return d.forEach((function(t){h.push(i.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Jt[u]=l.keys()})),Nr.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return mi(e).get(t).next((function(e){return e?(A(e.userId===n.userId),Zr(n.N,e)):null}))}},{key:"Xt",value:function(e,t){var n=this;return this.Jt[t]?Nr.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Jt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return mi(e).Kt({index:vr.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(A(t.batchId>=r),a=Zr(n.N,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mi(e).Kt({index:vr.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mi(e).Lt(vr.userMutationsIndex,n).next((function(e){return e.map((function(e){return Zr(t.N,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=mr.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return yi(e).Kt({range:i},(function(r,i,s){var u=Object(o.a)(r,3),c=u[0],l=u[1],f=u[2],h=fr(l);if(c===n.userId&&t.path.isEqual(h))return mi(e).get(f).next((function(e){if(!e)throw R();A(e.userId===n.userId),a.push(Zr(n.N,e))}));s.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sn(Q),i=[];return t.forEach((function(t){var a=mr.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(a),u=yi(e).Kt({range:s},(function(e,i,a){var s=Object(o.a)(e,3),u=s[0],c=s[1],l=s[2],f=fr(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Nr.waitFor(i).next((function(){return n.Zt(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=mr.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new sn(Q);return yi(e).Kt({range:s},(function(e,t,a){var s=Object(o.a)(e,3),c=s[0],l=s[1],f=s[2],h=fr(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Zt(e,u)}))}},{key:"Zt",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(mi(e).get(t).next((function(e){if(null===e)throw R();A(e.userId===n.userId),r.push(Zr(n.N,e))})))})),Nr.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return hi(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.te(t.batchId)})),Nr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"te",value:function(e){delete this.Jt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Nr.resolve();var r=IDBKeyRange.lowerBound(mr.prefixForUser(t.userId)),i=[];return yi(e).Kt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=fr(e[1]);i.push(a)}else r.done()})).next((function(){A(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return vi(e,this.userId,t)}},{key:"ee",value:function(e){var t=this;return gi(e).get(this.userId).next((function(e){return e||new pr(t.userId,-1,"")}))}}],[{key:"Yt",value:function(t,n,r,i){return A(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function vi(e,t,n){var r=mr.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return yi(e).Kt({range:a,qt:!0},(function(e,n,r){var a=Object(o.a)(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(s=!0),r.done()})).next((function(){return s}))}function mi(e){return Vr(e,vr.store)}function yi(e){return Vr(e,mr.store)}function gi(e){return Vr(e,pr.store)}var bi=function(){function e(t){Object(v.a)(this,e),this.ne=t}return Object(m.a)(e,[{key:"next",value:function(){return this.ne+=2,this.ne}}],[{key:"se",value:function(){return new e(0)}},{key:"ie",value:function(){return new e(-1)}}]),e}(),ki=function(){function e(t,n){Object(v.a)(this,e),this.referenceDelegate=t,this.N=n}return Object(m.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.re(e).next((function(n){var r=new bi(n.highestTargetId);return n.highestTargetId=r.next(),t.oe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.re(e).next((function(e){return J.fromTimestamp(new X(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.re(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.re(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.oe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.re(e).next((function(r){return r.targetCount+=1,n.ae(t,r),n.oe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return wi(e).delete(t.targetId)})).next((function(){return n.re(e)})).next((function(t){return A(t.targetCount>0),t.targetCount-=1,n.oe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return wi(e).Kt((function(o,s){var u=ei(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return Nr.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return wi(e).Kt((function(e,n){var r=ei(n);t(r)}))}},{key:"re",value:function(e){return Oi(e).get(_r.key).next((function(e){return A(null!==e),e}))}},{key:"oe",value:function(e,t){return Oi(e).put(_r.key,t)}},{key:"ce",value:function(e,t){return wi(e).put(ti(this.N,t))}},{key:"ae",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.re(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ue(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wi(e).Kt({range:r,index:wr.queryTargetsIndexName},(function(e,n,r){var a=ei(n);qe(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=_i(e);return t.forEach((function(t){var o=ur(t.path);i.push(a.put(new Or(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Nr.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=_i(e);return Nr.forEach(t,(function(t){var a=ur(t.path);return Nr.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=_i(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=_i(e),i=mn();return r.Kt({range:n,qt:!0},(function(e,t,n){var r=fr(e[1]),a=new be(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ur(t.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return _i(e).Kt({index:Or.documentTargetsIndex,qt:!0,range:r},(function(e,t,n){var r=Object(o.a)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return wi(e).get(t).next((function(e){return e?ei(e):null}))}}]),e}();function wi(e){return Vr(e,wr.store)}function Oi(e){return Vr(e,_r.store)}function _i(e){return Vr(e,Or.store)}function ji(e){return xi.apply(this,arguments)}function xi(){return(xi=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===M.FAILED_PRECONDITION&&t.message===Ir){e.next=2;break}throw t;case 2:S("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ei(e,t){var n=Object(o.a)(e,2),r=n[0],i=n[1],a=Object(o.a)(t,2),s=a[0],u=a[1],c=Q(r,s);return 0===c?Q(i,u):c}var Ti=function(){function e(t){Object(v.a)(this,e),this.ue=t,this.buffer=new sn(Ei),this.he=0}return Object(m.a)(e,[{key:"le",value:function(){return++this.he}},{key:"fe",value:function(e){var t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Ei(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Si=function(){function e(t,n){Object(v.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.de=!1,this.we=null}return Object(m.a)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}},{key:"stop",value:function(){this.we&&(this.we.cancel(),this.we=null)}},{key:"started",get:function(){return null!==this.we}},{key:"_e",value:function(e){var t=this,n=this.de?3e5:6e4;S("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.we=null,t.de=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Mr(n.t0)){n.next=12;break}S("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,ji(n.t0);case 14:return n.next=16,t._e(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ii=function(){function e(t,n){Object(v.a)(this,e),this.me=t,this.params=n}return Object(m.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.me.ge(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Nr.resolve(K.T);var r=new Ti(t);return this.me.forEachTarget(e,(function(e){return r.fe(e.sequenceNumber)})).next((function(){return n.me.ye(e,(function(e){return r.fe(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.me.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.me.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; disabled"),Nr.resolve(li)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(S("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),li):n.pe(e,t)}))}},{key:"getCacheSize",value:function(e){return this.me.getCacheSize(e)}},{key:"pe",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(S("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),E()<=b.a.DEBUG&&S("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),Nr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Ci=function(){function e(t,n){Object(v.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ii(e,t)}(this,n)}return Object(m.a)(e,[{key:"ge",value:function(e){var t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Te",value:function(e){var t=0;return this.ye(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ye",value:function(e,t){return this.Ee(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ni(e,n)}},{key:"removeReference",value:function(e,t,n){return Ni(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ni(e,t)}},{key:"Ie",value:function(e,t){return function(e,t){var n=!1;return gi(e).jt((function(r){return vi(e,r,t).next((function(e){return e&&(n=!0),Nr.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ee(e,(function(o,s){if(s<=t){var u=n.Ie(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o),_i(e).delete([0,ur(o.path)])}))}));i.push(u)}})).next((function(){return Nr.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ni(e,t)}},{key:"Ee",value:function(e,t){var n,r=_i(e),i=K.T;return r.Kt({index:Or.documentTargetsIndex},(function(e,r){var a=Object(o.a)(e,2),s=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===s?(i!==K.T&&t(new be(fr(n)),i),i=c,n=u):i=K.T})).next((function(){i!==K.T&&t(new be(fr(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ni(e,t){return _i(e).put(function(e,t){return new Or(0,ur(e.path),t)}(t,e.currentSequenceNumber))}var Ri=function(){function e(t,n){Object(v.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Object(m.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),u=a[0],c=a[1];if(this.equalsFn(u,e))return c}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){ee(this.inner,(function(t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=Object(o.a)(r.value,2),u=a[0],c=a[1];e(u,c)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return te(this.inner)}}]),e}(),Ai=function(){function e(){Object(v.a)(this,e),this.changes=new Ri((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Object(m.a)(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:J.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Me.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Nr.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Pi=function(){function e(t,n){Object(v.a)(this,e),this.N=t,this.Ht=n}return Object(m.a)(e,[{key:"addEntry",value:function(e,t,n){return Li(e).put(Fi(t),n)}},{key:"removeEntry",value:function(e,t){var n=Li(e),r=Fi(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Ae(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Li(e).get(Fi(t)).next((function(e){return n.Re(t,e)}))}},{key:"be",value:function(e,t){var n=this;return Li(e).get(Fi(t)).next((function(e){return{document:n.Re(t,e),size:di(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=ln();return this.Pe(e,t,(function(e,t){var i=n.Re(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ve",value:function(e,t){var n=this,r=ln(),i=new rn(be.comparator);return this.Pe(e,t,(function(e,t){var a=n.Re(e,t);r=r.insert(e,a),i=i.insert(e,di(t))})).next((function(){return{documents:r,Ve:i}}))}},{key:"Pe",value:function(e,t,n){if(t.isEmpty())return Nr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return Li(e).Kt({range:r},(function(e,t,r){for(var o=be.fromSegments(e);a&&be.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Mt(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,i=ln(),a=t.path.length+1,o={};if(n.isEqual(J.min())){var s=t.path.toArray();o.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=$r(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=br.collectionReadTimeIndex}return Li(e).Kt(o,(function(e,n,o){if(e.length===a){var s=Gr(r.N,n);t.path.isPrefixOf(s.key.path)?yt(t,s)&&(i=i.insert(s.key,s)):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new Di(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Mi(e).get(kr.key).next((function(e){return A(!!e),e}))}},{key:"Ae",value:function(e,t){return Mi(e).put(kr.key,t)}},{key:"Re",value:function(e,t){if(t){var n=Gr(this.N,t);if(!n.isNoDocument()||!n.version.isEqual(J.min()))return n}return Me.newInvalidDocument(e)}}]),e}(),Di=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).Se=e,i.trackRemovals=r,i.De=new Ri((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Object(m.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new sn((function(e,t){return Q(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.De.get(a);if(o.document.isValidDocument()){var u=Qr(t.Se.N,o.document,t.getReadTime(a));i=i.add(a.path.popLast());var c=di(u);r+=c-s,n.push(t.Se.addEntry(e,a,u))}else if(r-=s,t.trackRemovals){var l=Qr(t.Se.N,Me.newNoDocument(a,J.min()),t.getReadTime(a));n.push(t.Se.addEntry(e,a,l))}else n.push(t.Se.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Se.Ht.addToCollectionParentIndex(e,r))})),n.push(this.Se.updateMetadata(e,r)),Nr.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Se.be(e,t).next((function(e){return n.De.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Se.ve(e,t).next((function(e){var t=e.documents;return e.Ve.forEach((function(e,t){n.De.set(e,t)})),t}))}}]),n}(Ai);function Mi(e){return Vr(e,kr.store)}function Li(e){return Vr(e,br.store)}function Fi(e){return e.path.toArray()}var Ui=function(){function e(t){Object(v.a)(this,e),this.N=t}return Object(m.a)(e,[{key:"Ct",value:function(e,t,n,r){var i=this;A(n<r&&n>=0&&r<=11);var a=new Rr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(dr.store)}(e),function(e){e.createObjectStore(pr.store,{keyPath:pr.keyPath}),e.createObjectStore(vr.store,{keyPath:vr.keyPath,autoIncrement:!0}).createIndex(vr.userMutationsIndex,vr.userMutationsKeyPath,{unique:!0}),e.createObjectStore(mr.store)}(e),qi(e),function(e){e.createObjectStore(br.store)}(e));var o=Nr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Or.store),e.deleteObjectStore(wr.store),e.deleteObjectStore(_r.store)}(e),qi(e)),o=o.next((function(){return function(e){var t=e.store(_r.store),n=new _r(0,0,J.min().toTimestamp(),0);return t.put(_r.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(vr.store).Lt().next((function(n){e.deleteObjectStore(vr.store),e.createObjectStore(vr.store,{keyPath:vr.keyPath,autoIncrement:!0}).createIndex(vr.userMutationsIndex,vr.userMutationsKeyPath,{unique:!0});var r=t.store(vr.store),i=n.map((function(e){return r.put(e)}));return Nr.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(xr.store,{keyPath:xr.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ce(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(kr.store)}(e),i.Ne(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.xe(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ke(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(br.store);t.createIndex(br.readTimeIndex,br.readTimeIndexPath,{unique:!1}),t.createIndex(br.collectionReadTimeIndex,br.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.$e(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Er.store,{keyPath:Er.keyPath})}(e),function(e){e.createObjectStore(Tr.store,{keyPath:Tr.keyPath})}(e)}))),o}},{key:"Ne",value:function(e){var t=0;return e.store(br.store).Kt((function(e,n){t+=di(n)})).next((function(){var n=new kr(t);return e.store(kr.store).put(kr.key,n)}))}},{key:"Ce",value:function(e){var t=this,n=e.store(pr.store),r=e.store(vr.store);return n.Lt().next((function(n){return Nr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Lt(vr.userMutationsIndex,i).next((function(r){return Nr.forEach(r,(function(r){A(r.userId===n.userId);var i=Zr(t.N,r);return hi(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(Or.store),n=e.store(br.store);return e.store(_r.store).get(_r.key).next((function(e){var r=[];return n.Kt((function(n,i){var a=new re(n),o=function(e){return[0,ur(e)]}(a);r.push(t.get(o).next((function(n){return n?Nr.resolve():function(n){return t.put(new Or(0,ur(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Nr.waitFor(r)}))}))}},{key:"ke",value:function(e,t){e.createObjectStore(jr.store,{keyPath:jr.keyPath});var n=t.store(jr.store),r=new si,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ur(i)})}};return t.store(br.store).Kt({qt:!0},(function(e,t){var n=new re(e);return i(n.popLast())})).next((function(){return t.store(mr.store).Kt({qt:!0},(function(e,t){var n=Object(o.a)(e,3),r=(n[0],n[1]),a=(n[2],fr(r));return i(a.popLast())}))}))}},{key:"$e",value:function(e){var t=this,n=e.store(wr.store);return n.Kt((function(e,r){var i=ei(r),a=ti(t.N,i);return n.put(a)}))}}]),e}();function qi(e){e.createObjectStore(Or.store,{keyPath:Or.keyPath}).createIndex(Or.documentTargetsIndex,Or.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(wr.store,{keyPath:wr.keyPath}).createIndex(wr.queryTargetsIndexName,wr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(_r.store)}var zi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vi=function(){function e(t,n,r,i,a,o,s,u,c,l){if(Object(v.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=a,this.window=o,this.document=s,this.Fe=c,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=function(e){return Promise.resolve()},!e.bt())throw new L(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ci(this,i),this.We=n+"main",this.N=new Hr(u),this.Ge=new Ar(this.We,11,new Ui(this.N)),this.ze=new ki(this.referenceDelegate,this.N),this.Ht=new ui,this.He=function(e,t){return new Pi(e,t)}(this.N,this.Ht),this.Je=new ri,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&I("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(m.a)(e,[{key:"start",value:function(){var e=this;return this.Xe().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new L(M.FAILED_PRECONDITION,zi);return e.Ze(),e.tn(),e.en(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ze.getHighestSequenceNumber(t)}))})).then((function(t){e.Le=new K(t,e.Fe)})).then((function(){e.Be=!0})).catch((function(t){return e.Ge&&e.Ge.close(),Promise.reject(t)}))}},{key:"nn",value:function(e){var t=this;return this.Qe=function(){var n=Object(l.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ge.xt(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Xe();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Xe",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Wi(t).put(new xr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.sn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.Qe(!1)})))}))})).next((function(){return e.rn(t)})).next((function(n){return e.isPrimary&&!n?e.on(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Mr(t))return S("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return S("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.Qe(t)})),e.isPrimary=t}))}},{key:"sn",value:function(e){var t=this;return Bi(e).get(dr.key).next((function(e){return Nr.resolve(t.an(e))}))}},{key:"un",value:function(e){return Wi(e).delete(this.clientId)}},{key:"hn",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ln(this.je,18e5)){e.next=6;break}return this.je=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Vr(e,xr.store);return t.Lt().next((function(e){var n=a.fn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Nr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ye){n=Object(s.a)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Ye.removeItem(this.dn(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"en",value:function(){var e=this;this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Xe().then((function(){return e.hn()})).then((function(){return e.en()}))}))}},{key:"an",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"rn",value:function(e){var t=this;return this.Me?Nr.resolve(!0):Bi(e).get(dr.key).next((function(n){if(null!==n&&t.ln(n.leaseTimestampMs,5e3)&&!t.wn(n.ownerId)){if(t.an(n)&&t.networkEnabled)return!0;if(!t.an(n)){if(!n.allowTabSynchronization)throw new L(M.FAILED_PRECONDITION,zi);return!1}}return!(!t.networkEnabled||!t.inForeground)||Wi(e).Lt().next((function(e){return void 0===t.fn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&S("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),e.next=7,this.Ge.runTransaction("shutdown","readwrite",[dr.store,xr.store],(function(e){var n=new zr(e,K.T);return t.on(n).next((function(){return t.un(n)}))}));case 7:this.Ge.close(),this.yn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fn",value:function(e,t){var n=this;return e.filter((function(e){return n.ln(e.updateTimeMs,t)&&!n.wn(e.clientId)}))}},{key:"pn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Wi(t).Lt().next((function(t){return e.fn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Be}},{key:"getMutationQueue",value:function(e){return pi.Yt(e,this.N,this.Ht,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;S("IndexedDbPersistence","Starting transaction:",e);var i,a="readonly"===t?"readonly":"readwrite";return this.Ge.runTransaction(e,a,Sr,(function(a){return i=new zr(a,r.Le?r.Le.next():K.T),"readwrite-primary"===t?r.sn(i).next((function(e){return!!e||r.rn(i)})).next((function(t){if(!t)throw I("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.Qe(!1)})),new L(M.FAILED_PRECONDITION,Ir);return n(i)})).next((function(e){return r.cn(i).next((function(){return e}))})):r.Tn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Tn",value:function(e){var t=this;return Bi(e).get(dr.key).next((function(e){if(null!==e&&t.ln(e.leaseTimestampMs,5e3)&&!t.wn(e.ownerId)&&!t.an(e)&&!(t.Me||t.allowTabSynchronization&&e.allowTabSynchronization))throw new L(M.FAILED_PRECONDITION,zi)}))}},{key:"cn",value:function(e){var t=new dr(this.clientId,this.allowTabSynchronization,Date.now());return Bi(e).put(dr.key,t)}},{key:"on",value:function(e){var t=this,n=Bi(e);return n.get(dr.key).next((function(e){return t.an(e)?(S("IndexedDbPersistence","Releasing primary lease."),n.delete(dr.key)):Nr.resolve()}))}},{key:"ln",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(I("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ze",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Xe()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}},{key:"mn",value:function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}},{key:"tn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=function(){t._n(),Object(k.H)()&&navigator.appVersion.match("Version/14")&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Ue))}},{key:"gn",value:function(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}},{key:"wn",value:function(e){var t;try{var n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return S("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return I("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"_n",value:function(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){I("Failed to set zombie client id.",e)}}},{key:"yn",value:function(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}},{key:"dn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Ar.bt()}}]),e}();function Bi(e){return Vr(e,dr.store)}function Wi(e){return Vr(e,xr.store)}function Ki(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Hi=function e(t,n){Object(v.a)(this,e),this.progress=t,this.En=n},Gi=function(){function e(t,n,r){Object(v.a)(this,e),this.He=t,this.In=n,this.Ht=r}return Object(m.a)(e,[{key:"An",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Rn(e,t,r)}))}},{key:"Rn",value:function(e,t,n){return this.He.getEntry(e,t).next((function(e){var t,r=Object(s.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,i=Object(s.a)(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Pn",value:function(e,t){var n=this;return this.He.getEntries(e,t).next((function(t){return n.vn(e,t).next((function(){return t}))}))}},{key:"vn",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return be.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):lt(t)?this.Sn(e,t,n):this.Dn(e,t,n)}},{key:"Vn",value:function(e,t){return this.An(e,new be(t)).next((function(e){var t=hn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Sn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=hn();return this.Ht.getCollectionParents(e,i).next((function(o){return Nr.forEach(o,(function(o){var s=function(e,t){return new rt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Dn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Dn",value:function(e,t,n){var r,i,a=this;return this.He.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.In.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Cn(e,i,r).next((function(e){r=e;var t,n=Object(s.a)(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,u=Object(s.a)(o.mutations);try{for(u.s();!(a=u.n()).done;){var c=a.value,l=c.key,f=r.get(l);null==f&&(f=Me.newInvalidDocument(l),r=r.insert(l,f)),zt(c,f,o.localWriteTime),f.isFoundDocument()||(r=r.remove(l))}}catch(h){u.e(h)}finally{u.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){yt(t,n)||(r=r.remove(e))})),r}))}},{key:"Cn",value:function(e,t,n){var r,i=mn(),a=Object(s.a)(t);try{for(a.s();!(r=a.n()).done;){var o,u=r.value,c=Object(s.a)(u.mutations);try{for(c.s();!(o=c.n()).done;){var l=o.value;l instanceof Ht&&null===n.get(l.key)&&(i=i.add(l.key))}}catch(h){c.e(h)}finally{c.f()}}}catch(h){a.e(h)}finally{a.f()}var f=n;return this.He.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(f=f.insert(e,t))})),f}))}}]),e}(),Qi=function(){function e(t,n,r,i){Object(v.a)(this,e),this.targetId=t,this.fromCache=n,this.Nn=r,this.xn=i}return Object(m.a)(e,null,[{key:"kn",value:function(t,n){var r,i=mn(),a=mn(),o=Object(s.a)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),$i=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"$n",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(J.min())?this.Fn(e,t):this.On.Pn(e,r).next((function(a){var o=i.Mn(t,a);return(ot(t)||st(t))&&i.Ln(t.limitType,o,r,n)?i.Fn(e,t):(E()<=b.a.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),mt(t)),i.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Mn",value:function(e,t){var n=new sn(gt(e));return t.forEach((function(t,r){yt(e,r)&&(n=n.add(r))})),n}},{key:"Ln",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return E()<=b.a.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",mt(t)),this.On.getDocumentsMatchingQuery(e,t,J.min())}}]),e}(),Yi=function(){function e(t,n,r,i){Object(v.a)(this,e),this.persistence=t,this.Bn=n,this.N=i,this.Un=new rn(Q),this.qn=new Ri((function(e){return Ue(e)}),qe),this.Kn=J.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Gi(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}return Object(m.a)(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Un)}))}}]),e}();function Xi(e,t,n,r){return new Yi(e,t,n,r)}function Ji(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=r.In,a=r.Qn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.In.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Gi(r.jn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],u=mn(),c=Object(s.a)(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;i.push(l.batchId);var f,h=Object(s.a)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;u=u.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var p,v=Object(s.a)(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var y,g=Object(s.a)(m.mutations);try{for(g.s();!(y=g.n()).done;){var b=y.value;u=u.add(b.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){v.e(k)}finally{v.f()}return a.Pn(e,u).next((function(e){return{Wn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.In=i,r.Qn=a,r.Bn.$n(r.Qn),o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ea(e,t){var n=D(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Nr.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);A(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.In.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.Pn(e,r)}))}))}function ta(e){var t=D(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ze.getLastRemoteSnapshotVersion(e)}))}function na(e,t){var n=D(e),r=t.snapshotVersion,i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;var o=[];t.targetChanges.forEach((function(t,a){var s=i.get(a);if(s){o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,a).next((function(){return n.ze.addMatchingKeys(e,t.addedDocuments,a)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(a,c),function(e,t,n){return A(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,t)&&o.push(n.ze.updateTargetData(e,c))}}}));var s=ln();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ra(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(J.min())){var u=n.ze.getLastRemoteSnapshotVersion(e).next((function(t){return n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Nr.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Qn.vn(e,s)})).next((function(){return s}))})).then((function(e){return n.Un=i,e}))}function ra(e,t,n,r,i){var a=mn();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=ln();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(J.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):S("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function ia(e,t){var n=D(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)}))}function aa(e,t){var n=D(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ze.getTargetData(e,t).next((function(i){return i?(r=i,Nr.resolve(r)):n.ze.allocateTargetId(e).next((function(i){return r=new Kr(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function oa(e,t,n){return sa.apply(this,arguments)}function sa(){return(sa=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=D(t),a=i.Un.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Mr(e.t1)){e.next=12;break}throw e.t1;case 12:S("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Un=i.Un.remove(n),i.qn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function ua(e,t,n){var r=D(e),i=J.min(),a=mn();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=D(e),i=r.qn.get(n);return void 0!==i?Nr.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,ht(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bn.getDocumentsMatchingQuery(e,t,n?i:J.min(),n?a:mn())})).next((function(e){return{documents:e,Gn:a}}))}))}function ca(e,t){var n=D(e),r=D(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function la(e){var t=D(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=D(e),i=ln(),a=$r(n),o=Li(t),s=IDBKeyRange.lowerBound(a,!0);return o.Kt({index:br.readTimeIndex,range:s},(function(e,t){var n=Gr(r.N,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{En:i,readTime:Yr(a)}}))}(t.jn,e,t.Kn)})).then((function(e){var n=e.En,r=e.readTime;return t.Kn=r,n}))}function fa(e){return ha.apply(this,arguments)}function ha(){return(ha=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Li(e),n=J.min();return t.Kt({index:br.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Yr(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Kn=e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t,n,r){return pa.apply(this,arguments)}function pa(){return(pa=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,u,l,f,h,d,p,v,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=D(t),o=mn(),u=ln(),l=pn(),f=Object(s.a)(r);try{for(f.s();!(h=f.n()).done;)d=h.value,p=n.zn(d.metadata.name),d.document&&(o=o.add(p)),u=u.insert(p,n.Hn(d)),l=l.insert(p,n.Jn(d.metadata.readTime))}catch(c){f.e(c)}finally{f.f()}return v=a.jn.newChangeBuffer({trackRemovals:!0}),e.next=7,aa(a,function(e){return ht(at(re.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return m=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ra(e,v,u,J.min(),l).next((function(t){return v.apply(e),t})).next((function(t){return a.ze.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return a.ze.addMatchingKeys(e,o,m.targetId)})).next((function(){return a.Qn.vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e,t){return ma.apply(this,arguments)}function ma(){return ma=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:mn(),e.next=3,aa(t,ht(ni(n.bundledQuery)));case 3:return i=e.sent,a=D(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Pn(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Je.saveNamedQuery(e,n);var o=i.withResumeToken(ue.EMPTY_BYTE_STRING,t);return a.Un=a.Un.insert(o.targetId,o),a.ze.updateTargetData(e,o).next((function(){return a.ze.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.ze.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Je.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}var ya=function(){function e(t){Object(v.a)(this,e),this.N=t,this.Yn=new Map,this.Xn=new Map}return Object(m.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Nr.resolve(this.Yn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Pn(n.createTime)}),Nr.resolve()}},{key:"getNamedQuery",value:function(e,t){return Nr.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:ni(e.bundledQuery),readTime:Pn(e.readTime)}}(t)),Nr.resolve()}}]),e}(),ga=function(){function e(){Object(v.a)(this,e),this.Zn=new sn(ba.ts),this.es=new sn(ba.ns)}return Object(m.a)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ba(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new ba(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"cs",value:function(e){var t=this,n=new be(new re([])),r=new ba(n,e),i=new ba(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"us",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new be(new re([])),n=new ba(t,e),r=new ba(t,e+1),i=mn();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ba(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ba=function(){function e(t,n){Object(v.a)(this,e),this.key=t,this.ls=n}return Object(m.a)(e,null,[{key:"ts",value:function(e,t){return be.comparator(e.key,t.key)||Q(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Q(e.ls,t.ls)||be.comparator(e.key,t.key)}}]),e}(),ka=function(){function e(t,n){Object(v.a)(this,e),this.Ht=t,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new sn(ba.ts)}return Object(m.a)(e,[{key:"checkEmpty",value:function(e){return Nr.resolve(0===this.In.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];var a=new Br(i,t,n,r);this.In.push(a);var o,u=Object(s.a)(r);try{for(u.s();!(o=u.n()).done;){var c=o.value;this.ds=this.ds.add(new ba(c.key,i)),this.Ht.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Nr.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Nr.resolve(this.ws(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this._s(n),i=r<0?0:r;return Nr.resolve(this.In.length>i?this.In[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Nr.resolve(0===this.In.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Nr.resolve(this.In.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ba(t,0),i=new ba(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n.ws(e.ls);a.push(t)})),Nr.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sn(Q);return t.forEach((function(e){var t=new ba(e,0),i=new ba(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Nr.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;be.isDocumentKey(i)||(i=i.child(""));var a=new ba(new be(i),0),o=new sn(Q);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Nr.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ws(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;A(0===this.ys(t.batchId,"removed")),this.In.shift();var r=this.ds;return Nr.forEach(t.mutations,(function(i){var a=new ba(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"te",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ba(t,0),r=this.ds.firstAfterOrEqual(n);return Nr.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.In.length,Nr.resolve()}},{key:"ys",value:function(e,t){return this._s(e)}},{key:"_s",value:function(e){return 0===this.In.length?0:e-this.In[0].batchId}},{key:"ws",value:function(e){var t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}]),e}(),wa=function(){function e(t,n){Object(v.a)(this,e),this.Ht=t,this.ps=n,this.docs=new rn(be.comparator),this.size=0}return Object(m.a)(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-a,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Nr.resolve(n?n.document.clone():Me.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ln();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Me.newInvalidDocument(e))})),Nr.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=ln(),i=new be(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||yt(t,c)&&(r=r.insert(c.key,c.clone()))}return Nr.resolve(r)}},{key:"Ts",value:function(e,t){return Nr.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Oa(this)}},{key:"getSize",value:function(e){return Nr.resolve(this.size)}}]),e}(),Oa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).Se=e,r}return Object(m.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Se.addEntry(e,i.document,t.getReadTime(r))):t.Se.removeEntry(r)})),Nr.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Se.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Se.getEntries(e,t)}}]),n}(Ai),_a=function(){function e(t){Object(v.a)(this,e),this.persistence=t,this.Es=new Ri((function(e){return Ue(e)}),qe),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Is=0,this.As=new ga,this.targetCount=0,this.Rs=bi.se()}return Object(m.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Es.forEach((function(e,n){return t(n)})),Nr.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Nr.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Nr.resolve(this.Is)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Nr.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Nr.resolve()}},{key:"ce",value:function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new bi(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Nr.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Nr.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Nr.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Es.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Es.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Nr.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Nr.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Es.get(t)||null;return Nr.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Nr.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Nr.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.cs(t),Nr.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Nr.resolve(n)}},{key:"containsKey",value:function(e,t){return Nr.resolve(this.As.containsKey(t))}}]),e}(),ja=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.bs={},this.Le=new K(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new _a(this),this.Ht=new oi,this.He=function(e,t){return new wa(e,(function(e){return r.referenceDelegate.Ps(e)}))}(this.Ht),this.N=new Hr(n),this.Je=new ya(this.N)}return Object(m.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Be=!1,Promise.resolve()}},{key:"started",get:function(){return this.Be}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new ka(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;S("MemoryPersistence","Starting transaction:",e);var i=new xa(this.Le.next());return this.referenceDelegate.vs(),n(i).next((function(e){return r.referenceDelegate.Vs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ss",value:function(e,t){return Nr.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),xa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(Cr),Ea=function(){function e(t){Object(v.a)(this,e),this.persistence=t,this.Ds=new ga,this.Cs=null}return Object(m.a)(e,[{key:"xs",get:function(){if(this.Cs)return this.Cs;throw R()}},{key:"addReference",value:function(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Nr.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Nr.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Nr.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ds.cs(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"vs",value:function(){this.Cs=new Set}},{key:"Vs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Nr.forEach(this.xs,(function(r){var i=be.fromPath(r);return t.ks(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Cs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.ks(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"Ps",value:function(e){return 0}},{key:"ks",value:function(e,t){var n=this;return Nr.or([function(){return Nr.resolve(n.Ds.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ss(e,t)}])}}],[{key:"Ns",value:function(t){return new e(t)}}]),e}();function Ta(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Sa(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ia(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ca=function(){function e(t,n,r,i){Object(v.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Object(m.a)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new L(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(I("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Na=function(){function e(t,n,r){Object(v.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(m.a)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new L(i.error.code,i.error.message))),a?new e(t,i.state,r):(I("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ra=function(){function e(t,n){Object(v.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(m.a)(e,null,[{key:"$s",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=gn(),o=0;i&&o<r.activeTargetIds.length;++o)i=ge(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(I("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Aa=function(){function e(t,n){Object(v.a)(this,e),this.clientId=t,this.onlineState=n}return Object(m.a)(e,null,[{key:"$s",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(I("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Pa=function(){function e(){Object(v.a)(this,e),this.activeTargetIds=gn()}return Object(m.a)(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Da=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new rn(Q),this.started=!1,this.Ks=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.js=Ta(this.persistenceKey,this.Ls),this.Qs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Pa),this.Ws=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.zs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Hs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Js=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}return Object(m.a)(e,[{key:"start",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a,o,u,l,f,h,d,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.pn();case 2:t=e.sent,n=Object(s.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.Ls){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Ta(this.persistenceKey,i)))&&(o=Ra.$s(i,a))&&(this.qs=this.qs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ys(),(u=this.storage.getItem(this.Hs))&&(l=this.Xs(u))&&this.Zs(l),f=Object(s.a)(this.Ks);try{for(f.s();!(h=f.n()).done;)d=h.value,this.Us(d)}catch(c){f.e(c)}finally{f.f()}this.Ks=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Qs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ti(this.qs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ei(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ei(e,t,n),this.ni(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ia(this.persistenceKey,e));if(n){var r=Na.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}},{key:"removeLocalQueryTarget",value:function(e){this.si.Ms(e),this.Ys()}},{key:"isLocalQueryTarget",value:function(e){return this.si.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ia(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ii(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ni(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.ri(e)}},{key:"notifyBundleLoaded",value:function(){this.oi()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return S("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){S("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){S("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Us",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(S("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void I("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Object(l.a)(c.a.mark((function e(){var r,i,a,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Ws.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ai(r,null));case 6:if(!(i=t.ui(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ai(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.hi(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.li(a));case 16:e.next=39;break;case 18:if(!t.zs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.fi(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.di(o));case 23:e.next=39;break;case 25:if(n.key!==t.Hs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Zs(s));case 30:e.next=39;break;case 32:if(n.key!==t.Qs){e.next=37;break}u=function(e){var t=K.T;if(null!=e)try{var n=JSON.parse(e);A("number"==typeof n),t=n}catch(e){I("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==K.T&&t.sequenceNumberHandler(u),e.next=39;break;case 37:if(n.key!==t.Js){e.next=39;break}return e.abrupt("return",t.syncEngine.wi());case 39:e.next=42;break;case 41:t.Ks.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"si",get:function(){return this.qs.get(this.Ls)}},{key:"Ys",value:function(){this.setItem(this.js,this.si.Os())}},{key:"ei",value:function(e,t,n){var r=new Ca(this.currentUser,e,t,n),i=Sa(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}},{key:"ni",value:function(e){var t=Sa(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"ri",value:function(e){var t={clientId:this.Ls,onlineState:e};this.storage.setItem(this.Hs,JSON.stringify(t))}},{key:"ii",value:function(e,t,n){var r=Ia(this.persistenceKey,e),i=new Na(e,t,n);this.setItem(r,i.Os())}},{key:"oi",value:function(){this.setItem(this.Js,"value-not-used")}},{key:"ci",value:function(e){var t=this.Ws.exec(e);return t?t[1]:null}},{key:"ui",value:function(e,t){var n=this.ci(e);return Ra.$s(n,t)}},{key:"hi",value:function(e,t){var n=this.Gs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ca.$s(new _(i),r,t)}},{key:"fi",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]);return Na.$s(r,t)}},{key:"Xs",value:function(e){return Aa.$s(e)}},{key:"li",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine._i(t.batchId,t.state,t.error));case 2:S("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"di",value:function(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}},{key:"ai",value:function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),i=this.ti(this.qs),a=this.ti(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.gi(o,s).then((function(){n.qs=r}))}},{key:"Zs",value:function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ti",value:function(e){var t=gn();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ma=function(){function e(){Object(v.a)(this,e),this.yi=new Pa,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(m.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.yi.Fs(e),this.pi[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.pi[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.yi.Ms(e)}},{key:"isLocalQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.pi[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.yi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.yi=new Pa,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),La=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"Ti",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Fa=function(){function e(){var t=this;Object(v.a)(this,e),this.Ei=function(){return t.Ii()},this.Ai=function(){return t.Ri()},this.bi=[],this.Pi()}return Object(m.a)(e,[{key:"Ti",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}},{key:"Pi",value:function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}},{key:"Ii",value:function(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(s.a)(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ri",value:function(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(s.a)(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ua={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},qa=function(){function e(t){Object(v.a)(this,e),this.vi=t.vi,this.Vi=t.Vi}return Object(m.a)(e,[{key:"Si",value:function(e){this.Di=e}},{key:"Ci",value:function(e){this.Ni=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Vi()}},{key:"send",value:function(e){this.vi(e)}},{key:"ki",value:function(){this.Di()}},{key:"$i",value:function(e){this.Ni(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),za=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(m.a)(n,[{key:"qi",value:function(e,t,n,r){return new Promise((function(i,a){var o=new w.g;o.listenOnce(w.c.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case w.a.NO_ERROR:var t=o.getResponseJson();S("Connection","XHR received:",JSON.stringify(t)),i(t);break;case w.a.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),a(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case w.a.HTTP_ERROR:var n=o.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(t)>=0?t:M.UNKNOWN}(r.status);a(new L(s,r.message))}else a(new L(M.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new L(M.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{S("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ji",value:function(e,t){var n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(w.h)(),i=Object(w.i)(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new w.d({})),this.Ui(a.initMessageHeaders,t),Object(k.D)()||Object(k.G)()||Object(k.z)()||Object(k.B)()||Object(k.I)()||Object(k.y)()||(a.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");S("Connection","Creating WebChannel: "+o,a);var s=r.createWebChannel(o,a),u=!1,c=!1,l=new qa({vi:function(e){c?S("Connection","Not sending because WebChannel is closed:",e):(u||(S("Connection","Opening WebChannel transport."),s.open(),u=!0),S("Connection","WebChannel sending:",e),s.send(e))},Vi:function(){return s.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(s,w.f.EventType.OPEN,(function(){c||S("Connection","WebChannel transport opened.")})),f(s,w.f.EventType.CLOSE,(function(){c||(c=!0,S("Connection","WebChannel transport closed"),l.$i())})),f(s,w.f.EventType.ERROR,(function(e){c||(c=!0,C("Connection","WebChannel transport errored:",e),l.$i(new L(M.UNAVAILABLE,"The operation could not be completed")))})),f(s,w.f.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];A(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){S("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Yt[e];if(void 0!==t)return nn(t)}(a),u=i.message;void 0===o&&(o=M.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,l.$i(new L(o,u)),s.close()}else S("Connection","WebChannel received:",n),l.Oi(n)}})),f(i,w.b.STAT_EVENT,(function(e){e.stat===w.e.PROXY?S("Connection","Detected buffering proxy"):e.stat===w.e.NOPROXY&&S("Connection","Detected no buffering proxy")})),setTimeout((function(){l.ki()}),0),l}}]),n}(function(){function e(t){Object(v.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(m.a)(e,[{key:"Li",value:function(e,t,n,r){var i=this.Bi(e,t);S("RestConnection","Sending: ",i,n);var a={};return this.Ui(a,r),this.qi(e,i,a,n).then((function(e){return S("RestConnection","Received: ",e),e}),(function(t){throw C("RestConnection","".concat(e," failed with error: "),t,"url: ",i,"request:",n),t}))}},{key:"Ki",value:function(e,t,n,r){return this.Li(e,t,n,r)}},{key:"Ui",value:function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+j,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}},{key:"Bi",value:function(e,t){var n=Ua[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Va(){return"undefined"!=typeof window?window:null}function Ba(){return"undefined"!=typeof document?document:null}function Wa(e){return new Cn(e,!0)}var Ka=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(v.a)(this,e),this.Oe=t,this.timerId=n,this.Qi=r,this.Wi=i,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}return Object(m.a)(e,[{key:"reset",value:function(){this.zi=0}},{key:"Yi",value:function(){this.zi=this.Gi}},{key:"Xi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,(function(){return t.Ji=Date.now(),e()})),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}},{key:"tr",value:function(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}},{key:"cancel",value:function(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}},{key:"Zi",value:function(){return(Math.random()-.5)*this.zi}}]),e}(),Ha=function(){function e(t,n,r,i,a,o,s){Object(v.a)(this,e),this.Oe=t,this.er=r,this.nr=i,this.sr=a,this.credentialsProvider=o,this.listener=s,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new Ka(t,n)}return Object(m.a)(e,[{key:"ur",value:function(){return 1===this.state||5===this.state||this.hr()}},{key:"hr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.lr()}},{key:"stop",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ur(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dr",value:function(){this.state=0,this.ar.reset()}},{key:"wr",value:function(){var e=this;this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,(function(){return e._r()})))}},{key:"mr",value:function(e){this.gr(),this.stream.send(e)}},{key:"_r",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gr",value:function(){this.rr&&(this.rr.cancel(),this.rr=null)}},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gr(),this.yr(),this.ar.cancel(),this.ir++,4!==t?this.ar.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(I(n.toString()),I("Using maximum backoff delay to prevent overloading the backend."),this.ar.Yi()):n&&n.code===M.UNAUTHENTICATED&&3!==this.state&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.pr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ci(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"pr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Tr(this.ir),n=this.ir;this.credentialsProvider.getToken().then((function(t){e.ir===n&&e.Er(t)}),(function(n){t((function(){var t=new L(M.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ir(t)}))}))}},{key:"Er",value:function(e){var t=this,n=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si((function(){n((function(){return t.state=2,t.cr=t.Oe.enqueueAfterDelay(t.nr,1e4,(function(){return t.hr()&&(t.state=3),Promise.resolve()})),t.listener.Si()}))})),this.stream.Ci((function(e){n((function(){return t.Ir(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))}},{key:"lr",value:function(){var e=this;this.state=5,this.ar.Xi(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ir",value:function(e){return S("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Tr",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.ir===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ga=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o){var s;return Object(v.a)(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,o)).N=a,s}return Object(m.a)(n,[{key:"Ar",value:function(e){return this.sr.ji("Listen",e)}},{key:"onMessage",value:function(e){this.ar.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:R()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.D?(A(void 0===t||"string"==typeof t),ue.fromBase64String(t||"")):(A(void 0===t||t instanceof Uint8Array),ue.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?M.UNKNOWN:nn(e.code);return new L(t,e.message||"")}(o);n=new _n(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=Fn(e,u.document.name),l=Pn(u.document.updateTime),f=new Pe({mapValue:{fields:u.document.fields}}),h=Me.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new wn(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Fn(e,v.document),y=v.readTime?Pn(v.readTime):J.min(),g=Me.newNoDocument(m,y),b=v.removedTargetIds||[];n=new wn([],b,g.key,g)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Fn(e,k.document),O=k.removedTargetIds||[];n=new wn([],O,w,null)}else{if(!("filter"in t))return R();t.filter;var _=t.filter;_.targetId;var j=_.count||0,x=new en(j),E=_.targetId;n=new On(E,x)}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return J.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?J.min():t.readTime?Pn(t.readTime):J.min()}(e);return this.listener.Rr(t,n)}},{key:"br",value:function(e){var t={};t.database=zn(this.N),t.addTarget=function(e,t){var n,r=t.target;return(n=ze(r)?{documents:Qn(e,r)}:{query:$n(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Rn(e,t.resumeToken):t.snapshotVersion.compareTo(J.min())>0&&(n.readTime=Nn(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.mr(t)}},{key:"Pr",value:function(e){var t={};t.database=zn(this.N),t.removeTarget=e,this.mr(t)}}]),n}(Ha),Qa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o){var s;return Object(v.a)(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,o)).N=a,s.vr=!1,s}return Object(m.a)(n,[{key:"Vr",get:function(){return this.vr}},{key:"start",value:function(){this.vr=!1,this.lastStreamToken=void 0,Object(i.a)(Object(a.a)(n.prototype),"start",this).call(this)}},{key:"pr",value:function(){this.vr&&this.Sr([])}},{key:"Ar",value:function(e){return this.sr.ji("Write",e)}},{key:"onMessage",value:function(e){if(A(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();var t=function(e,t){return e&&e.length>0?(A(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Pn(e.updateTime):Pn(t);return n.isEqual(J.min())&&(n=Pn(t)),new Mt(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Pn(e.commitTime);return this.listener.Dr(n,t)}return A(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}},{key:"Nr",value:function(){var e={};e.database=zn(this.N),this.mr(e)}},{key:"Sr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Hn(t.N,e)}))};this.mr(n)}}]),n}(Ha),$a=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).credentials=e,a.sr=r,a.N=i,a.kr=!1,a}return Object(m.a)(n,[{key:"$r",value:function(){if(this.kr)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Li",value:function(e,t,n){var r=this;return this.$r(),this.credentials.getToken().then((function(i){return r.sr.Li(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new L(M.UNKNOWN,e.toString())}))}},{key:"Ki",value:function(e,t,n){var r=this;return this.$r(),this.credentials.getToken().then((function(i){return r.sr.Ki(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new L(M.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.kr=!0}}]),n}(function(){return function e(){Object(v.a)(this,e)}}()),Ya=function(){function e(t,n){Object(v.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}return Object(m.a)(e,[{key:"Lr",value:function(){var e=this;0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.Ur("Backend didn't respond within 10 seconds."),e.Br("Offline"),Promise.resolve()})))}},{key:"qr",value:function(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Br("Offline")))}},{key:"set",value:function(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}},{key:"Br",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Ur",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Mr?(I(t),this.Mr=!1):S("OnlineStateTracker",t)}},{key:"Kr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Xa=function e(t,n,r,i,a){var o=this;Object(v.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=a,this.zr.Ti((function(e){r.enqueueAndForget(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=uo(o),!e.t0){e.next=5;break}return S("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=D(t)).Wr.add(4),e.next=4,eo(n);case 4:return n.Hr.set("Unknown"),n.Wr.delete(4),e.next=8,Ja(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Hr=new Ya(r,i)};function Ja(e){return Za.apply(this,arguments)}function Za(){return(Za=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!uo(t)){e.next=18;break}n=Object(s.a)(t.Gr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function eo(e){return to.apply(this,arguments)}function to(){return(to=Object(l.a)(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(s.a)(t.Gr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function no(e,t){var n=D(e);n.Qr.has(t.targetId)||(n.Qr.set(t.targetId,t),so(n)?oo(n):Mo(n).hr()&&io(n,t))}function ro(e,t){var n=D(e),r=Mo(n);n.Qr.delete(t),r.hr()&&ao(n,t),0===n.Qr.size&&(r.hr()?r.wr():uo(n)&&n.Hr.set("Unknown"))}function io(e,t){e.Jr.Y(t.targetId),Mo(e).br(t)}function ao(e,t){e.Jr.Y(t),Mo(e).Pr(t)}function oo(e){e.Jr=new xn({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.Qr.get(t)||null}}),Mo(e).start(),e.Hr.Lr()}function so(e){return uo(e)&&!Mo(e).ur()&&e.Qr.size>0}function uo(e){return 0===D(e).Wr.size}function co(e){e.Jr=void 0}function lo(e){return fo.apply(this,arguments)}function fo(){return(fo=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Qr.forEach((function(e,n){io(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return(po=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:co(t),so(t)?(t.Hr.qr(n),oo(t)):t.Hr.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vo(e,t,n){return mo.apply(this,arguments)}function mo(){return mo=Object(l.a)(c.a.mark((function e(t,n,r){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Hr.set("Online"),!(n instanceof _n&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Object(s.a)(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Qr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Qr.delete(o),t.Jr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),S("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,yo(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof wn?t.Jr.rt(n):n instanceof On?t.Jr.ft(n):t.Jr.at(n),r.isEqual(J.min())){e.next=29;break}return e.prev=14,e.next=17,ta(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Jr._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Qr.get(r);i&&e.Qr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Qr.get(t);if(n){e.Qr.set(t,n.withResumeToken(ue.EMPTY_BYTE_STRING,n.snapshotVersion)),ao(e,t);var r=new Kr(n.target,t,1,n.sequenceNumber);io(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),S("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,yo(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),mo.apply(this,arguments)}function yo(e,t,n){return go.apply(this,arguments)}function go(){return(go=Object(l.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mr(n)){e.next=2;break}throw n;case 2:return t.Wr.add(1),e.next=5,eo(t);case 5:t.Hr.set("Offline"),r||(r=function(){return ta(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Wr.delete(1),e.next=6,Ja(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bo(e,t){return t().catch((function(n){return yo(e,n,t)}))}function ko(e){return wo.apply(this,arguments)}function wo(){return(wo=Object(l.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=D(t),r=Lo(n),i=n.jr.length>0?n.jr[n.jr.length-1].batchId:-1;case 2:if(!Oo(n)){e.next=19;break}return e.prev=3,e.next=6,ia(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.jr.length&&r.wr(),e.abrupt("break",19);case 10:i=a.batchId,_o(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,yo(n,e.t0);case 17:e.next=2;break;case 19:jo(n)&&xo(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Oo(e){return uo(e)&&e.jr.length<10}function _o(e,t){e.jr.push(t);var n=Lo(e);n.hr()&&n.Vr&&n.Sr(t.mutations)}function jo(e){return uo(e)&&!Lo(e).ur()&&e.jr.length>0}function xo(e){Lo(e).start()}function Eo(e){return To.apply(this,arguments)}function To(){return(To=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lo(t).Nr();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e){return Io.apply(this,arguments)}function Io(){return(Io=Object(l.a)(c.a.mark((function e(t){var n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Lo(t),r=Object(s.a)(t.jr);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Sr(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t,n){return No.apply(this,arguments)}function No(){return(No=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.jr.shift(),a=Wr.from(i,n,r),e.next=3,bo(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,ko(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Lo(t).Vr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!tn(i=n.code)||i===M.ABORTED){e.next=7;break}return r=t.jr.shift(),Lo(t).dr(),e.next=5,bo(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,ko(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:jo(t)&&xo(t);case 5:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Po(e,t){return Do.apply(this,arguments)}function Do(){return(Do=Object(l.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),!n){e.next=7;break}return r.Wr.delete(2),e.next=5,Ja(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Wr.add(2),e.next=12,eo(r);case 12:r.Hr.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mo(e){return e.Yr||(e.Yr=function(e,t,n){var r=D(e);return r.$r(),new Ga(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:lo.bind(null,e),Ci:ho.bind(null,e),Rr:vo.bind(null,e)}),e.Gr.push(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Yr.dr(),so(e)?oo(e):e.Hr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Yr.stop();case 6:co(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Yr}function Lo(e){return e.Xr||(e.Xr=function(e,t,n){var r=D(e);return r.$r(),new Qa(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:Eo.bind(null,e),Ci:Ro.bind(null,e),Cr:So.bind(null,e),Dr:Co.bind(null,e)}),e.Gr.push(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Xr.dr(),t.next=4,ko(e);case 4:t.next=9;break;case 6:return t.next=8,e.Xr.stop();case 8:e.jr.length>0&&(S("RemoteStore","Stopping write stream with ".concat(e.jr.length," pending writes")),e.jr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}var Fo=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Object(m.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Uo(e,t){if(I("AsyncQueue","".concat(t,": ").concat(e)),Mr(e))return new L(M.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var qo=function(){function e(t){Object(v.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||be.comparator(e.key,n.key)}:function(e,t){return be.comparator(e.key,t.key)},this.keyedMap=hn(),this.sortedSet=new rn(this.comparator)}return Object(m.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),zo=function(){function e(){Object(v.a)(this,e),this.Zr=new rn(be.comparator)}return Object(m.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Zr.get(t);n?0!==e.type&&3===n.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==n.type?this.Zr=this.Zr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Zr=this.Zr.remove(t):1===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):R():this.Zr=this.Zr.insert(t,e)}},{key:"eo",value:function(){var e=[];return this.Zr.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Vo=function(){function e(t,n,r,i,a,o,s,u){Object(v.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Object(m.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,qo.emptySet(n),a,r,i,!0,!1)}}]),e}(),Bo=function e(){Object(v.a)(this,e),this.no=void 0,this.listeners=[]},Wo=function e(){Object(v.a)(this,e),this.queries=new Ri((function(e){return vt(e)}),pt),this.onlineState="Unknown",this.so=new Set};function Ko(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Bo),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.no=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Uo(e.t0,"Initialization of query '".concat(mt(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.io(r.onlineState),o.no&&n.ro(o.no)&&Xo(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Go(e,t){return Qo.apply(this,arguments)}function Qo(){return(Qo=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $o(e,t){var n,r=D(e),i=!1,a=Object(s.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,c=r.queries.get(u);if(c){var l,f=Object(s.a)(c.listeners);try{for(f.s();!(l=f.n()).done;){l.value.ro(o)&&(i=!0)}}catch(h){f.e(h)}finally{f.f()}c.no=o}}}catch(h){a.e(h)}finally{a.f()}i&&Xo(r)}function Yo(e,t,n){var r=D(e),i=r.queries.get(t);if(i){var a,o=Object(s.a)(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Xo(e){e.so.forEach((function(e){e.next()}))}var Jo=function(){function e(t,n,r){Object(v.a)(this,e),this.query=t,this.oo=n,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}return Object(m.a)(e,[{key:"ro",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(s.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Vo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.co?this.uo(e)&&(this.oo.next(e),a=!0):this.ho(e,this.onlineState)&&(this.lo(e),a=!0),this.ao=e,a}},{key:"onError",value:function(e){this.oo.error(e)}},{key:"io",value:function(e){this.onlineState=e;var t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}},{key:"ho",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.fo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"uo",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"lo",value:function(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}]),e}(),Zo=function(){function e(t,n){Object(v.a)(this,e),this.payload=t,this.byteLength=n}return Object(m.a)(e,[{key:"wo",value:function(){return"metadata"in this.payload}}]),e}(),es=function(){function e(t){Object(v.a)(this,e),this.N=t}return Object(m.a)(e,[{key:"zn",value:function(e){return Fn(this.N,e)}},{key:"Hn",value:function(e){return e.metadata.exists?Wn(this.N,e.document,!1):Me.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}},{key:"Jn",value:function(e){return Pn(e)}}]),e}(),ts=function(){function e(t,n,r){Object(v.a)(this,e),this._o=t,this.localStore=n,this.N=r,this.queries=[],this.documents=[],this.progress=ns(t)}return Object(m.a)(e,[{key:"mo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"yo",value:function(e){var t,n=new Map,r=new es(this.N),i=Object(s.a)(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.zn(a.metadata.name),c=Object(s.a)(a.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||mn()).add(u);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(this.localStore,new es(this.N),this.documents,this._o.id);case 2:t=e.sent,n=this.yo(this.documents),r=Object(s.a)(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,va(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new Hi(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function ns(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var rs=function e(t){Object(v.a)(this,e),this.key=t},is=function e(t){Object(v.a)(this,e),this.key=t},as=function(){function e(t,n){Object(v.a)(this,e),this.query=t,this.po=n,this.To=null,this.current=!1,this.Eo=mn(),this.mutatedKeys=mn(),this.Io=gt(t),this.Ao=new qo(this.Io)}return Object(m.a)(e,[{key:"Ro",get:function(){return this.po}},{key:"bo",value:function(e,t){var n=this,r=t?t.Po:new zo,i=t?t.Ao:this.Ao,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=ot(this.query)&&i.size===this.query.limit?i.last():null,c=st(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=yt(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.vo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Io(f,u)>0||c&&n.Io(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),ot(this.query)||st(this.query))for(;o.size>this.query.limit;){var l=ot(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ao:o,Po:r,Ln:s,mutatedKeys:a}}},{key:"vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;var a=e.Po.eo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return n(e)-n(t)}(e.type,t.type)||r.Io(e.doc,t.doc)})),this.Vo(n);var o=t?this.So():[],s=0===this.Eo.size&&this.current?1:0,u=s!==this.To;return this.To=s,0!==a.length||u?{snapshot:new Vo(this.query,e.Ao,i,a,e.mutatedKeys,0===s,u,!1),Do:o}:{Do:o}}},{key:"io",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new zo,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}},{key:"Co",value:function(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}},{key:"Vo",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.po=t.po.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.po=t.po.delete(e)})),this.current=e.current)}},{key:"So",value:function(){var e=this;if(!this.current)return[];var t=this.Eo;this.Eo=mn(),this.Ao.forEach((function(t){e.Co(t.key)&&(e.Eo=e.Eo.add(t.key))}));var n=[];return t.forEach((function(t){e.Eo.has(t)||n.push(new is(t))})),this.Eo.forEach((function(e){t.has(e)||n.push(new rs(e))})),n}},{key:"No",value:function(e){this.po=e.Gn,this.Eo=mn();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Vo.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}]),e}(),os=function e(t,n,r){Object(v.a)(this,e),this.query=t,this.targetId=n,this.view=r},ss=function e(t){Object(v.a)(this,e),this.key=t,this.ko=!1},us=function(){function e(t,n,r,i,a,o){Object(v.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.$o={},this.Oo=new Ri((function(e){return vt(e)}),pt),this.Fo=new Map,this.Mo=new Set,this.Lo=new rn(be.comparator),this.Bo=new Map,this.Uo=new ga,this.qo={},this.Ko=new Map,this.jo=bi.ie(),this.onlineState="Unknown",this.Qo=void 0}return Object(m.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.Qo}}]),e}();function cs(e,t){return ls.apply(this,arguments)}function ls(){return(ls=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=nu(t),!(o=r.Oo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,aa(r.localStore,ht(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,fs(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&no(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fs(e,t,n,r){return hs.apply(this,arguments)}function hs(){return hs=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,s,u,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wo=function(e,n,r){return function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.bo(r),e.t0=a.Ln,!e.t0){e.next=6;break}return e.next=5,ua(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Rs(t,n.targetId,s.Do),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ua(t.localStore,n,!0);case 3:return a=e.sent,o=new as(n,a.Gn),s=o.bo(a.documents),u=kn.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),f=o.applyChanges(s,t.isPrimaryClient,u),Rs(t,r,f.Do),h=new os(n,r,o),e.abrupt("return",(t.Oo.set(n,h),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}function ds(e,t){return ps.apply(this,arguments)}function ps(){return(ps=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D(t),i=r.Oo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!pt(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,oa(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),ro(r.remoteStore,i.targetId),Cs(r,i.targetId)})).catch(ji);case 9:e.next=14;break;case 11:return Cs(r,i.targetId),e.next=14,oa(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e,t,n){return ms.apply(this,arguments)}function ms(){return(ms=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ru(t),e.prev=1,e.next=4,function(e,t){var n,r=D(e),i=X.now(),a=t.reduce((function(e,t){return e.add(t.key)}),mn());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Qn.Pn(e,a).next((function(a){n=a;var o,u=[],c=Object(s.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Vt(l,n.get(l.key));null!=f&&u.push(new Ht(l.key,f,De(f.value.mapValue),Lt.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return r.In.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.qo[e.currentUser.toKey()];r||(r=new rn(Q)),r=r.insert(t,n),e.qo[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Ds(i,a.changes);case 9:return e.next=11,ko(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Uo(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function ys(e,t){return gs.apply(this,arguments)}function gs(){return(gs=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.prev=1,e.next=4,na(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Bo.get(t);n&&(A(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ko=!0:e.modifiedDocuments.size>0?A(n.ko):e.removedDocuments.size>0&&(A(n.ko),n.ko=!1))})),e.next=8,Ds(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ji(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function bs(e,t,n){var r=D(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Oo.forEach((function(e,n){var r=n.view.io(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=D(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Object(s.a)(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.io(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Xo(n)}(r.eventManager,t),i.length&&r.$o.Rr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function ks(e,t,n){return ws.apply(this,arguments)}function ws(){return(ws=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=D(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Bo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new rn(be.comparator)).insert(o,Me.newNoDocument(o,J.min())),u=mn().add(o),l=new bn(J.min(),new Map,new sn(Q),s,u),e.next=9,ys(i,l);case 9:i.Lo=i.Lo.remove(o),i.Bo.delete(n),Ps(i),e.next=16;break;case 14:return e.next=16,oa(i.localStore,n,!1).then((function(){return Cs(i,n,r)})).catch(ji);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Os(e,t){return _s.apply(this,arguments)}function _s(){return(_s=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=n.batch.batchId,e.prev=1,e.next=4,ea(r.localStore,n);case 4:return a=e.sent,Is(r,i,null),Ss(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ds(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ji(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function js(e,t,n){return xs.apply(this,arguments)}function xs(){return(xs=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=D(t),e.prev=1,e.next=4,function(e,t){var n=D(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.In.lookupMutationBatch(e,t).next((function(t){return A(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.Pn(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Is(i,n,r),Ss(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ds(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ji(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function Es(e,t){return Ts.apply(this,arguments)}function Ts(){return(Ts=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return uo((r=D(t)).remoteStore)||S("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=D(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.In.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ko.get(i)||[]).push(n),r.Ko.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Uo(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Ss(e,t){(e.Ko.get(t)||[]).forEach((function(e){e.resolve()})),e.Ko.delete(t)}function Is(e,t,n){var r=D(e),i=r.qo[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function Cs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Object(s.a)(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Oo.delete(a),n&&e.$o.Go(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.Uo.cs(t).forEach((function(t){e.Uo.containsKey(t)||Ns(e,t)}))}function Ns(e,t){e.Mo.delete(t.path.canonicalString());var n=e.Lo.get(t);null!==n&&(ro(e.remoteStore,n),e.Lo=e.Lo.remove(t),e.Bo.delete(n),Ps(e))}function Rs(e,t,n){var r,i=Object(s.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof rs?(e.Uo.addReference(a.key,t),As(e,a)):a instanceof is?(S("SyncEngine","Document no longer in limbo: "+a.key),e.Uo.removeReference(a.key,t),e.Uo.containsKey(a.key)||Ns(e,a.key)):R()}}catch(o){i.e(o)}finally{i.f()}}function As(e,t){var n=t.key,r=n.path.canonicalString();e.Lo.get(n)||e.Mo.has(r)||(S("SyncEngine","New document in limbo: "+n),e.Mo.add(r),Ps(e))}function Ps(e){for(;e.Mo.size>0&&e.Lo.size<e.maxConcurrentLimboResolutions;){var t=e.Mo.values().next().value;e.Mo.delete(t);var n=new be(re.fromString(t)),r=e.jo.next();e.Bo.set(r,new ss(n)),e.Lo=e.Lo.insert(n,r),no(e.remoteStore,new Kr(ht(at(n.path)),r,2,K.T))}}function Ds(e,t,n){return Ms.apply(this,arguments)}function Ms(){return Ms=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=D(t),a=[],o=[],u=[],e.t0=i.Oo.isEmpty(),e.t0){e.next=9;break}return i.Oo.forEach((function(e,t){u.push(i.Wo(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Qi.kn(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.$o.Rr(a),e.next=9,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Nr.forEach(n,(function(t){return Nr.forEach(t.Nn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Nr.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Mr(e.t0)){e.next=10;break}throw e.t0;case 10:S("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Object(s.a)(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(l=r.Un.get(u),f=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(f),r.Un=r.Un.insert(u,h))}catch(c){i.e(c)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function Ls(e,t){return Fs.apply(this,arguments)}function Fs(){return(Fs=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=D(t)).currentUser.isEqual(n)){e.next=11;break}return S("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ji(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ko.forEach((function(e){e.forEach((function(e){e.reject(new L(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ko.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ds(r,i.Wn);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(e,t){var n=D(e),r=n.Bo.get(t);if(r&&r.ko)return mn().add(r.key);var i=mn(),a=n.Fo.get(t);if(!a)return i;var o,u=Object(s.a)(a);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=n.Oo.get(c);i=i.unionWith(l.view.Ro)}}catch(f){u.e(f)}finally{u.f()}return i}function qs(e,t){return zs.apply(this,arguments)}function zs(){return(zs=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),e.next=3,ua(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.No(i),e.abrupt("return",(r.isPrimaryClient&&Rs(r,n.targetId,a.Do),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vs(e){return Bs.apply(this,arguments)}function Bs(){return(Bs=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),e.abrupt("return",la(n.localStore).then((function(e){return Ds(n,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ws(e,t,n,r){return Ks.apply(this,arguments)}function Ks(){return(Ks=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=D(t),e.next=3,function(e,t){var n=D(e),r=D(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Xt(e,t).next((function(t){return t?n.Qn.Pn(e,t):Nr.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,ko(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Is(a,n,i||null),Ss(a,n),function(e,t){D(D(e).In).te(t)}(a.localStore,n)):R();case 11:return e.next=13,Ds(a,o);case 13:e.next=16;break;case 15:S("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hs(e,t){return Gs.apply(this,arguments)}function Gs(){return(Gs=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,u,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nu(r=D(t)),ru(r),!0!==n||!0===r.Qo){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Qs(r,i.toArray());case 5:return a=e.sent,r.Qo=!0,e.next=9,Po(r.remoteStore,!0);case 9:o=Object(s.a)(a);try{for(o.s();!(u=o.n()).done;)l=u.value,no(r.remoteStore,l)}catch(c){o.e(c)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Qo){e.next=25;break}return f=[],h=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?f.push(t):h=h.then((function(){return Cs(r,t),oa(r.localStore,t,!0)})),ro(r.remoteStore,t)})),e.next=19,h;case 19:return e.next=21,Qs(r,f);case 21:return function(e){var t=D(e);t.Bo.forEach((function(e,n){ro(t.remoteStore,n)})),t.Uo.us(),t.Bo=new Map,t.Lo=new rn(be.comparator)}(r),r.Qo=!1,e.next=25,Po(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e,t,n){return $s.apply(this,arguments)}function $s(){return($s=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u,l,f,h,d,p,v,m,y,g,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=D(t),a=[],o=[],u=Object(s.a)(n),e.prev=2,u.s();case 4:if((l=u.n()).done){e.next=45;break}if(f=l.value,h=void 0,!(d=i.Fo.get(f))||0===d.length){e.next=34;break}return e.next=11,aa(i.localStore,ht(d[0]));case 11:h=e.sent,p=Object(s.a)(d),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return m=v.value,y=i.Oo.get(m),e.next=20,qs(i,y);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ca(i.localStore,f);case 36:return b=e.sent,e.next=39,aa(i.localStore,b);case 39:return h=e.sent,e.next=42,fs(i,Ys(b),f,!1);case 42:a.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.$o.Rr(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function Ys(e){return it(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Xs(e){var t=D(e);return D(D(t.localStore).persistence).pn()}function Js(e,t,n,r){return Zs.apply(this,arguments)}function Zs(){return(Zs=Object(l.a)(c.a.mark((function e(t,n,r,i){var a,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=D(t)).Qo){e.next=5;break}S("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,la(a.localStore);case 11:return o=e.sent,s=bn.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Ds(a,o,s);case 15:return e.abrupt("break",21);case 16:return e.next=18,oa(a.localStore,n,!0);case 18:return Cs(a,n,i),e.abrupt("break",21);case 20:R();case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eu(e,t,n){return tu.apply(this,arguments)}function tu(){return(tu=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,u,l,f,h,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=nu(t)).Qo){e.next=45;break}a=Object(s.a)(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Fo.has(u)){e.next=10;break}return S("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ca(i.localStore,u);case 12:return l=e.sent,e.next=15,aa(i.localStore,l);case 15:return f=e.sent,e.next=18,fs(i,Ys(l),f.targetId,!1);case 18:no(i.remoteStore,f);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:h=Object(s.a)(r),e.prev=30,p=c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=i.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,oa(i.localStore,t,!1).then((function(){ro(i.remoteStore,t),Cs(i,t)})).catch(ji);case 5:case"end":return e.stop()}}),e)})),h.s();case 33:if((d=h.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function nu(e){var t=D(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ys.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Us.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ks.bind(null,t),t.$o.Rr=$o.bind(null,t.eventManager),t.$o.Go=Yo.bind(null,t.eventManager),t}function ru(e){var t=D(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Os.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=js.bind(null,t),t}function iu(e,t,n){var r=D(e);(function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=D(e),r=Pn(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Je.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(ns(i)),a=new ts(i,t.localStore,n.N),e.next=14,n.zo();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.mo(o);case 18:return(s=e.sent)&&r._updateProgress(s),e.next=22,n.zo();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return u=e.sent,e.next=30,Ds(t,u.En,void 0);case 30:return e.next=32,function(e,t){var n=D(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Je.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(u.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),C("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var au=function(){function e(){Object(v.a)(this,e),this.synchronizeTabs=!1}return Object(m.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.N=Wa(t.databaseInfo.databaseId),this.sharedClientState=this.Ho(t),this.persistence=this.Jo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Yo(t),this.localStore=this.Xo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Yo",value:function(e){return null}},{key:"Xo",value:function(e){return Xi(this.persistence,new $i,e.initialUser,this.N)}},{key:"Jo",value:function(e){return new ja(Ea.Ns,this.N)}},{key:"Ho",value:function(e){return new Ma}},{key:"terminate",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ou=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).Zo=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Object(m.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,fa(this.localStore);case 4:return e.next=6,this.Zo.initialize(this,t);case 6:return e.next=8,ru(this.Zo.syncEngine);case 8:return e.next=10,ko(this.Zo.remoteStore);case 10:return e.next=12,this.persistence.nn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return Xi(this.persistence,new $i,e.initialUser,this.N)}},{key:"Yo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Si(t,e.asyncQueue)}},{key:"Jo",value:function(e){var t=Ki(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?fi.withCacheSize(this.cacheSizeBytes):fi.DEFAULT;return new Vi(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Va(),Ba(),this.N,this.sharedClientState,!!this.forceOwnership)}},{key:"Ho",value:function(e){return new Ma}}]),n}(au),su=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,r,!1)).Zo=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Object(m.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r,o=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)(Object(a.a)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Zo.syncEngine,e.t0=this.sharedClientState instanceof Da,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={_i:Ws.bind(null,r),mi:Js.bind(null,r),gi:eu.bind(null,r),pn:Xs.bind(null,r),wi:Vs.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.nn(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hs(o.Zo.syncEngine,t);case 2:o.gcScheduler&&(t&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):t||o.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ho",value:function(e){var t=Va();if(!Da.bt(t))throw new L(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ki(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Da(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(ou),uu=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return bs(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ls.bind(null,this.syncEngine),e.next=12,Po(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Wo}},{key:"createDatastore",value:function(e){var t,n=Wa(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new za(t));return function(e,t,n){return new $a(e,t,n)}(e.credentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return bs(o.syncEngine,e,0)},a=Fa.bt()?new Fa:new La,new Xa(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new us(e,t,n,r,i,a);return o&&(s.Qo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=D(t),S("RemoteStore","RemoteStore shutting down."),n.Wr.add(5),e.next=5,eo(n);case 5:n.zr.shutdown(),n.Hr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function cu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Object(l.a)(c.a.mark((function r(){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var lu=function(){function e(t){Object(v.a)(this,e),this.observer=t,this.muted=!1}return Object(m.a)(e,[{key:"next",value:function(e){this.observer.next&&this.tc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"ec",value:function(){this.muted=!0}},{key:"tc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),fu=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.nc=t,this.N=n,this.metadata=new F,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then((function(e){e&&e.wo()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Object(m.a)(e,[{key:"close",value:function(){return this.nc.cancel()}},{key:"getMetadata",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zo",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ic());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ic",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.sc.decode(t),r=Number(n),isNaN(r)&&this.oc("length string (".concat(n,") is not valid number")),e.next=9,this.cc(r);case 9:return i=e.sent,e.abrupt("return",new Zo(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"rc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ac()<0)){e.next=7;break}return e.next=3,this.uc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ac())<0&&this.oc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cc",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.uc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.oc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"oc",value:function(e){throw this.nc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"uc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),hu=function(){function e(t){Object(v.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(m.a)(e,[{key:"lookup",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new L(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=zn(r.N)+"/documents",a={documents:n.map((function(e){return Ln(r.N,e)}))},e.next=5,r.Ki("BatchGetDocuments",i,a);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=Kn(r.N,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());A(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Jt(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=be.fromPath(t);n.mutations.push(new Zt(r,n.precondition(r)))})),e.next=7,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=D(t),i=zn(r.N)+"/documents",a={writes:n.map((function(e){return Hn(r.N,e)}))},e.next=3,r.Li("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw R();t=J.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new L(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Lt.updateTime(t):Lt.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(J.min()))throw new L(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Lt.updateTime(t)}return Lt.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),du=function(){function e(t,n,r,i){Object(v.a)(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.hc=5,this.ar=new Ka(this.asyncQueue,"transaction_retry")}return Object(m.a)(e,[{key:"run",value:function(){this.hc-=1,this.lc()}},{key:"lc",value:function(){var e=this;this.ar.Xi(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new hu(e.datastore),(r=e.fc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.dc(t)}))}))})).catch((function(t){e.dc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"fc",value:function(e){try{var t=this.updateFunction(e);return!me(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"dc",value:function(e){var t=this;this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget((function(){return t.lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"wc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!tn(t)}return!1}}]),e}(),pu=function(){function e(t,n,r){var i=this;Object(v.a)(this,e),this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=_.UNAUTHENTICATED,this.clientId=G.I(),this.credentialListener=function(){return Promise.resolve()},this.credentials.start(n,function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("FirestoreClient","Received user=",t.uid),e.next=3,i.credentialListener(t);case 3:i.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return Object(m.a)(e,[{key:"getConfiguration",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.credentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.credentials.shutdown(),t.resolve(),n.next=17;break;case 13:n.prev=13,n.t2=n.catch(0),r=Uo(n.t2,"Failed to shutdown persistence"),t.reject(r);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))),t.promise}}]),e}();function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ji(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function yu(e,t){return gu.apply(this,arguments)}function gu(){return gu=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,bu(t);case 3:return r=e.sent,S("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=D(t)).asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials"),i=uo(r),r.Wr.add(3),e.next=6,eo(r);case 6:return i&&r.Hr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Wr.delete(3),e.next=12,Ja(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function bu(e){return ku.apply(this,arguments)}function ku(){return(ku=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return S("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,vu(t,new au);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wu(e){return Ou.apply(this,arguments)}function Ou(){return(Ou=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return S("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,yu(t,new uu);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _u(e){return bu(e).then((function(e){return e.persistence}))}function ju(e){return bu(e).then((function(e){return e.localStore}))}function xu(e){return wu(e).then((function(e){return e.remoteStore}))}function Eu(e){return wu(e).then((function(e){return e.syncEngine}))}function Tu(e){return Su.apply(this,arguments)}function Su(){return(Su=Object(l.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wu(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=cs.bind(null,n.syncEngine),r.onUnlisten=ds.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lu({next:function(a){t.enqueueAndForget((function(){return Go(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Jo(at(n.path),a,{includeMetadataChanges:!0,fo:!0});return Ko(e,o)},i.next=3,Tu(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Cu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new lu({next:function(n){t.enqueueAndForget((function(){return Go(e,o)})),n.fromCache&&"server"===r.source?i.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Jo(n,a,{includeMetadataChanges:!0,fo:!0});return Ko(e,o)},i.next=3,Tu(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Nu=function e(t,n,r,i,a,o,s,u){Object(v.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u},Ru=function(){function e(t,n){Object(v.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(m.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Au=new Map;function Pu(e,t,n){if(!n)throw new L(M.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Du(e,t,n,r){if(!0===t&&!0===r)throw new L(M.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Mu(e){if(!be.isDocumentKey(e))throw new L(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Lu(e){if(be.isDocumentKey(e))throw new L(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Fu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":R()}function Uu(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Fu(e);throw new L(M.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function qu(e,t){if(t<=0)throw new L(M.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var zu=function(){function e(t){var n;if(Object(v.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Du("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(m.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Vu=function(){function e(t,n){Object(v.a)(this,e),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zu({}),this._settingsFrozen=!1,t instanceof Ru?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(e.options.projectId)}(t))}return Object(m.a)(e,[{key:"app",get:function(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zu(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new q;switch(e.type){case"gapi":var t=e.client;return A(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new W(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new L(M.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Au.get(e);t&&(S("ComponentProvider","Removing Datastore"),Au.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Bu(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Uu(e,Vu))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&C("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=_.MOCK_USER;else{o=Object(k.m)(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new _(u)}e._credentials=new z(new U(o,s))}}var Wu=function(){function e(t,n,r){Object(v.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(m.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Hu(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Ku=function(){function e(t,n,r){Object(v.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(m.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Hu=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this,e,r,at(i)))._path=i,a.type="collection",a}return Object(m.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Wu(this.firestore,null,new be(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Ku);function Gu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(k.u)(e),Pu("collection","path",t),e instanceof Vu){var a=re.fromString.apply(re,[t].concat(r));return Lu(a),new Hu(e,null,a)}if(!(e instanceof Wu||e instanceof Hu))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(re.fromString.apply(re,[t].concat(r)));return Lu(o),new Hu(e.firestore,null,o)}function Qu(e,t){if(e=Uu(e,Vu),Pu("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new L(M.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Ku(e,null,function(e){return new rt(re.emptyPath(),e)}(t))}function $u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(k.u)(e),1===arguments.length&&(t=G.I()),Pu("doc","path",t),e instanceof Vu){var a=re.fromString.apply(re,[t].concat(r));return Mu(a),new Wu(e,null,new be(a))}if(!(e instanceof Wu||e instanceof Hu))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(re.fromString.apply(re,[t].concat(r)));return Mu(o),new Wu(e.firestore,e instanceof Hu?e.converter:null,new be(o))}function Yu(e,t){return e=Object(k.u)(e),t=Object(k.u)(t),(e instanceof Wu||e instanceof Hu)&&(t instanceof Wu||t instanceof Hu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xu(e,t){return e=Object(k.u)(e),t=Object(k.u)(t),e instanceof Ku&&t instanceof Ku&&e.firestore===t.firestore&&pt(e._query,t._query)&&e.converter===t.converter}var Ju=function(){function e(){var t=this;Object(v.a)(this,e),this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new Ka(this,"async_queue_retry"),this.Rc=function(){var e=Ba();e&&S("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ar.tr()};var n=Ba();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Rc)}return Object(m.a)(e,[{key:"isShuttingDown",get:function(){return this.gc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.bc(),this.Pc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;var t=Ba();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}},{key:"enqueue",value:function(e){var t=this;if(this.bc(),this.gc)return new Promise((function(){}));var n=new F;return this.Pc((function(){return t.gc&&t.Ic?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.mc.push(e),t.vc()}))}},{key:"vc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.mc.length){e.next=14;break}return e.prev=1,e.next=4,this.mc[0]();case 4:this.mc.shift(),this.ar.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Mr(e.t0)){e.next=12;break}throw e.t0;case 12:S("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.mc.length>0&&this.ar.Xi((function(){return t.vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){var t=this,n=this._c.then((function(){return t.Ec=!0,e().catch((function(e){t.Tc=e,t.Ec=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw I("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ec=!1,e}))}));return this._c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.bc(),this.Ac.indexOf(e)>-1&&(t=0);var i=Fo.createAndSchedule(this,e,t,n,(function(e){return r.Vc(e)}));return this.yc.push(i),i}},{key:"bc",value:function(){this.Tc&&R()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._c,e.next=3,t;case 3:if(t!==this._c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){var t,n=Object(s.a)(this.yc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Cc",value:function(e){var t=this;return this.Sc().then((function(){t.yc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Object(s.a)(t.yc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Sc()}))}},{key:"Nc",value:function(e){this.Ac.push(e)}},{key:"Vc",value:function(e){var t=this.yc.indexOf(e);this.yc.splice(t,1)}}]),e}();function Zu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Object(s.a)(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var ec=function(){function e(){Object(v.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new F,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(m.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),tc=-1,nc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,r)).type="firestore",i._queue=new Ju,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(m.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||ic(this),this._firestoreClient.terminate()}}]),n}(Vu);function rc(e){return e._firestoreClient||ic(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ic(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Nu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new pu(e._credentials,e._queue,r)}function ac(e,t){pc(e=Uu(e,nc));var n=rc(e),r=e._freezeSettings(),i=new uu;return sc(n,i,new ou(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function oc(e){pc(e=Uu(e,nc));var t=rc(e),n=e._freezeSettings(),r=new uu;return sc(t,r,new su(r,n.cacheSizeBytes))}function sc(e,t,n){var r=new F;return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,vu(e,n);case 3:return i.next=5,yu(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function uc(e){if(e._initialized&&!e._terminated)throw new L(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new F;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ar.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ar.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Ki(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function cc(e){return function(e){var t=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Es,n.next=3,Eu(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(rc(e=Uu(e,nc)))}function lc(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_u(e);case 2:return n=t.sent,t.next=5,xu(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=D(e);return t.Wr.delete(0),Ja(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(rc(e=Uu(e,nc)))}function fc(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_u(e);case 2:return n=t.sent,t.next=5,xu(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=D(t)).Wr.add(0),e.next=4,eo(n);case 4:n.Hr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(rc(e=Uu(e,nc)))}function hc(e,t){var n=rc(e=Uu(e,nc)),r=new ec;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new fu(e,t)}(function(e,t){if(e instanceof Uint8Array)return cu(e,t);if(e instanceof ArrayBuffer)return cu(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Wa(t));e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=iu,t.next=3,Eu(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function dc(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=D(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Je.getNamedQuery(e,t)}))},n.next=3,ju(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(rc(e=Uu(e,nc)),t).then((function(t){return t?new Ku(e,null,t.query):null}))}function pc(e){if(e._initialized||e._terminated)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var vc=function(){function e(){Object(v.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ae(n)}return Object(m.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var mc=function(){function e(t){Object(v.a)(this,e),this._byteString=t}return Object(m.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ue.fromBase64String(t))}catch(t){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ue.fromUint8Array(t))}}]),e}(),yc=function e(t){Object(v.a)(this,e),this._methodName=t},gc=function(){function e(t,n){if(Object(v.a)(this,e),!isFinite(t)||t<-90||t>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(m.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}]),e}(),bc=/^__.*__$/,kc=function(){function e(t,n,r){Object(v.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(m.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ht(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kt(e,this.data,t,this.fieldTransforms)}}]),e}(),wc=function(){function e(t,n,r){Object(v.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(m.a)(e,[{key:"toMutation",value:function(e,t){return new Ht(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Oc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}var _c=function(){function e(t,n,r,i,a,o){Object(v.a)(this,e),this.settings=t,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Object(m.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"kc",get:function(){return this.settings.kc}},{key:"$c",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.Mc(e),r}},{key:"Lc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.xc(),r}},{key:"Bc",value:function(e){return this.$c({path:void 0,Fc:!0})}},{key:"Uc",value:function(e){return Bc(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}},{key:"Mc",value:function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(Oc(this.kc)&&bc.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}]),e}(),jc=function(){function e(t,n,r){Object(v.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.N=r||Wa(t)}return Object(m.a)(e,[{key:"jc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new _c({kc:e,methodName:t,Kc:n,path:ae.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}]),e}();function xc(e){var t=e._freezeSettings(),n=Wa(e._databaseId);return new jc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ec(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.jc(a.merge||a.mergeFields?2:0,t,n,i);Uc("Data must be an object, but it was:",o,r);var u,c,l=Lc(r,o);if(a.merge)u=new oe(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){var f,h=[],d=Object(s.a)(a.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=qc(t,p,n);if(!o.contains(v))throw new L(M.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Wc(h,v)||h.push(v)}}catch(m){d.e(m)}finally{d.f()}u=new oe(h),c=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,c=o.fieldTransforms;return new kc(new Pe(l),u,c)}var Tc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.kc)throw 1===e.kc?e.Uc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Uc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yc);function Sc(e,t,n){return new _c({kc:3,Kc:t.settings.Kc,methodName:e._methodName,Fc:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}var Ic=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){return new Dt(e.path,new Tt)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(yc),Cc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e)).Qc=r,i}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Sc(this,e,!0),n=this.Qc.map((function(e){return Mc(e,t)})),r=new St(n);return new Dt(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yc),Nc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e)).Qc=r,i}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){var t=Sc(this,e,!0),n=this.Qc.map((function(e){return Mc(e,t)})),r=new Ct(n);return new Dt(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yc),Rc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e)).Wc=r,i}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){var t=new Rt(e.N,Ot(e.N,this.Wc));return new Dt(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(yc);function Ac(e,t,n,r){var i=e.jc(1,t,n);Uc("Data must be an object, but it was:",i,r);var a=[],o=Pe.empty();ee(r,(function(e,r){var s=Vc(t,e,n);r=Object(k.u)(r);var u=i.Lc(s);if(r instanceof Tc)a.push(s);else{var c=Mc(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new oe(a);return new wc(o,s,i.fieldTransforms)}function Pc(e,t,n,r,i,a){var o=e.jc(1,t,n),s=[qc(t,r,n)],u=[i];if(a.length%2!=0)throw new L(M.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(qc(t,a[c])),u.push(a[c+1]);for(var l=[],f=Pe.empty(),h=s.length-1;h>=0;--h)if(!Wc(l,s[h])){var d=s[h],p=u[h];p=Object(k.u)(p);var v=o.Lc(d);if(p instanceof Tc)l.push(d);else{var m=Mc(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new oe(l);return new wc(f,y,o.fieldTransforms)}function Dc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Mc(n,e.jc(r?4:3,t))}function Mc(e,t){if(Fc(e=Object(k.u)(e)))return Uc("Unsupported field value:",t,e),Lc(e,t);if(e instanceof yc)return function(e,t){if(!Oc(t.kc))throw t.Uc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Uc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Object(s.a)(e);try{for(a.s();!(n=a.n()).done;){var o=Mc(n.value,t.Bc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(k.u)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ot(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=X.fromDate(e);return{timestampValue:Nn(t.N,n)}}if(e instanceof X){var r=new X(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Nn(t.N,r)}}if(e instanceof gc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mc)return{bytesValue:Rn(t.N,e._byteString)};if(e instanceof Wu){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Uc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Dn(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: ".concat(Fu(e)))}(e,t)}function Lc(e,t){var n={};return te(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ee(e,(function(e,r){var i=Mc(r,t.Oc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Fc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof X||e instanceof gc||e instanceof mc||e instanceof Wu||e instanceof yc)}function Uc(e,t,n){if(!Fc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Fu(n);throw"an object"===r?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}}function qc(e,t,n){if((t=Object(k.u)(t))instanceof vc)return t._internalPath;if("string"==typeof t)return Vc(e,t);throw Bc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var zc=new RegExp("[~\\*/\\[\\]]");function Vc(e,t,n){if(t.search(zc)>=0)throw Bc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(vc,Object(p.a)(t.split(".")))._internalPath}catch(i){throw Bc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Bc(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new L(M.INVALID_ARGUMENT,s+e+u)}function Wc(e,t){return e.some((function(e){return e.isEqual(t)}))}var Kc=function(){function e(t,n,r,i,a){Object(v.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(m.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Wu(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Hc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Gc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Hc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"data",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this)}}]),n}(Kc);function Gc(e,t){return"string"==typeof t?Vc(e,t):t instanceof vc?t._internalPath:t._delegate._internalPath}var Qc=function(){function e(t,n){Object(v.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(m.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),$c=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i,a,o,s){var u;return Object(v.a)(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Object(m.a)(n,[{key:"exists",value:function(){return Object(i.a)(Object(a.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Gc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Kc),Yc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(a.a)(n.prototype),"data",this).call(this,e)}}]),n}($c),Xc=function(){function e(t,n,r,i){Object(v.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qc(i.hasPendingWrites,i.fromCache),this.query=r}return Object(m.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Yc(n._firestore,n._userDataWriter,r.key,r,new Qc(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Yc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Yc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Jc(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Jc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}function Zc(e,t){return e instanceof $c&&t instanceof $c?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Xc&&t instanceof Xc&&e._firestore===t._firestore&&Xu(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function el(e){if(st(e)&&0===e.explicitOrderBy.length)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tl=function e(){Object(v.a)(this,e)};function nl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var rl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).Gc=e,a.zc=r,a.Hc=i,a.type="where",a}return Object(m.a)(n,[{key:"_apply",value:function(e){var t=xc(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new L(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on FieldPath.documentId()."));if("in"===a||"not-in"===a){gl(o,a);var c,l=[],f=Object(s.a)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(yl(r,e,h))}}catch(p){f.e(p)}finally{f.f()}u={arrayValue:{values:l}}}else u=yl(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||gl(o,a),u=Dc(n,"where",o,"in"===a||"not-in"===a);var d=Ve.create(i,a,u);return function(e,t){if(t.v()){var n=ct(e);if(null!==n&&!n.isEqual(t.field))throw new L(M.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ut(e);null!==r&&bl(e,t.field,r)}var i=function(e,t){var n,r=Object(s.a)(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new L(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new L(M.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Ku(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new rt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(tl);function il(e,t,n){var r=t,i=Gc("where",e);return new rl(i,r,n)}var al=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this)).Gc=e,i.Jc=r,i.type="orderBy",i}return Object(m.a)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ze(t,n);return function(e,t){if(null===ut(e)){var n=ct(e);null!==n&&bl(e,n,t.field)}}(e,r),r}(e._query,this.Gc,this.Jc);return new Ku(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new rt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(tl);function ol(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Gc("orderBy",e);return new al(r,n)}var sl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).type=e,a.Yc=r,a.Xc=i,a}return Object(m.a)(n,[{key:"_apply",value:function(e){return new Ku(e.firestore,e.converter,dt(e._query,this.Yc,this.Xc))}}]),n}(tl);function ul(e){return qu("limit",e),new sl("limit",e,"F")}function cl(e){return qu("limitToLast",e),new sl("limitToLast",e,"L")}var ll=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).type=e,a.Zc=r,a.ta=i,a}return Object(m.a)(n,[{key:"_apply",value:function(e){var t=ml(e,this.type,this.Zc,this.ta);return new Ku(e.firestore,e.converter,function(e,t){return new rt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(tl);function fl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ll("startAt",t,!0)}function hl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ll("startAfter",t,!1)}var dl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,i){var a;return Object(v.a)(this,n),(a=t.call(this)).type=e,a.Zc=r,a.ta=i,a}return Object(m.a)(n,[{key:"_apply",value:function(e){var t=ml(e,this.type,this.Zc,this.ta);return new Ku(e.firestore,e.converter,function(e,t){return new rt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(tl);function pl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dl("endBefore",t,!0)}function vl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dl("endAt",t,!1)}function ml(e,t,n,r){if(n[0]=Object(k.u)(n[0]),n[0]instanceof Kc)return function(e,t,n,r,i){if(!r)throw new L(M.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Object(s.a)(ft(e));try{for(u.s();!(a=u.n()).done;){var c=a.value;if(c.field.isKeyField())o.push(Te(t,r.key));else{var l=r.data.field(c.field);if(de(l))throw new L(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new L(M.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){u.e(h)}finally{u.f()}return new Xe(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=xc(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new L(M.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new L(M.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!lt(e)&&-1!==c.indexOf("/"))throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(re.fromString(c));if(!be.isDocumentKey(l))throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new be(l);s.push(Te(t,f))}else{var h=Dc(n,r,c);s.push(h)}}return new Xe(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function yl(e,t,n){if("string"==typeof(n=Object(k.u)(n))){if(""===n)throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!lt(t)&&-1!==n.indexOf("/"))throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(re.fromString(n));if(!be.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Te(e,new be(r))}if(n instanceof Wu)return Te(e,n._key);throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Fu(n),"."))}function gl(e,t){if(!Array.isArray(e)||0===e.length)throw new L(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new L(M.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function bl(e,t,n){if(!n.isEqual(t))throw new L(M.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var kl=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ke(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(he(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw R()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ee(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new gc(fe(e.latitude),fe(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=pe(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ve(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=le(e);return new X(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=re.fromString(e);A(sr(n));var r=new Ru(n.get(1),n.get(3)),i=new be(n.popFirst(5));return r.isEqual(t)||I("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function wl(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ol=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(m.a)(n,[{key:"convertBytes",value:function(e){return new mc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wu(this.firestore,null,t)}}]),n}(kl),_l=function(){function e(t,n){Object(v.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xc(t)}return Object(m.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=jl(e,this._firestore),i=wl(r.converter,t,n),a=Ec(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Lt.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=jl(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Object(k.u)(t))||t instanceof vc?Pc(this._dataReader,"WriteBatch.update",i._key,t,n,o):Ac(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Lt.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=jl(e,this._firestore);return this._mutations=this._mutations.concat(new Jt(t._key,Lt.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new L(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function jl(e,t){if((e=Object(k.u)(e)).firestore!==t)throw new L(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function xl(e){e=Uu(e,Wu);var t=Uu(e.firestore,nc);return Iu(rc(t),e._key).then((function(n){return Ul(t,e,n)}))}var El=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(m.a)(n,[{key:"convertBytes",value:function(e){return new mc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wu(this.firestore,null,t)}}]),n}(kl);function Tl(e){e=Uu(e,Wu);var t=Uu(e.firestore,nc),n=rc(t),r=new El(t);return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=D(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Qn.An(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new L(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Uo(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ju(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new $c(t,r,e._key,n,new Qc(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Sl(e){e=Uu(e,Wu);var t=Uu(e.firestore,nc);return Iu(rc(t),e._key,{source:"server"}).then((function(n){return Ul(t,e,n)}))}function Il(e){e=Uu(e,Ku);var t=Uu(e.firestore,nc),n=rc(t),r=new El(t);return el(e._query),Cu(n,e._query).then((function(n){return new Xc(t,r,e,n)}))}function Cl(e){e=Uu(e,Ku);var t=Uu(e.firestore,nc),n=rc(t),r=new El(t);return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var i,a,o,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ua(t,n,!0);case 3:i=e.sent,a=new as(n,i.Gn),o=a.bo(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=Uo(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ju(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Xc(t,r,e,n)}))}function Nl(e){e=Uu(e,Ku);var t=Uu(e.firestore,nc),n=rc(t),r=new El(t);return Cu(n,e._query,{source:"server"}).then((function(n){return new Xc(t,r,e,n)}))}function Rl(e,t,n){e=Uu(e,Wu);var r=Uu(e.firestore,nc),i=wl(e.converter,t,n);return Fl(r,[Ec(xc(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Lt.none())])}function Al(e,t,n){e=Uu(e,Wu);for(var r=Uu(e.firestore,nc),i=xc(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Fl(r,[("string"==typeof(t=Object(k.u)(t))||t instanceof vc?Pc(i,"updateDoc",e._key,t,n,o):Ac(i,"updateDoc",e._key,t)).toMutation(e._key,Lt.exists(!0))])}function Pl(e){return Fl(Uu(e.firestore,nc),[new Jt(e._key,Lt.none())])}function Dl(e,t){var n=Uu(e.firestore,nc),r=$u(e),i=wl(e.converter,t);return Fl(n,[Ec(xc(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Lt.exists(!1))]).then((function(){return r}))}function Ml(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Object(k.u)(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||Zu(n[u])||(s=n[u],u++);var f,h,d,p={includeMetadataChanges:s.includeMetadataChanges};if(Zu(n[u])){var v=n[u];n[u]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[u+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[u+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof Wu)h=Uu(e.firestore,nc),d=at(e._key.path),f={next:function(t){n[u]&&n[u](Ul(h,e,t))},error:n[u+1],complete:n[u+2]};else{var m=Uu(e,Ku);h=Uu(m.firestore,nc),d=m._query;var y=new El(h);f={next:function(e){n[u]&&n[u](new Xc(h,y,m,e))},error:n[u+1],complete:n[u+2]},el(e._query)}return function(e,t,n,r){var i=new lu(r),a=new Jo(t,i,n);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ko,t.next=3,Tu(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.ec(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Go,t.next=3,Tu(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rc(h),d,p,f)}function Ll(e,t){return function(e,t){var n=new lu(t);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){D(e).so.add(t),t.next()},t.next=3,Tu(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.ec(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){D(e).so.delete(t)},t.next=3,Tu(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(rc(e=Uu(e,nc)),Zu(t)?t:{next:t})}function Fl(e,t){return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=vs,r.next=3,Eu(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(rc(e),t)}function Ul(e,t,n){var r=n.docs.get(t._key),i=new El(e);return new $c(e,i,t._key,r,new Qc(n.hasPendingWrites,n.fromCache),t.converter)}var ql=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var i;return Object(v.a)(this,n),(i=t.call(this,e,r))._firestore=e,i}return Object(m.a)(n,[{key:"get",value:function(e){var t=this,r=jl(e,this._firestore),o=new El(this._firestore);return Object(i.a)(Object(a.a)(n.prototype),"get",this).call(this,e).then((function(e){return new $c(t._firestore,o,r._key,e._document,new Qc(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Object(v.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=xc(t)}return Object(m.a)(e,[{key:"get",value:function(e){var t=this,n=jl(e,this._firestore),r=new Ol(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return R();var i=e[0];if(i.isFoundDocument())return new Kc(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Kc(t._firestore,r,n._key,null,n.converter);throw R()}))}},{key:"set",value:function(e,t,n){var r=jl(e,this._firestore),i=wl(r.converter,t,n),a=Ec(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=jl(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Object(k.u)(t))||t instanceof vc?Pc(this._dataReader,"Transaction.update",i._key,t,n,o):Ac(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=jl(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function zl(e,t){return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){var i;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return wu(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new du(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(rc(e=Uu(e,nc)),(function(n){return t(new ql(e,n))}))}function Vl(){return new Tc("deleteField")}function Bl(){return new Ic("serverTimestamp")}function Wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cc("arrayUnion",t)}function Kl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Nc("arrayRemove",t)}function Hl(e){return new Rc("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){j=e}(y.SDK_VERSION),Object(y._registerComponent)(new g.a("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new nc(i,new V(e.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Object(y.registerVersion)(O,"3.3.0",e),Object(y.registerVersion)(O,"3.3.0","esm2017")}()}).call(this,n(85))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(64);var i=n(46),a=n(65);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Object(i.a)(e,t)||Object(a.a)()}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var r=n(5),i=n(90),a=n(33);function o(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function s(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.a=function(e){var t=e.prop,n=e.cssProperty,u=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return Object(a.b)(e,n,(function(e){var n=s(f,l,e);return e===n&&"string"===typeof e&&(n=s(f,l,"".concat(t).concat("default"===e?"":Object(i.a)(e)),e)),!1===u?n:Object(r.a)({},u,n)}))};return f.propTypes={},f.filterProps=[t],f}},function(e,t,n){"use strict";n.d(t,"b",(function(){return We})),n.d(t,"c",(function(){return Ke}));var r=n(21),i=n(7),a=n(15),o=(n(86),n(6)),s=n(49),u=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c=Object(s.a)((function(e){return u.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(34);function f(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var h=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},d=n(68),p=n(69),v=/[A-Z]|^ms/g,m=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y=function(e){return 45===e.charCodeAt(1)},g=function(e){return null!=e&&"boolean"!==typeof e},b=Object(s.a)((function(e){return y(e)?e:e.replace(v,"-$&").toLowerCase()})),k=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(m,(function(e,t,n){return O={name:t,styles:n,next:O},t}))}return 1===p.a[e]||y(e)||"number"!==typeof t||0===t?t:t+"px"};function w(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return O={name:n.name,styles:n.styles,next:O},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)O={name:r.name,styles:r.styles,next:O},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=w(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":g(o)&&(r+=b(a)+":"+k(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=w(e,t,o);switch(a){case"animation":case"animationName":r+=b(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)g(o[u])&&(r+=b(a)+":"+k(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=O,a=n(e);return O=i,w(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var O,_=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var j=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";O=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=w(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=w(n,t,e[o]),r&&(i+=a[o]);_.lastIndex=0;for(var s,u="";null!==(s=_.exec(i));)u+="-"+s[1];return{name:Object(d.a)(i)+u,styles:i,next:O}},x=c,E=function(e){return"theme"!==e},T=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?x:E},S=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},I=function e(t,n){var r,a,s=t.__emotion_real===t,u=s&&t.__emotion_base||t;void 0!==n&&(r=n.label,a=n.target);var c=S(t,n,s),d=c||T(u),p=!d("as");return function(){var v=arguments,m=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&m.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)m.push.apply(m,v);else{0,m.push(v[0][0]);for(var y=v.length,g=1;g<y;g++)m.push(v[g],v[0][g])}var b=Object(l.e)((function(e,t,n){var r=p&&e.as||u,i="",s=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=Object(o.useContext)(l.b)}"string"===typeof e.className?i=f(t.registered,s,e.className):null!=e.className&&(i=e.className+" ");var g=j(m.concat(s),t.registered,v);h(t,g,"string"===typeof r);i+=t.key+"-"+g.name,void 0!==a&&(i+=" "+a);var b=p&&void 0===c?T(r):d,k={};for(var w in e)p&&"as"===w||b(w)&&(k[w]=e[w]);return k.className=i,k.ref=n,Object(o.createElement)(r,k)}));return b.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",b.defaultProps=t.defaultProps,b.__emotion_real=b,b.__emotion_base=u,b.__emotion_styles=m,b.__emotion_forwardProp=c,Object.defineProperty(b,"toString",{value:function(){return"."+a}}),b.withComponent=function(t,r){return e(t,Object(i.a)({},n,r,{shouldForwardProp:S(b,r,!0)})).apply(void 0,m)},b}},C=I.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){C[e]=C(e)}));var N=C;function R(e,t){return N(e,t)}var A=n(148),P=n(5),D=n(43),M=n(17);var L=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?Object(D.a)(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i},F=n(36),U=n(33);function q(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var z=Object(M.a)({prop:"border",themeKey:"borders",transform:q}),V=Object(M.a)({prop:"borderTop",themeKey:"borders",transform:q}),B=Object(M.a)({prop:"borderRight",themeKey:"borders",transform:q}),W=Object(M.a)({prop:"borderBottom",themeKey:"borders",transform:q}),K=Object(M.a)({prop:"borderLeft",themeKey:"borders",transform:q}),H=Object(M.a)({prop:"borderColor",themeKey:"palette"}),G=Object(M.a)({prop:"borderTopColor",themeKey:"palette"}),Q=Object(M.a)({prop:"borderRightColor",themeKey:"palette"}),$=Object(M.a)({prop:"borderBottomColor",themeKey:"palette"}),Y=Object(M.a)({prop:"borderLeftColor",themeKey:"palette"}),X=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=Object(F.b)(e.theme,"shape.borderRadius",4,"borderRadius");return Object(U.b)(e,e.borderRadius,(function(e){return{borderRadius:Object(F.d)(t,e)}}))}return null};X.propTypes={},X.filterProps=["borderRadius"];var J=L(z,V,B,W,K,H,G,Q,$,Y,X),Z=L(Object(M.a)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),Object(M.a)({prop:"display"}),Object(M.a)({prop:"overflow"}),Object(M.a)({prop:"textOverflow"}),Object(M.a)({prop:"visibility"}),Object(M.a)({prop:"whiteSpace"})),ee=L(Object(M.a)({prop:"flexBasis"}),Object(M.a)({prop:"flexDirection"}),Object(M.a)({prop:"flexWrap"}),Object(M.a)({prop:"justifyContent"}),Object(M.a)({prop:"alignItems"}),Object(M.a)({prop:"alignContent"}),Object(M.a)({prop:"order"}),Object(M.a)({prop:"flex"}),Object(M.a)({prop:"flexGrow"}),Object(M.a)({prop:"flexShrink"}),Object(M.a)({prop:"alignSelf"}),Object(M.a)({prop:"justifyItems"}),Object(M.a)({prop:"justifySelf"})),te=function(e){if(void 0!==e.gap&&null!==e.gap){var t=Object(F.b)(e.theme,"spacing",8,"gap");return Object(U.b)(e,e.gap,(function(e){return{gap:Object(F.d)(t,e)}}))}return null};te.propTypes={},te.filterProps=["gap"];var ne=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=Object(F.b)(e.theme,"spacing",8,"columnGap");return Object(U.b)(e,e.columnGap,(function(e){return{columnGap:Object(F.d)(t,e)}}))}return null};ne.propTypes={},ne.filterProps=["columnGap"];var re=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=Object(F.b)(e.theme,"spacing",8,"rowGap");return Object(U.b)(e,e.rowGap,(function(e){return{rowGap:Object(F.d)(t,e)}}))}return null};re.propTypes={},re.filterProps=["rowGap"];var ie=L(te,ne,re,Object(M.a)({prop:"gridColumn"}),Object(M.a)({prop:"gridRow"}),Object(M.a)({prop:"gridAutoFlow"}),Object(M.a)({prop:"gridAutoColumns"}),Object(M.a)({prop:"gridAutoRows"}),Object(M.a)({prop:"gridTemplateColumns"}),Object(M.a)({prop:"gridTemplateRows"}),Object(M.a)({prop:"gridTemplateAreas"}),Object(M.a)({prop:"gridArea"})),ae=L(Object(M.a)({prop:"position"}),Object(M.a)({prop:"zIndex",themeKey:"zIndex"}),Object(M.a)({prop:"top"}),Object(M.a)({prop:"right"}),Object(M.a)({prop:"bottom"}),Object(M.a)({prop:"left"})),oe=L(Object(M.a)({prop:"color",themeKey:"palette"}),Object(M.a)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),Object(M.a)({prop:"backgroundColor",themeKey:"palette"})),se=Object(M.a)({prop:"boxShadow",themeKey:"shadows"});function ue(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var ce=Object(M.a)({prop:"width",transform:ue}),le=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return Object(U.b)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||U.d[t]||ue(t)}}))}return null};le.filterProps=["maxWidth"];var fe=Object(M.a)({prop:"minWidth",transform:ue}),he=Object(M.a)({prop:"height",transform:ue}),de=Object(M.a)({prop:"maxHeight",transform:ue}),pe=Object(M.a)({prop:"minHeight",transform:ue}),ve=(Object(M.a)({prop:"size",cssProperty:"width",transform:ue}),Object(M.a)({prop:"size",cssProperty:"height",transform:ue}),L(ce,le,fe,he,de,pe,Object(M.a)({prop:"boxSizing"}))),me=Object(M.a)({prop:"fontFamily",themeKey:"typography"}),ye=Object(M.a)({prop:"fontSize",themeKey:"typography"}),ge=Object(M.a)({prop:"fontStyle",themeKey:"typography"}),be=Object(M.a)({prop:"fontWeight",themeKey:"typography"}),ke=Object(M.a)({prop:"letterSpacing"}),we=Object(M.a)({prop:"lineHeight"}),Oe=Object(M.a)({prop:"textAlign"}),_e=L(Object(M.a)({prop:"typography",cssProperty:!1,themeKey:"typography"}),me,ye,ge,be,ke,we,Oe),je={borders:J.filterProps,display:Z.filterProps,flexbox:ee.filterProps,grid:ie.filterProps,positions:ae.filterProps,palette:oe.filterProps,shadows:se.filterProps,sizing:ve.filterProps,spacing:F.c.filterProps,typography:_e.filterProps},xe={borders:J,display:Z,flexbox:ee,grid:ie,positions:ae,palette:oe,shadows:se,sizing:ve,spacing:F.c,typography:_e},Ee=Object.keys(je).reduce((function(e,t){return je[t].forEach((function(n){e[n]=xe[t]})),e}),{});var Te=function(e,t,n){var r,i=(r={},Object(P.a)(r,e,t),Object(P.a)(r,"theme",n),r),a=Ee[e];return a?a(i):Object(P.a)({},e,t)};function Se(e){var t=e||{},n=t.sx,r=t.theme,i=void 0===r?{}:r;if(!n)return null;function a(e){var t=e;if("function"===typeof e)t=e(i);else if("object"!==typeof e)return e;var n=Object(U.a)(i.breakpoints),r=Object.keys(n),a=n;return Object.keys(t).forEach((function(e){var n,r,o=(n=t[e],r=i,"function"===typeof n?n(r):n);if("object"===typeof o)if(Ee[e])a=Object(D.a)(a,Te(e,o,i));else{var s=Object(U.b)({theme:i},o,(function(t){return Object(P.a)({},e,t)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(s,o)?a=Object(D.a)(a,s):a[e]=Se({sx:o,theme:i})}else a=Object(D.a)(a,Te(e,o,i))})),Object(U.c)(r,a)}return Array.isArray(n)?n.map(a):a(n)}Se.filterProps=["sx"];var Ie=Se,Ce=n(90),Ne=["variant"];function Re(e){return 0===e.length}function Ae(e){var t=e.variant,n=Object(a.a)(e,Ne),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Re(r)?e[t]:Object(Ce.a)(e[t]):"".concat(Re(r)?t:Object(Ce.a)(t)).concat(Object(Ce.a)(e[t].toString()))})),r}var Pe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],De=["theme"],Me=["theme"];function Le(e){return 0===Object.keys(e).length}var Fe=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Ue=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Ae(e.props);r[t]=e.style})),r},qe=function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[Ae(n.props)])})),u};function ze(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Ve=Object(A.a)();var Be=n(47),We=function(e){return ze(e)&&"classes"!==e},Ke=ze,He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Ve:t,o=e.rootShouldForwardProp,s=void 0===o?ze:o,u=e.slotShouldForwardProp,c=void 0===u?ze:u;return function(e){var t,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=o.name,l=o.slot,f=o.skipVariantsResolver,h=o.skipSx,d=o.overridesResolver,p=Object(a.a)(o,Pe),v=void 0!==f?f:l&&"Root"!==l||!1,m=h||!1;var y=ze;"Root"===l?y=s:l&&(y=c);var g=R(e,Object(i.a)({shouldForwardProp:y,label:t},p)),b=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];var c=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,o=Object(a.a)(t,De);return e(Object(i.a)({theme:Le(r)?n:r},o))}:e})):[],l=e;u&&d&&c.push((function(e){var t=Le(e.theme)?n:e.theme,r=Fe(u,t);return r?d(e,r):null})),u&&!v&&c.push((function(e){var t=Le(e.theme)?n:e.theme;return qe(e,Ue(u,t),t,u)})),m||c.push((function(e){var t=Le(e.theme)?n:e.theme;return Ie(Object(i.a)({},e,{theme:t}))}));var f=c.length-o.length;if(Array.isArray(e)&&f>0){var h=new Array(f).fill("");(l=[].concat(Object(r.a)(e),Object(r.a)(h))).raw=[].concat(Object(r.a)(e.raw),Object(r.a)(h))}else"function"===typeof e&&(l=function(t){var r=t.theme,o=Object(a.a)(t,Me);return e(Object(i.a)({theme:Le(r)?n:r},o))});var p=g.apply(void 0,[l].concat(Object(r.a)(c)));return p};return b}}({defaultTheme:Be.a,rootShouldForwardProp:We});t.a=He},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return $i})),n.d(t,"b",(function(){return Yi})),n.d(t,"c",(function(){return Mt})),n.d(t,"d",(function(){return ea})),n.d(t,"e",(function(){return Qa})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return ci})),n.d(t,"h",(function(){return li})),n.d(t,"i",(function(){return ia})),n.d(t,"j",(function(){return Ya})),n.d(t,"k",(function(){return Za})),n.d(t,"l",(function(){return _a})),n.d(t,"m",(function(){return xa})),n.d(t,"n",(function(){return Ba})),n.d(t,"o",(function(){return fa})),n.d(t,"p",(function(){return Xa})),n.d(t,"q",(function(){return Ja})),n.d(t,"r",(function(){return no})),n.d(t,"s",(function(){return Na})),n.d(t,"t",(function(){return Aa})),n.d(t,"u",(function(){return ka})),n.d(t,"v",(function(){return ma})),n.d(t,"w",(function(){return ya})),n.d(t,"x",(function(){return ga})),n.d(t,"y",(function(){return ba})),n.d(t,"z",(function(){return va})),n.d(t,"A",(function(){return Da})),n.d(t,"B",(function(){return La})),n.d(t,"C",(function(){return Ua})),n.d(t,"D",(function(){return za})),n.d(t,"E",(function(){return aa})),n.d(t,"F",(function(){return Wa})),n.d(t,"G",(function(){return na})),n.d(t,"H",(function(){return ra})),n.d(t,"I",(function(){return oa})),n.d(t,"J",(function(){return io})),n.d(t,"K",(function(){return to})),n.d(t,"L",(function(){return sa})),n.d(t,"M",(function(){return ua})),n.d(t,"N",(function(){return ca})),n.d(t,"O",(function(){return Ia})),n.d(t,"P",(function(){return Ta})),n.d(t,"Q",(function(){return la}));var r=n(0),i=n.n(r),a=n(16),o=n(3),s=n(40),u=n(10),c=n(11),l=n(21),f=n(9),h=n(2),d=n(4),p=n(12),v=n(20),m=n(1),y=n(28),g="@firebase/database",b="0.12.4",k="";function w(e){k=e}var O=function(){function e(t){Object(h.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(m.S)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(m.L)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),_=function(){function e(){Object(h.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(m.l)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),j=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new O(t)}}catch(n){}return new _},x=j("localStorage"),E=j("sessionStorage"),T=new y.b("@firebase/database"),S=function(){var e=1;return function(){return e++}}(),I=function(e){var t=Object(m.R)(e),n=new m.d;n.update(t);var r=n.digest();return m.h.encodeByteArray(r)},C=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Object(m.S)(r):r,t+=" "}return t},N=null,R=!0,A=function(e,t){Object(m.f)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(T.logLevel=y.a.VERBOSE,N=T.log.bind(T),t&&E.set("logging_enabled",!0)):"function"===typeof e?N=e:(N=null,E.remove("logging_enabled"))},P=function(){if(!0===R&&(R=!1,null===N&&!0===E.get("logging_enabled")&&A(!0)),N){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=C.apply(null,t);N(r)}},D=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];P.apply(void 0,[e].concat(n))}},M=function(){var e="FIREBASE INTERNAL ERROR: "+C.apply(void 0,arguments);T.error(e)},L=function(){var e="FIREBASE FATAL ERROR: ".concat(C.apply(void 0,arguments));throw T.error(e),new Error(e)},F=function(){var e="FIREBASE WARNING: "+C.apply(void 0,arguments);T.warn(e)},U=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},q="[MIN_NAME]",z="[MAX_NAME]",V=function(e,t){if(e===t)return 0;if(e===q||t===z)return-1;if(t===q||e===z)return 1;var n=J(e),r=J(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},B=function(e,t){return e===t?0:e<t?-1:1},W=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(m.S)(t))},K=function e(t){if("object"!==typeof t||null===t)return Object(m.S)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(m.S)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},H=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function G(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Q=function(e){Object(m.f)(!U(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var $=new RegExp("^-?(0*)\\d{1,10}$"),Y=-2147483648,X=2147483647,J=function(e){if($.test(e)){var t=Number(e);if(t>=Y&&t<=X)return t}return null},Z=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw F("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ee=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},te=function(){function e(t,n){var r=this;Object(h.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){F('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ne=function(){function e(t,n,r){var i=this;Object(h.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(P("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',F(e)}}]),e}(),re=function(){function e(t){Object(h.a)(this,e),this.accessToken=t}return Object(d.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();re.OWNER="owner";var ie="5",ae=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oe="websocket",se="long_polling",ue=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(h.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=x.get("host:"+t)||this._host}return Object(d.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&x.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function ce(e,t,n){var r;if(Object(m.f)("string"===typeof t,"typeof type must == string"),Object(m.f)("object"===typeof n,"typeof params must == object"),t===oe)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==se)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return G(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var le=function(){function e(){Object(h.a)(this,e),this.counters_={}}return Object(d.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(m.l)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(m.o)(this.counters_)}}]),e}(),fe={},he={};function de(e){var t=e.toString();return fe[t]||(fe[t]=new le),fe[t]}var pe=function(){function e(t){Object(h.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(d.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Z((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ve="start",me="close",ye=function(){function e(t,n,r,i,a,o,s){var u=this;Object(h.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=D(t),this.stats_=de(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),ce(n,se,e)}}return Object(d.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new pe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(m.F)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ge((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ve)n.id=a,n.password=o;else{if(i!==me)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=ie,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ae.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(m.S)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(m.j)(t),r=H(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(m.F)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(m.S)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(m.F)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),ge=function(){function e(t,n,r,i){if(Object(h.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(m.F)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=S(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){P("frame writing exception"),s.stack&&P(s.stack),P(s)}}}return Object(d.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Object(m.F)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){P("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||P("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),be=null;"undefined"!==typeof MozWebSocket?be=MozWebSocket:"undefined"!==typeof WebSocket&&(be=WebSocket);var ke=function(){function t(e,n,r,i,a,o,s){Object(h.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=D(this.connId),this.stats_=de(n),this.connURL=t.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return Object(d.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,x.set("previous_websocket_failure",!0);try{if(Object(m.F)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/".concat(ie,"/").concat(k,"/").concat(e.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:"/store_from_21-lesson",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(a.proxy={origin:s}),this.mySock=new be(this.connURL,[],a)}else{var u={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new be(this.connURL,[],u)}}catch(l){this.log_("Error instantiating WebSocket.");var c=l.message||l.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){x.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(m.L)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(m.f)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(m.S)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=H(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=ie,!Object(m.F)()&&"undefined"!==typeof location&&location.hostname&&ae.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ce(e,oe,i)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==be&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return x.isInMemoryStorage||!0===x.get("previous_websocket_failure")}}]),t}();ke.responsesRequiredToBeHealthy=2,ke.healthyTimeout=3e4;var we=function(){function e(t){Object(h.a)(this,e),this.initTransports_(t)}return Object(d.a)(e,[{key:"initTransports_",value:function(t){var n=ke&&ke.isAvailable(),r=n&&!ke.previouslyFailed();if(t.webSocketOnly&&(n||F("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ke];else{var i,a=this.transports_=[],o=Object(f.a)(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ye,ke]}}]),e}(),Oe=function(){function e(t,n,r,i,a,o,s,u,c,l){Object(h.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=D("c:"+this.id+":"),this.transportManager_=new we(n),this.log_("Connection created"),this.start_()}return Object(d.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ee((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=W("t",e),n=W("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=W("t",e),n=W("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=W("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?M("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ie!==n&&F("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ee((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ee((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(x.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),_e=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),je=function(){function e(t){Object(h.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(m.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(d.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(l.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(m.f)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),xe=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(m.D)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Object(d.a)(n,[{key:"getInitialEvent",value:function(e){return Object(m.f)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(je),Ee=function(){function e(t,n){if(Object(h.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(d.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Te(){return new Ee("")}function Se(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ie(e){return e.pieces_.length-e.pieceNum_}function Ce(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ee(e.pieces_,t)}function Ne(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Ae(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ee(t,0)}function Pe(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ee)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Ee(n,0)}function De(e){return e.pieceNum_>=e.pieces_.length}function Me(e,t){var n=Se(e),r=Se(t);if(null===n)return t;if(n===r)return Me(Ce(e),Ce(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Le(e,t){for(var n=Re(e,0),r=Re(t,0),i=0;i<n.length&&i<r.length;i++){var a=V(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Fe(e,t){if(Ie(e)!==Ie(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ue(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ie(e)>Ie(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var qe=function e(t,n){Object(h.a)(this,e),this.errorPrefix_=n,this.parts_=Re(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(m.Q)(this.parts_[r]);ze(this)};function ze(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ve(e))}function Ve(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Be=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){var e,r,i;return Object(h.a)(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Object(d.a)(n,[{key:"getInitialEvent",value:function(e){return Object(m.f)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(je),We=1e3,Ke=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a,o,u,c,l){var f;if(Object(h.a)(this,n),(f=t.call(this)).repoInfo_=e,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=o,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=n.nextPersistentConnectionId_++,f.log_=D("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=We,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!Object(m.F)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Be.getInstance().on("visible",f.onVisible_,Object(s.a)(f)),-1===e.host.indexOf("fblocal")&&xe.getInstance().on("online",f.onOnline_,Object(s.a)(f)),f}return Object(d.a)(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(m.S)(i)),Object(m.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new m.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(m.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(m.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(m.w)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(m.J)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(m.f)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(m.S)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):M("Unrecognized action received from server: "+Object(m.S)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(m.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=We),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,r,o,s,u,c,l,f,h,d,p,v,y,g,b=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+n.nextConnectionId_++,u=this.lastSessionId,c=!1,l=null,f=function(){l?l.close():(c=!0,o())},h=function(e){Object(m.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:f,sendRequest:h},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=Object(a.a)(p,2),y=v[0],g=v[1],c?P("getToken() completed but was canceled"):(P("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=g&&g.token,l=new Oe(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,(function(e){F(e+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")}),u)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),c||(this.repoInfo_.nodeAdmin&&F(e.t0),f());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){P("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){P("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(m.A)(this.interruptReasons_)&&(this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return K(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Ee(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){P("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){P("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Object(f.a)(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=e.value,i=Object(f.a)(r.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;this.sendListen_(a)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){t.e(c)}finally{t.f()}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(m.F)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+k.replace(/\./g,"-")]=1,Object(m.D)()?e["framework.cordova"]=1:Object(m.G)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=xe.getInstance().currentlyOnline();return Object(m.A)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Object(m.l)(e,"w")){var n=Object(m.P)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();F("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(_e);Ke.nextPersistentConnectionId_=0,Ke.nextConnectionId_=0;var He,Ge=function(){function e(t,n){Object(h.a)(this,e),this.name=t,this.node=n}return Object(d.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Qe=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ge(q,e),r=new Ge(q,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ge.MIN}}]),e}(),$e=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){return V(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(m.g)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ge.MIN}},{key:"maxPost",value:function(){return new Ge(z,He)}},{key:"makePost",value:function(e,t){return Object(m.f)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ge(e,He)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return He},set:function(e){He=e}}]),n}(Qe),Ye=new $e,Xe=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(h.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(d.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Je=function(){function e(t,n,r,i,a){Object(h.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:tt.EMPTY_NODE,this.right=null!=a?a:tt.EMPTY_NODE}return Object(d.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return tt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return tt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Je.RED=!0,Je.BLACK=!1;var Ze,et=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Je(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),tt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(h.a)(this,e),this.comparator_=t,this.root_=n}return Object(d.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Je.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Je.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Xe(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Xe(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Xe(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Xe(this.root_,null,this.comparator_,!0,e)}}]),e}();function nt(e,t){return V(e.name,t.name)}function rt(e,t){return V(e,t)}tt.EMPTY_NODE=new et;var it,at,ot,st=function(e){return"number"===typeof e?"number:"+Q(e):"string:"+e},ut=function(e){if(e.isLeafNode()){var t=e.val();Object(m.f)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(m.l)(t,".sv"),"Priority must be a string or number.")}else Object(m.f)(e===Ze||e.isEmpty(),"priority of unexpected type.");Object(m.f)(e===Ze||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ct=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(h.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(m.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ut(this.priorityNode_)}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return De(t)?this:".priority"===Se(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Se(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(m.f)(".priority"!==r||1===Ie(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+st(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Q(this.value_):this.value_,this.lazyHash_=I(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(m.f)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(m.f)(i>=0,"Unknown leaf type: "+n),Object(m.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return it},set:function(e){it=e}}]),e}();ct.VALUE_TYPE_ORDER=["object","boolean","number","string"];var lt,ft,ht=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?V(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ge.MIN}},{key:"maxPost",value:function(){return new Ge(z,new ct("[PRIORITY-POST]",ot))}},{key:"makePost",value:function(e,t){var n=at(e);return new Ge(t,new ct("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Qe),dt=new ht,pt=Math.log(2),vt=function(){function e(t){Object(h.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/pt,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(d.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),mt=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Je(o,a.node,Je.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new Je(o,a.node,Je.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new Je(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Je.BLACK):(s(f,Je.BLACK),s(f,Je.RED))}return a}(new vt(e.length));return new tt(r||t,a)},yt={},gt=function(){function e(t,n){Object(h.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(d.a)(e,[{key:"get",value:function(e){var t=Object(m.P)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof tt?t:null}},{key:"hasIndex",value:function(e){return Object(m.l)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(m.f)(t!==Ye,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ge.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?mt(i,t.getCompare()):yt;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(m.M)(this.indexes_,(function(e,i){var a=Object(m.P)(r.indexSet_,i);if(Object(m.f)(a,"Missing index implementation for "+i),e===yt){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Ge.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),mt(o,a.getCompare())}return yt}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Ge(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(m.M)(this.indexes_,(function(e){if(e===yt)return e;var r=n.get(t.name);return r?e.remove(new Ge(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Object(m.f)(yt&&dt,"ChildrenNode.ts has not been loaded"),lt=lt||new e({".priority":yt},{".priority":dt})}}]),e}(),bt=function(){function e(t,n,r){Object(h.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ut(this.priorityNode_),this.children_.isEmpty()&&Object(m.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||ft}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ft:t}},{key:"getChild",value:function(e){var t=Se(e);return null===t?this:this.getImmediateChild(t).getChild(Ce(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(m.f)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ge(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?ft:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Se(e);if(null===n)return t;Object(m.f)(".priority"!==Se(e)||1===Ie(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ce(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(dt,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+st(this.getPriority().val())+":"),this.forEachChild(dt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":I(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ge(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ge(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ge(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Ge.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Ge.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===kt?-1:0}},{key:"withIndex",value:function(t){if(t===Ye||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Ye||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(dt),r=t.getIterator(dt),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Ye?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return ft||(ft=new e(new tt(rt),null,gt.Default))}}]),e}();bt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var kt=new(function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.call(this,new tt(rt),bt.EMPTY_NODE,gt.Default)}return Object(d.a)(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return bt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(bt));Object.defineProperties(Ge,{MIN:{value:new Ge(q,bt.EMPTY_NODE)},MAX:{value:new Ge(z,kt)}}),$e.__EMPTY_NODE=bt.EMPTY_NODE,ct.__childrenNodeConstructor=bt,Ze=kt,function(e){ot=e}(kt);function wt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return bt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(m.f)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ct(n,wt(t))}if(e instanceof Array){var r=bt.EMPTY_NODE;return G(e,(function(t,n){if(Object(m.l)(e,t)&&"."!==t.substring(0,1)){var i=wt(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(wt(t))}var i=[],a=!1,o=e;if(G(o,(function(e,t){if("."!==e.substring(0,1)){var n=wt(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Ge(e,n)))}})),0===i.length)return bt.EMPTY_NODE;var s=mt(i,nt,(function(e){return e.name}),rt);if(a){var u=mt(i,dt.getCompare());return new bt(s,wt(t),new gt({".priority":u},{".priority":dt}))}return new bt(s,wt(t),gt.Default)}!function(e){at=e}(wt);var Ot=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this)).indexPath_=e,Object(m.f)(!De(e)&&".priority"!==Se(e),"Can't create PathIndex with empty path or .priority key"),r}return Object(d.a)(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?V(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=wt(e),r=bt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ge(t,r)}},{key:"maxPost",value:function(){var e=bt.EMPTY_NODE.updateChild(this.indexPath_,kt);return new Ge(z,e)}},{key:"toString",value:function(){return Re(this.indexPath_,0).join("/")}}]),n}(Qe),_t=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?V(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ge.MIN}},{key:"maxPost",value:function(){return Ge.MAX}},{key:"makePost",value:function(e,t){var n=wt(e);return new Ge(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Qe),jt=new _t,xt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Et=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=xt.charAt(n%64),n=Math.floor(n/64);Object(m.f)(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=xt.charAt(t[r]);return Object(m.f)(20===o.length,"nextPushId: Length should be 20."),o}}(),Tt=function(e){if("2147483647"===e)return"-";var t=J(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return z;var a=n[i],o=xt.charAt(xt.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},St=function(e){if("-2147483648"===e)return q;var t=J(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=xt.charAt(xt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function It(e){return{type:"value",snapshotNode:e}}function Ct(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Nt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Rt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var At=function(){function e(t){Object(h.a)(this,e),this.index_=t}return Object(d.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Object(m.f)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Nt(t,o)):Object(m.f)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Ct(t,n)):a.trackChildChange(Rt(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(dt,(function(e,r){t.hasChild(e)||n.trackChildChange(Nt(e,r))})),t.isLeafNode()||t.forEachChild(dt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Rt(t,r,i))}else n.trackChildChange(Ct(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?bt.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),Pt=function(){function e(t){Object(h.a)(this,e),this.indexedFilter_=new At(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Object(d.a)(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Ge(t,n))||(n=bt.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=bt.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(bt.EMPTY_NODE);var i=this;return t.forEachChild(dt,(function(e,t){i.matches(new Ge(e,t))||(r=r.updateImmediateChild(e,bt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),Dt=function(){function e(t){Object(h.a)(this,e),this.rangedFilter_=new Pt(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Object(d.a)(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Ge(t,n))||(n=bt.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=bt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=bt.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(bt.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,u)<=0?h++:r=r.updateImmediateChild(p.name,bt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Object(m.f)(s.numChildren()===this.limit_,"");var u=new Ge(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Rt(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(Nt(t,f));var p=s.updateImmediateChild(t,bt.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Ct(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(Nt(c.name,c.node)),i.trackChildChange(Ct(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,bt.EMPTY_NODE)):e}}]),e}(),Mt=function(){function e(){Object(h.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=dt}return Object(d.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(m.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(m.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:q}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(m.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(m.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:z}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(m.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===dt}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Lt(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ft(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ut(e,t){var n=e.copy();return n.index_=t,n}function qt(e){var t,n={};return e.isDefault()||(e.index_===dt?t="$priority":e.index_===jt?t="$value":e.index_===Ye?t="$key":(Object(m.f)(e.index_ instanceof Ot,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(m.S)(t),e.startSet_&&(n.startAt=Object(m.S)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(m.S)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(m.S)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(m.S)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function zt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==dt&&(t.i=e.index_.toString()),t}var Vt=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r,i,a){var o;return Object(h.a)(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=D("p:rest:"),o.listens_={},o}return Object(d.a)(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=qt(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(m.P)(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=qt(e._queryParams),r=e._path.toString(),i=new m.a;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=Object(a.a)(i,2),s=o[0],u=o[1];s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var c=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(m.N)(n);t.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=Object(m.L)(l.responseText)}catch(n){F("Failed to parse JSON response for "+c+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&F("Got unsuccessful REST response for "+c+" Status: "+l.status),r(l.status);r=null}},l.open("GET",c,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(m.f)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(_e),Bt=function(){function e(){Object(h.a)(this,e),this.rootNode_=bt.EMPTY_NODE}return Object(d.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Wt(){return{value:null,children:new Map}}function Kt(e,t,n){if(De(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Se(t);e.children.has(r)||e.children.set(r,Wt()),Kt(e.children.get(r),t=Ce(t),n)}}function Ht(e,t){if(De(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(dt,(function(t,n){Kt(e,new Ee(t),n)})),Ht(e,t)}if(e.children.size>0){var r=Se(t);if(t=Ce(t),e.children.has(r))Ht(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Gt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Gt(r,new Ee(t.toString()+"/"+e),n)}))}var Qt,$t=function(){function e(t){Object(h.a)(this,e),this.collection_=t,this.last_=null}return Object(d.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&G(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Yt=function(){function e(t,n){Object(h.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new $t(t);var r=1e4+2e4*Math.random();ee(this.reportStats_.bind(this),Math.floor(r))}return Object(d.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;G(t,(function(t,i){i>0&&Object(m.l)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ee(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Xt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Qt||(Qt={}));var Jt,Zt=function(){function e(t,n,r){Object(h.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Qt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(De(this.path)){if(null!=this.affectedTree.value)return Object(m.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ee(t));return new e(Te(),n,this.revert)}return Object(m.f)(Se(this.path)===t,"operationForChild called for unrelated child."),new e(Ce(this.path),this.affectedTree,this.revert)}}]),e}(),en=function(){function e(t,n){Object(h.a)(this,e),this.source=t,this.path=n,this.type=Qt.LISTEN_COMPLETE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return De(this.path)?new e(this.source,Te()):new e(this.source,Ce(this.path))}}]),e}(),tn=function(){function e(t,n,r){Object(h.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Qt.OVERWRITE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return De(this.path)?new e(this.source,Te(),this.snap.getImmediateChild(t)):new e(this.source,Ce(this.path),this.snap)}}]),e}(),nn=function(){function e(t,n,r){Object(h.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=Qt.MERGE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(De(this.path)){var n=this.children.subtree(new Ee(t));return n.isEmpty()?null:n.value?new tn(this.source,Te(),n.value):new e(this.source,Te(),n)}return Object(m.f)(Se(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ce(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),rn=function(){function e(t,n,r){Object(h.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(d.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(De(e))return this.isFullyInitialized()&&!this.filtered_;var t=Se(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),an=function e(t){Object(h.a)(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()};function on(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(m.g)("Should only compare child_ events.");var r=new Ge(t.childName,t.snapshotNode),i=new Ge(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function sn(e,t){return{eventCache:e,serverCache:t}}function un(e,t,n,r){return sn(new rn(t,n,r),e.serverCache)}function cn(e,t,n,r){return sn(e.eventCache,new rn(t,n,r))}function ln(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var hn=function(){return Jt||(Jt=new tt(B)),Jt},dn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn();Object(h.a)(this,e),this.value=t,this.children=n}return Object(d.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Te(),value:this.value};if(De(e))return null;var n=Se(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ce(e),t);return null!=i?{path:Pe(new Ee(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(De(t))return this;var n=Se(t),r=this.children.get(n);return null!==r?r.subtree(Ce(t)):new e(null)}},{key:"set",value:function(t,n){if(De(t))return new e(n,this.children);var r=Se(t),i=(this.children.get(r)||new e(null)).set(Ce(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(De(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Se(t),r=this.children.get(n);if(r){var i,a=r.remove(Ce(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(De(e))return this.value;var t=Se(e),n=this.children.get(t);return n?n.get(Ce(e)):null}},{key:"setTree",value:function(t,n){if(De(t))return n;var r,i=Se(t),a=(this.children.get(i)||new e(null)).setTree(Ce(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Te(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Pe(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Te(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(De(e))return null;var i=Se(e),a=this.children.get(i);return a?a.findOnPath_(Ce(e),Pe(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Te(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(De(t))return this;this.value&&r(n,this.value);var i=Se(t),a=this.children.get(i);return a?a.foreachOnPath_(Ce(t),Pe(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Te(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Pe(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return G(t,(function(e,t){n=n.set(new Ee(e),t)})),n}}]),e}(),pn=function(){function e(t){Object(h.a)(this,e),this.writeTree_=t}return Object(d.a)(e,null,[{key:"empty",value:function(){return new e(new dn(null))}}]),e}();function vn(e,t,n){if(De(t))return new pn(new dn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Me(i,t);return a=a.updateChild(o,n),new pn(e.writeTree_.set(i,a))}var s=new dn(n),u=e.writeTree_.setTree(t,s);return new pn(u)}function mn(e,t,n){var r=e;return G(n,(function(e,n){r=vn(r,Pe(t,e),n)})),r}function yn(e,t){if(De(t))return pn.empty();var n=e.writeTree_.setTree(t,new dn(null));return new pn(n)}function gn(e,t){return null!=bn(e,t)}function bn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Me(n.path,t)):null}function kn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(dt,(function(e,n){t.push(new Ge(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ge(e,n.value))})),t}function wn(e,t){if(De(t))return e;var n=bn(e,t);return new pn(null!=n?new dn(n):e.writeTree_.subtree(t))}function On(e){return e.writeTree_.isEmpty()}function _n(e,t){return jn(Te(),e.writeTree_,t)}function jn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(m.f)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=jn(Pe(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Pe(e,".priority"),r)),n}function xn(e,t){return Un(t,e)}function En(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function Tn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(m.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&Sn(s,r.path)?i=!1:Ue(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Cn(e.allWrites,In,Te()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=yn(e.visibleWrites,r.path):G(r.children,(function(t){e.visibleWrites=yn(e.visibleWrites,Pe(r.path,t))}));return!0}return!1}function Sn(e,t){if(e.snap)return Ue(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ue(Pe(e.path,n),t))return!0;return!1}function In(e){return e.visible}function Cn(e,t,n){for(var r=pn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Ue(n,o)?r=vn(r,s=Me(n,o),a.snap):Ue(o,n)&&(s=Me(o,n),r=vn(r,Te(),a.snap.getChild(s)));else{if(!a.children)throw Object(m.g)("WriteRecord should have .snap or .children");if(Ue(n,o))r=mn(r,s=Me(n,o),a.children);else if(Ue(o,n))if(De(s=Me(o,n)))r=mn(r,Te(),a.children);else{var u=Object(m.P)(a.children,Se(s));if(u){var c=u.getChild(Ce(s));r=vn(r,Te(),c)}}}}}return r}function Nn(e,t,n,r,i){if(r||i){var a=wn(e.visibleWrites,t);if(!i&&On(a))return n;if(i||null!=n||gn(a,Te())){return _n(Cn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ue(e.path,t)||Ue(t,e.path))}),t),n||bt.EMPTY_NODE)}return null}var o=bn(e.visibleWrites,t);if(null!=o)return o;var s=wn(e.visibleWrites,t);return On(s)?n:null!=n||gn(s,Te())?_n(s,n||bt.EMPTY_NODE):null}function Rn(e,t,n,r){return Nn(e.writeTree,e.treePath,t,n,r)}function An(e,t){return function(e,t,n){var r=bt.EMPTY_NODE,i=bn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(dt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=wn(e.visibleWrites,t);return n.forEachChild(dt,(function(e,t){var n=_n(wn(a,new Ee(e)),t);r=r.updateImmediateChild(e,n)})),kn(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return kn(wn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Pn(e,t,n,r){return function(e,t,n,r,i){Object(m.f)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Pe(t,n);if(gn(e.visibleWrites,a))return null;var o=wn(e.visibleWrites,a);return On(o)?i.getChild(n):_n(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Dn(e,t){return function(e,t){return bn(e.visibleWrites,t)}(e.writeTree,Pe(e.treePath,t))}function Mn(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=wn(e.visibleWrites,t),c=bn(u,Te());if(null!=c)s=c;else{if(null==n)return[];s=_n(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Ln(e,t,n){return function(e,t,n,r){var i=Pe(t,n),a=bn(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?_n(wn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Fn(e,t){return Un(Pe(e.treePath,t),e.writeTree)}function Un(e,t){return{treePath:e,writeTree:t}}var qn=function(){function e(){Object(h.a)(this,e),this.changeMap=new Map}return Object(d.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(m.f)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(m.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Rt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Nt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Ct(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(m.g)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Rt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),zn=new(function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Vn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(h.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new rn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ln(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fn(this.viewCache_),i=Mn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Bn(e,t,n,r,i){var a,o,s=new qn;if(n.type===Qt.OVERWRITE){var u=n;u.source.fromUser?a=Hn(e,t,u.path,u.snap,r,i,s):(Object(m.f)(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!De(u.path),a=Kn(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Qt.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=Pe(n,r);Gn(t,Se(c))&&(s=Hn(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=Pe(n,r);Gn(t,Se(c))||(s=Hn(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(Object(m.f)(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=$n(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Qt.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Dn(r,n))return t;var s,u=new Vn(r,t,i),c=t.eventCache.getNode();if(De(n)||".priority"===Se(n)){var l;if(t.serverCache.isFullyInitialized())l=Rn(r,fn(t));else{var f=t.serverCache.getNode();Object(m.f)(f instanceof bt,"serverChildren would be complete if leaf node"),l=An(r,f)}l=l,s=e.filter.updateFullNode(c,l,a)}else{var h=Se(n),d=Ln(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Ce(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,bt.EMPTY_NODE,Ce(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Rn(r,fn(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Dn(r,Te()),un(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Dn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(De(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Kn(e,t,n,u.getNode().getChild(n),i,a,s,o);if(De(n)){var c=new dn(null);return u.getNode().forEachChild(Ye,(function(e,t){c=c.set(new Ee(e),t)})),$n(e,t,n,c,i,a,s,o)}return t}var l=new dn(null);return r.foreach((function(e,t){var r=Pe(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),$n(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Qt.LISTEN_COMPLETE)throw Object(m.g)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=cn(t,a.getNode(),a.isFullyInitialized()||De(n),a.isFiltered());return Wn(e,o,n,r,zn,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ln(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(It(ln(t)))}}(t,a,f),{viewCache:a,changes:f}}function Wn(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Dn(r,n))return t;if(De(n))if(Object(m.f)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=fn(t),l=An(r,c instanceof bt?c:bt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Rn(r,fn(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Se(n);if(".priority"===h){Object(m.f)(1===Ie(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Pn(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=Ce(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=Pn(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(y,g):u.getNode().getImmediateChild(h)}else v=Ln(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return un(t,o,u.isFullyInitialized()||De(n),e.filter.filtersNodes())}function Kn(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(De(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Se(n);if(!c.isCompleteForPath(n)&&Ie(n)>1)return t;var d=Ce(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,zn,null)}var v=cn(t,u,c.isFullyInitialized()||De(n),l.filtersNodes());return Wn(e,v,n,i,new Vn(i,v,a),s)}function Hn(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new Vn(i,t,a);if(De(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=un(t,u,!0,e.filter.filtersNodes());else{var f=Se(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=un(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Ce(n),p=c.getNode().getImmediateChild(f);if(De(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Ne(d)&&v.getChild(Ae(d)).isEmpty()?v:v.updateChild(d,r):bt.EMPTY_NODE}if(p.equals(h))s=t;else s=un(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Gn(e,t){return e.eventCache.isCompleteForChild(t)}function Qn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function $n(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=De(n)?r:new dn(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Qn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Kn(e,c,new Ee(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Qn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Kn(e,c,new Ee(n),f,i,a,o,s)}})),c}var Yn,Xn=function(){function e(t,n){Object(h.a)(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new At(i.getIndex()),o=(r=i).loadsAllData()?new At(r.getIndex()):r.hasLimit()?new Dt(r):new Pt(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(bt.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(bt.EMPTY_NODE,u.getNode(),null),f=new rn(c,s.isFullyInitialized(),a.filtersNodes()),d=new rn(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=sn(d,f),this.eventGenerator_=new an(this.query_)}return Object(d.a)(e,[{key:"query",get:function(){return this.query_}}]),e}();function Jn(e,t){var n=fn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!De(t)&&!n.getImmediateChild(Se(t)).isEmpty())?n.getChild(t):null}function Zn(e){return 0===e.eventRegistrations_.length}function er(e,t,n){var r=[];if(n){Object(m.f)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function tr(e,t,n,r){t.type===Qt.MERGE&&null!==t.source.queryId&&(Object(m.f)(fn(e.viewCache_),"We should always have a full cache before handling merges"),Object(m.f)(ln(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Bn(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Object(m.f)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(m.f)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(m.f)(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,nr(e,s.changes,s.viewCache.eventCache.getNode(),null)}function nr(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),on(e,i,"child_removed",t,r,n),on(e,i,"child_added",t,r,n),on(e,i,"child_moved",a,r,n),on(e,i,"child_changed",t,r,n),on(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var rr,ir=function e(){Object(h.a)(this,e),this.views=new Map};function ar(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(m.f)(null!=a,"SyncTree gave us an op for an invalid query."),tr(a,t,n,r)}var o,s=[],u=Object(f.a)(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(tr(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function or(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=Rn(n,i?r:null),u=!1;s?u=!0:r instanceof bt?(s=An(n,r),u=!1):(s=bt.EMPTY_NODE,u=!1);var c=sn(new rn(s,u,!1),new rn(r,i,!1));return new Xn(t,c)}return o}function sr(e,t,n,r,i,a){var o=or(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(dt,(function(e,t){r.push(Ct(e,t))})),n.isFullyInitialized()&&r.push(It(n.getNode())),nr(e,r,n.getNode(),t)}(o,n)}function ur(e,t,n,r){var i=t._queryIdentifier,o=[],s=[],u=dr(e);if("default"===i){var c,l=Object(f.a)(e.views.entries());try{for(l.s();!(c=l.n()).done;){var h=Object(a.a)(c.value,2),d=h[0],p=h[1];s=s.concat(er(p,n,r)),Zn(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||o.push(p.query))}}catch(y){l.e(y)}finally{l.f()}}else{var v=e.views.get(i);v&&(s=s.concat(er(v,n,r)),Zn(v)&&(e.views.delete(i),v.query._queryParams.loadsAllData()||o.push(v.query)))}return u&&!dr(e)&&o.push(new(Object(m.f)(Yn,"Reference.ts has not been loaded"),Yn)(t._repo,t._path)),{removed:o,events:s}}function cr(e){var t,n=[],r=Object(f.a)(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function lr(e,t){var n,r=null,i=Object(f.a)(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Jn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function fr(e,t){if(t._queryParams.loadsAllData())return pr(e);var n=t._queryIdentifier;return e.views.get(n)}function hr(e,t){return null!=fr(e,t)}function dr(e){return null!=pr(e)}function pr(e){var t,n=Object(f.a)(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var vr=1,mr=function e(t){Object(h.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new dn(null),this.pendingWriteTree_={visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function yr(e,t,n,r,i){return function(e,t,n,r,i){Object(m.f)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=vn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?xr(e,new tn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function gr(e,t,n,r){!function(e,t,n,r){Object(m.f)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=mn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=dn.fromObject(n);return xr(e,new nn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function br(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=En(e.pendingWriteTree_,t),i=Tn(e.pendingWriteTree_,t);if(i){var a=new dn(null);return null!=r.snap?a=a.set(Te(),!0):G(r.children,(function(e){a=a.set(new Ee(e),!0)})),xr(e,new Zt(r.path,a,n))}return[]}function kr(e,t,n){return xr(e,new tn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function wr(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||hr(a,t))){var s=ur(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return dr(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&dr(t))return[pr(t)];var r=[];return t&&(r=cr(t)),G(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,m=Sr(e,p);e.listenProvider_.startListening(Pr(v),Ir(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(Pr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(Cr(t));e.listenProvider_.stopListening(Pr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Cr(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function Or(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Me(e,r);i=i||lr(t,n),a=a||dr(t)}));var o,s=e.syncPointTree_.get(r);(s?(a=a||dr(s),i=i||lr(s,Te())):(s=new ir,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?o=!0:(o=!1,i=bt.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=lr(t,Te());n&&(i=i.updateImmediateChild(e,n))})));var u=hr(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=Cr(t);Object(m.f)(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=vr++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var f=sr(s,t,n,xn(e.pendingWriteTree_,r),i,o);if(!u&&!a){var h=fr(s,t);f=f.concat(function(e,t,n){var r=t._path,i=Ir(e,t),a=Sr(e,n),o=e.listenProvider_.startListening(Pr(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Object(m.f)(!dr(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!De(e)&&t&&dr(t))return[pr(t).query];var r=[];return t&&(r=r.concat(cr(t).map((function(e){return e.query})))),G(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(Pr(l),Ir(e,l))}return o}(e,t,h))}return f}function _r(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=lr(n,Me(e,t));if(r)return r}));return Nn(r,t,i,n,!0)}function jr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Me(e,n);r=r||lr(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||lr(i,Te()):(i=new ir,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new rn(r,!0,!1):null;return function(e){return ln(e.viewCache_)}(or(i,t,xn(e.pendingWriteTree_,t._path),a?o.getNode():bt.EMPTY_NODE,a))}function xr(e,t){return Er(t,e.syncPointTree_,null,xn(e.pendingWriteTree_,Te()))}function Er(e,t,n,r){if(De(e.path))return Tr(e,t,n,r);var i=t.get(Te());null==n&&null!=i&&(n=lr(i,Te()));var a=[],o=Se(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Fn(r,o);a=a.concat(Er(s,u,c,l))}return i&&(a=a.concat(ar(i,e,r,n))),a}function Tr(e,t,n,r){var i=t.get(Te());null==n&&null!=i&&(n=lr(i,Te()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Fn(r,t),u=e.operationForChild(t);u&&(a=a.concat(Tr(u,i,o,s)))})),i&&(a=a.concat(ar(i,e,r,n))),a}function Sr(e,t){var n=t.query,r=Ir(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||bt.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Nr(e,n);if(r){var i=Rr(r),a=i.path,o=i.queryId,s=Me(a,t);return Ar(e,a,new en(Xt(o),s))}return[]}(e,n._path,r):function(e,t){return xr(e,new en({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return wr(e,n,null,i)}}}function Ir(e,t){var n=Cr(t);return e.queryToTagMap.get(n)}function Cr(e){return e._path.toString()+"$"+e._queryIdentifier}function Nr(e,t){return e.tagToQueryMap.get(t)}function Rr(e){var t=e.indexOf("$");return Object(m.f)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ee(e.substr(0,t))}}function Ar(e,t,n){var r=e.syncPointTree_.get(t);return Object(m.f)(r,"Missing sync point for query tag that we're tracking"),ar(r,n,xn(e.pendingWriteTree_,t),null)}function Pr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(m.f)(rr,"Reference.ts has not been loaded"),rr)(e._repo,e._path):e}var Dr=function(){function e(t){Object(h.a)(this,e),this.node_=t}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),Mr=function(){function e(t,n){Object(h.a)(this,e),this.syncTree_=t,this.path_=n}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){var n=Pe(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return _r(this.syncTree_,this.path_)}}]),e}(),Lr=function(e,t,n){return e&&"object"===typeof e?(Object(m.f)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Fr(e[".sv"],t,n):"object"===typeof e[".sv"]?Ur(e[".sv"],t):void Object(m.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Fr=function(e,t,n){if("timestamp"===e)return n.timestamp;Object(m.f)(!1,"Unexpected server value: "+e)},Ur=function(e,t,n){e.hasOwnProperty("increment")||Object(m.f)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(m.f)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(m.f)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},qr=function(e,t,n,r){return Vr(t,new Mr(n,e),r)},zr=function(e,t,n){return Vr(e,new Dr(t),n)};function Vr(e,t,n){var r,i=e.getPriority().val(),a=Lr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=Lr(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new ct(s,wt(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new ct(a))),u.forEachChild(dt,(function(e,i){var a=Vr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Br=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(h.a)(this,e),this.name=t,this.parent=n,this.node=r};function Wr(e,t){for(var n=t instanceof Ee?t:new Ee(t),r=e,i=Se(n);null!==i;){var a=Object(m.P)(r.node.children,i)||{children:{},childCount:0};r=new Br(i,r,a),i=Se(n=Ce(n))}return r}function Kr(e){return e.node.value}function Hr(e,t){e.node.value=t,Xr(e)}function Gr(e){return e.node.childCount>0}function Qr(e,t){G(e.node.children,(function(n,r){t(new Br(n,e,r))}))}function $r(e,t,n,r){n&&!r&&t(e),Qr(e,(function(e){$r(e,t,!0,r)})),n&&r&&t(e)}function Yr(e){return new Ee(null===e.parent?e.name:Yr(e.parent)+"/"+e.name)}function Xr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Kr(e)&&!Gr(e)}(n),i=Object(m.l)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Xr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Xr(e))}(e.parent,e.name,e)}var Jr=/[\[\].#$\/\u0000-\u001F\u007F]/,Zr=/[\[\].#$\u0000-\u001F\u007F]/,ei=10485760,ti=function(e){return"string"===typeof e&&0!==e.length&&!Jr.test(e)},ni=function(e){return"string"===typeof e&&0!==e.length&&!Zr.test(e)},ri=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!U(e)||e&&"object"===typeof e&&Object(m.l)(e,".sv")},ii=function(e,t,n,r){r&&void 0===t||ai(Object(m.r)(e,"value"),t,n)},ai=function e(t,n,r){var i=r instanceof Ee?new qe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+Ve(i));if("function"===typeof n)throw new Error(t+"contains a function "+Ve(i)+" with contents = "+n.toString());if(U(n))throw new Error(t+"contains "+n.toString()+" "+Ve(i));if("string"===typeof n&&n.length>ei/3&&Object(m.Q)(n)>ei)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+Ve(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(G(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!ti(n)))throw new Error(t+" contains an invalid key ("+n+") "+Ve(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Object(m.Q)(u),ze(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(m.Q)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+Ve(i)+" in addition to actual children.")}},oi=function(e,t,n,r){if(!r||void 0!==t){var i=Object(m.r)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];G(t,(function(e,t){var r=new Ee(e);if(ai(i,t,Pe(n,r)),".priority"===Ne(r)&&!ri(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=Re(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!ti(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Le);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Ue(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},si=function(e,t,n){if(!n||void 0!==t){if(U(t))throw new Error(Object(m.r)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ri(t))throw new Error(Object(m.r)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ui=function(e,t,n,r){if((!r||void 0!==n)&&!ti(n))throw new Error(Object(m.r)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ci=function(e,t,n,r){if((!r||void 0!==n)&&!ni(n))throw new Error(Object(m.r)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},li=function(e,t){if(".info"===Se(t))throw new Error(e+" failed = Can't modify data under /.info/")},fi=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ti(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ni(e)}(n))throw new Error(Object(m.r)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},hi=function e(){Object(h.a)(this,e),this.eventLists_=[],this.recursionDepth_=0};function di(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Fe(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function pi(e,t,n){di(e,n),mi(e,(function(e){return Fe(e,t)}))}function vi(e,t,n){di(e,n),mi(e,(function(e){return Ue(e,t)||Ue(t,e)}))}function mi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(yi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function yi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();N&&P("event: "+n.toString()),Z(r)}}}var gi="repo_interrupt",bi=function(){function e(t,n,r,i){Object(h.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new hi,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wt(),this.transactionQueueTree_=new Br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(d.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function ki(e,t,n){if(e.stats_=de(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Vt(e.repoInfo_,(function(t,n,r,i){_i(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return ji(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(m.S)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ke(e.repoInfo_,t,(function(t,n,r,i){_i(e,t,n,r,i)}),(function(t){ji(e,t)}),(function(t){!function(e,t){G(t,(function(t,n){xi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return he[n]||(he[n]=t()),he[n]}(e.repoInfo_,(function(){return new Yt(e.stats_,e.server_)})),e.infoData_=new Bt,e.infoSyncTree_=new mr({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=kr(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),xi(e,"connected",!1),e.serverSyncTree_=new mr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);vi(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function wi(e){var t=e.infoData_.getNode(new Ee(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Oi(e){return(t=(t={timestamp:wi(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function _i(e,t,n,r,i){e.dataUpdateCount++;var a=new Ee(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Object(m.M)(n,(function(e){return wt(e)}));o=function(e,t,n,r){var i=Nr(e,r);if(i){var a=Rr(i),o=a.path,s=a.queryId,u=Me(o,t),c=dn.fromObject(n);return Ar(e,o,new nn(Xt(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=wt(n);o=function(e,t,n,r){var i=Nr(e,r);if(null!=i){var a=Rr(i),o=a.path,s=a.queryId,u=Me(o,t);return Ar(e,o,new tn(Xt(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=Object(m.M)(n,(function(e){return wt(e)}));o=function(e,t,n){var r=dn.fromObject(n);return xr(e,new nn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=wt(n);o=kr(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Li(e,a)),vi(e.eventQueue_,f,o)}function ji(e,t){xi(e,"connected",t),!1===t&&function(e){Ri(e,"onDisconnectEvents");var t=Oi(e),n=Wt();Gt(e.onDisconnect_,Te(),(function(r,i){var a=qr(r,i,e.serverSyncTree_,t);Kt(n,r,a)}));var r=[];Gt(n,Te(),(function(t,n){r=r.concat(kr(e.serverSyncTree_,t,n));var i=Vi(e,t);Li(e,i)})),e.onDisconnect_=Wt(),vi(e.eventQueue_,Te(),r)}(e)}function xi(e,t,n){var r=new Ee("/.info/"+t),i=wt(n);e.infoData_.updateSnapshot(r,i);var a=kr(e.infoSyncTree_,r,i);vi(e.eventQueue_,r,a)}function Ei(e){return e.nextWriteId_++}function Ti(e,t,n,r,i){Ri(e,"set",{path:t.toString(),value:n,priority:r});var a=Oi(e),o=wt(n,r),s=_r(e.serverSyncTree_,t),u=zr(o,s,a),c=Ei(e),l=yr(e.serverSyncTree_,t,u,c,!0);di(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||F("set at "+t+" failed: "+n);var o=br(e.serverSyncTree_,c,!a);vi(e.eventQueue_,t,o),Ai(e,i,n,r)}));var f=Vi(e,t);Li(e,f),vi(e.eventQueue_,f,[])}function Si(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Ht(e.onDisconnect_,t),Ai(e,n,r,i)}))}function Ii(e,t,n,r){var i=wt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&Kt(e.onDisconnect_,t,i),Ai(e,r,n,a)}))}function Ci(e,t,n){var r;r=".info"===Se(t._path)?wr(e.infoSyncTree_,t,n):wr(e.serverSyncTree_,t,n),pi(e.eventQueue_,t._path,r)}function Ni(e){e.persistentConnection_&&e.persistentConnection_.interrupt(gi)}function Ri(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];P.apply(void 0,[t].concat(r))}function Ai(e,t,n,r){t&&Z((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Pi(e,t,n){return _r(e.serverSyncTree_,t,n)||bt.EMPTY_NODE}function Di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||zi(e,t),Kr(t)){var n=Ui(e,t);Object(m.f)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Mi(e,Yr(t),n)}else Gr(t)&&Qr(t,(function(t){Di(e,t)}))}function Mi(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Pi(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Object(m.f)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Me(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Ri(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(br(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);zi(e,Wr(e.transactionQueueTree_,t)),Di(e,e.transactionQueueTree_),vi(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Z(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{F("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Li(e,t)}}),o)}function Li(e,t){var n=Fi(e,t),r=Yr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),o=function(o){var s,u=t[o],c=Me(n,u.path),l=!1,f=void 0;if(Object(m.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(br(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(br(e.serverSyncTree_,u.currentWriteId,!0));else{var h=Pi(e,u.path,a);u.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){ai("transaction failed: Data returned ",d,u.path);var p=wt(d);"object"===typeof d&&null!=d&&Object(m.l)(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,y=Oi(e),g=zr(p,h,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=Ei(e),a.splice(a.indexOf(v),1),i=(i=i.concat(yr(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(br(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(br(e.serverSyncTree_,u.currentWriteId,!0))}vi(e.eventQueue_,n,i),i=[],l&&(t[o].status=2,s=t[o].unwatcher,setTimeout(s,Math.floor(0)),t[o].onComplete&&("nodata"===f?r.push((function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)})):r.push((function(){return t[o].onComplete(new Error(f),!1,null)}))))},s=0;s<t.length;s++)o(s);zi(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)Z(r[u]);Di(e,e.transactionQueueTree_)}(e,Ui(e,n),r),r}function Fi(e,t){var n,r=e.transactionQueueTree_;for(n=Se(t);null!==n&&void 0===Kr(r);)r=Wr(r,n),n=Se(t=Ce(t));return r}function Ui(e,t){var n=[];return qi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function qi(e,t,n){var r=Kr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Qr(t,(function(t){qi(e,t,n)}))}function zi(e,t){var n=Kr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Hr(t,n.length>0?n:void 0)}Qr(t,(function(t){zi(e,t)}))}function Vi(e,t){var n=Yr(Fi(e,t)),r=Wr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Bi(e,t)})),Bi(e,r),$r(r,(function(t){Bi(e,t)})),n}function Bi(e,t){var n=Kr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(m.f)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(m.f)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(br(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Hr(t,void 0):n.length=a+1,vi(e.eventQueue_,Yr(t),i);for(var s=0;s<r.length;s++)Z(r[s])}}var Wi=function(e,t){var n=Ki(e),r=n.namespace;"firebase.com"===n.domain&&L(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||L("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&F("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ue(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Ee(n.pathString)}},Ki=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,h)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Object(f.a)(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):F("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Hi=function(){function e(t,n,r,i){Object(h.a)(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Object(d.a)(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Object(m.S)(this.snapshot.exportVal())}}]),e}(),Gi=function(){function e(t,n,r){Object(h.a)(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Object(d.a)(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Qi=function(){function e(t,n){Object(h.a)(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Object(d.a)(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Object(m.f)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),$i=function(){function e(t,n){Object(h.a)(this,e),this._repo=t,this._path=n}return Object(d.a)(e,[{key:"cancel",value:function(){var e=new m.a;return Si(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){li("OnDisconnect.remove",this._path);var e=new m.a;return Ii(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){li("OnDisconnect.set",this._path),ii("OnDisconnect.set",e,this._path,!1);var t=new m.a;return Ii(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){li("OnDisconnect.setWithPriority",this._path),ii("OnDisconnect.setWithPriority",e,this._path,!1),si("OnDisconnect.setWithPriority",t,!1);var n=new m.a;return function(e,t,n,r,i){var a=wt(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&Kt(e.onDisconnect_,t,a),Ai(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){li("OnDisconnect.update",this._path),oi("OnDisconnect.update",e,this._path,!1);var t=new m.a;return function(e,t,n,r){if(Object(m.A)(n))return P("onDisconnect().update() called with empty data.  Don't do anything."),void Ai(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&G(n,(function(n,r){var i=wt(r);Kt(e.onDisconnect_,Pe(t,n),i)})),Ai(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),Yi=function(){function e(t,n,r,i){Object(h.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(d.a)(e,[{key:"key",get:function(){return De(this._path)?null:Ne(this._path)}},{key:"ref",get:function(){return new ea(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=zt(this._queryParams),t=K(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return zt(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Object(m.u)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Fe(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function Xi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ji(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ye){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==q)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==z)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===dt){if(null!=t&&!ri(t)||null!=n&&!ri(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(m.f)(e.getIndex()instanceof Ot||e.getIndex()===jt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Zi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ea=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){return Object(h.a)(this,n),t.call(this,e,r,new Mt,!1)}return Object(d.a)(n,[{key:"parent",get:function(){var e=Ae(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Yi),ta=function(){function e(t,n,r){Object(h.a)(this,e),this._node=t,this.ref=n,this._index=r}return Object(d.a)(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new Ee(t),r=ia(this.ref,t);return new e(this._node.getChild(n),r,dt)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,ia(n.ref,r),dt))}))}},{key:"hasChild",value:function(e){var t=new Ee(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function na(e,t){return(e=Object(m.u)(e))._checkNotDeleted("ref"),void 0!==t?ia(e._root,t):e._root}function ra(e,t){(e=Object(m.u)(e))._checkNotDeleted("refFromURL");var n=Wi(t,e._repo.repoInfo_.nodeAdmin);fi("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||L("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),na(e,n.path.toString())}function ia(e,t){var n,r,i,a;return null===Se((e=Object(m.u)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ci(n,r,i,a)):ci("child","path",t,!1),new ea(e._repo,Pe(e._path,t))}function aa(e,t){e=Object(m.u)(e),li("push",e._path),ii("push",t,e._path,!0);var n,r=wi(e._repo),i=Et(r),a=ia(e,i),o=ia(e,i);return n=null!=t?sa(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function oa(e){return li("remove",e._path),sa(e,null)}function sa(e,t){e=Object(m.u)(e),li("set",e._path),ii("set",t,e._path,!1);var n=new m.a;return Ti(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function ua(e,t){e=Object(m.u)(e),li("setPriority",e._path),si("setPriority",t,!1);var n=new m.a;return Ti(e._repo,Pe(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function ca(e,t,n){if(li("setWithPriority",e._path),ii("setWithPriority",t,e._path,!1),si("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new m.a;return Ti(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function la(e,t){oi("update",t,e._path,!1);var n=new m.a;return function(e,t,n,r){Ri(e,"update",{path:t.toString(),value:n});var i=!0,a=Oi(e),o={};if(G(n,(function(n,r){i=!1,o[n]=qr(Pe(t,n),wt(r),e.serverSyncTree_,a)})),i)P("update() called with empty data.  Don't do anything."),Ai(0,r,"ok",void 0);else{var s=Ei(e),u=gr(e.serverSyncTree_,t,o,s);di(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||F("update at "+t+" failed: "+n);var o=br(e.serverSyncTree_,s,!a),u=o.length>0?Li(e,t):t;vi(e.eventQueue_,u,o),Ai(0,r,n,i)})),G(n,(function(n){var r=Vi(e,Pe(t,n));Li(e,r)})),vi(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function fa(e){return function(e,t){var n=jr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=wt(n).withIndex(t._queryParams.getIndex()),i=kr(e.serverSyncTree_,t._path,r);return pi(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return Ri(e,"get for query "+Object(m.S)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(m.u)(e))._repo,e).then((function(t){return new ta(t,new ea(e._repo,e._path),e._queryParams.getIndex())}))}var ha=function(){function e(t){Object(h.a)(this,e),this.callbackContext=t}return Object(d.a)(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Hi("value",this,new ta(e.snapshotNode,new ea(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Gi(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),da=function(){function e(t,n){Object(h.a)(this,e),this.eventType=t,this.callbackContext=n}return Object(d.a)(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Gi(this,e,t):null}},{key:"createEvent",value:function(e,t){Object(m.f)(null!=e.childName,"Child events should have a childName.");var n=ia(new ea(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Hi(e.type,this,new ta(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function pa(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Ci(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Qi(n,a||void 0),c="value"===t?new ha(u):new da(t,u);return function(e,t,n){var r;r=".info"===Se(t._path)?Or(e.infoSyncTree_,t,n):Or(e.serverSyncTree_,t,n),pi(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Ci(e._repo,e,c)}}function va(e,t,n,r){return pa(e,"value",t,n,r)}function ma(e,t,n,r){return pa(e,"child_added",t,n,r)}function ya(e,t,n,r){return pa(e,"child_changed",t,n,r)}function ga(e,t,n,r){return pa(e,"child_moved",t,n,r)}function ba(e,t,n,r){return pa(e,"child_removed",t,n,r)}function ka(e,t,n){var r=null,i=n?new Qi(n):null;"value"===t?r=new ha(i):t&&(r=new da(t,i)),Ci(e._repo,e,r)}var wa=function e(){Object(h.a)(this,e)},Oa=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ii("endAt",this._value,e._path,!0);var t=Ft(e._queryParams,this._value,this._key);if(Zi(t),Ji(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yi(e._repo,e._path,t,e._orderByCalled)}}]),n}(wa);function _a(e,t){return ui("endAt","key",t,!0),new Oa(e,t)}var ja=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ii("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ye?("string"===typeof t&&(t=St(t)),r=Ft(e,t,n)):r=Ft(e,t,null==n?q:St(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Zi(t),Ji(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Yi(e._repo,e._path,t,e._orderByCalled)}}]),n}(wa);function xa(e,t){return ui("endBefore","key",t,!0),new ja(e,t)}var Ea=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ii("startAt",this._value,e._path,!0);var t=Lt(e._queryParams,this._value,this._key);if(Zi(t),Ji(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Yi(e._repo,e._path,t,e._orderByCalled)}}]),n}(wa);function Ta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return ui("startAt","key",t,!0),new Ea(e,t)}var Sa=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){ii("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ye?("string"===typeof t&&(t=Tt(t)),r=Lt(e,t,n)):r=Lt(e,t,null==n?z:Tt(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Zi(t),Ji(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Yi(e._repo,e._path,t,e._orderByCalled)}}]),n}(wa);function Ia(e,t){return ui("startAfter","key",t,!0),new Sa(e,t)}var Ca=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._limit=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(wa);function Na(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ca(e)}var Ra=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._limit=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Yi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(wa);function Aa(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ra(e)}var Pa=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(h.a)(this,n),(r=t.call(this))._path=e,r}return Object(d.a)(n,[{key:"_apply",value:function(e){Xi(e,"orderByChild");var t=new Ee(this._path);if(De(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new Ot(t),r=Ut(e._queryParams,n);return Ji(r),new Yi(e._repo,e._path,r,!0)}}]),n}(wa);function Da(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ci("orderByChild","path",e,!1),new Pa(e)}var Ma=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){Xi(e,"orderByKey");var t=Ut(e._queryParams,Ye);return Ji(t),new Yi(e._repo,e._path,t,!0)}}]),n}(wa);function La(){return new Ma}var Fa=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){Xi(e,"orderByPriority");var t=Ut(e._queryParams,dt);return Ji(t),new Yi(e._repo,e._path,t,!0)}}]),n}(wa);function Ua(){return new Fa}var qa=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"_apply",value:function(e){Xi(e,"orderByValue");var t=Ut(e._queryParams,jt);return Ji(t),new Yi(e._repo,e._path,t,!0)}}]),n}(wa);function za(){return new qa}var Va=function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e,r){var i;return Object(h.a)(this,n),(i=t.call(this))._value=e,i._key=r,i}return Object(d.a)(n,[{key:"_apply",value:function(e){if(ii("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Oa(this._value,this._key)._apply(new Ea(this._value,this._key)._apply(e))}}]),n}(wa);function Ba(e,t){return ui("equalTo","key",t,!0),new Va(e,t)}function Wa(e){for(var t=Object(m.u)(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){Object(m.f)(!Yn,"__referenceConstructor has already been defined"),Yn=e}(ea),function(e){Object(m.f)(!rr,"__referenceConstructor has already been defined"),rr=e}(ea);var Ka={},Ha=!1;function Ga(e,t,n,r){e.repoInfo_=new ue("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function Qa(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||L("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),P("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var s,u=Wi(o,a),c=u.repoInfo,l=void 0;"undefined"!==typeof e&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/store_from_21-lesson",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,o="http://".concat(l,"?ns=").concat(c.namespace),c=(u=Wi(o,a)).repoInfo):s=!u.repoInfo.secure;var f=a&&s?new re(re.OWNER):new ne(t.name,t.options,n);fi("Invalid Firebase Database URL",u),De(u.path)||L("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Ka[t.name];i||(i={},Ka[t.name]=i);var a=i[e.toURLString()];a&&L("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new bi(e,Ha,n,r),i[e.toURLString()]=a,a}(c,t,f,new te(t.name,r));return new $a(h,t)}var $a=function(){function e(t,n){Object(h.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(d.a)(e,[{key:"_repo",get:function(){return this._instanceStarted||(ki(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new ea(this._repo,Te())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Ka[t];n&&n[e.key]===e||L("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Ni(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&L("Cannot call "+e+" on a deleted database.")}}]),e}();function Ya(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Object(m.u)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&L("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&L('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new re(re.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:Object(m.m)(r.mockUserToken,e.app.options.projectId);a=new re(o)}Ga(i,t,n,a)}function Xa(e){(e=Object(m.u)(e))._checkNotDeleted("goOffline"),Ni(e._repo)}function Ja(e){var t;(e=Object(m.u)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(gi)}function Za(e,t){A(e,t)}var eo={".sv":"timestamp"};function to(){return eo}function no(e){return{".sv":{increment:e}}}var ro=function(){function e(t,n){Object(h.a)(this,e),this.committed=t,this.snapshot=n}return Object(d.a)(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function io(e,t,n){var r;if(e=Object(m.u)(e),li("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new m.a,o=va(e,(function(){}));return function(e,t,n,r,i,a){Ri(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:S(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Pi(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ai("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=Wr(e.transactionQueueTree_,t),f=Kr(l)||[];f.push(o),Hr(l,f),"object"===typeof u&&null!==u&&Object(m.l)(u,".priority")?(c=Object(m.P)(u,".priority"),Object(m.f)(ri(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(_r(e.serverSyncTree_,t)||bt.EMPTY_NODE).getPriority().val();var h=Oi(e),d=wt(u,c),p=zr(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=Ei(e);var v=yr(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);vi(e.eventQueue_,t,v),Di(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new ta(r,new ea(e._repo,e._path),dt),a.resolve(new ro(n,i)))}),o,i),a.promise}Ke.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ke.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ao;w(p.SDK_VERSION),Object(p._registerComponent)(new v.a("database",(function(e,t){var n=t.instanceIdentifier;return Qa(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Object(p.registerVersion)(g,b,ao),Object(p.registerVersion)(g,b,"esm2017")}).call(this,n(85))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return p}));var r=n(0),i=n.n(r),a=n(21),o=n(3),s=n(16),u=n(9),c=n(2),l=n(4),f=n(1),h=function(){function e(t,n,r){Object(c.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(l.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d="[DEFAULT]",p=function(){function e(t,n){Object(c.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(l.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new f.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:d})}catch(l){}var t,n=Object(u.a)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(s.a)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(a.a)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Object(a.a)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Object(u.a)(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var c=Object(s.a)(i.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===d?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;return this.component?this.component.multipleInstances?e:d:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var v=function(){function e(t){Object(c.a)(this,e),this.name=t,this.providers=new Map}return Object(l.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new p(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(61);var i=n(67),a=n(46);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(a.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}t.a=function(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(7);var i=n(89);function a(e){var t=e.props,n=e.name,a=e.defaultTheme,o=function(e){var t=e.theme,n=e.name,i=e.props;if(!t||!t.components||!t.components[n]||!t.components[n].defaultProps)return i;var a,o=Object(r.a)({},i),s=t.components[n].defaultProps;for(a in s)void 0===o[a]&&(o[a]=s[a]);return o}({theme:Object(i.a)(a),name:n,props:t});return o}var o=n(47);function s(e){return a({props:e.props,name:e.name,defaultTheme:o.a})}},,function(e,t,n){e.exports=n(106)()},function(e,t,n){"use strict";var r=n(90);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return m}));var r,i,a=n(9),o=n(2),s=n(4),u=n(5),c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));var l={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},f=i.INFO,h=(r={},Object(u.a)(r,i.DEBUG,"log"),Object(u.a)(r,i.VERBOSE,"log"),Object(u.a)(r,i.INFO,"info"),Object(u.a)(r,i.WARN,"warn"),Object(u.a)(r,i.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){Object(o.a)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return Object(s.a)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.DEBUG].concat(t)),this._logHandler.apply(this,[this,i.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.VERBOSE].concat(t)),this._logHandler.apply(this,[this,i.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.INFO].concat(t)),this._logHandler.apply(this,[this,i.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.WARN].concat(t)),this._logHandler.apply(this,[this,i.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,i.ERROR].concat(t)),this._logHandler.apply(this,[this,i.ERROR].concat(t))}}]),e}();function v(e){c.forEach((function(t){t.setLogLevel(e)}))}function m(e,t){var n,r=Object(a.a)(c);try{var o=function(){var r=n.value,a=null;t&&t.level&&(a=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var u=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==a&&void 0!==a?a:t.logLevel)&&e({level:i[n].toLowerCase(),message:u,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r,i=n(5),a=n(2),o=n(4),s=n(1),u=n(20),c=n(12),l=n(28),f=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new u.a("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},Object(i.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(i.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new s.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.initializeApp(r,i);if(Object(s.l)(t,a.name))return t[a.name];var o=new e(a,n);return t[a.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var i=t.name,a=i.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[a])throw d.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&Object(s.q)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(){for(var e=this._getService.bind(this,i),n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(s.l)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(s.q)(t,e)},createSubscribe:s.n,ErrorFactory:s.b,deepExtend:s.q}),t}(),v=new l.b("@firebase/app-compat");if(Object(s.x)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y,g=p;Object(c.registerVersion)("@firebase/app-compat","0.1.8",y)},function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(114);t.a=r.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(30);function i(e,t,n){return i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}},i(e,t,n||e)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));n(21),n(7),n(26),n(91),n(43);var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var s=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(s.values||r).indexOf(i)){e[s.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function s(e,t){return e.reduce((function(e,t){var n=e[t];return 0===Object.keys(n).length&&delete e[t],e}),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c}));var r=n(6),i=n(79),a=(n(7),n(60),n(78),n(50)),o=n(57),s=Object.prototype.hasOwnProperty,u=Object(r.createContext)("undefined"!==typeof HTMLElement?Object(i.a)({key:"css"}):null);u.Provider;var c=function(e){return Object(r.forwardRef)((function(t,n){var i=Object(r.useContext)(u);return e(t,i,n)}))},l=Object(r.createContext)({});var f="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",h=function(e,t){var n={};for(var r in t)s.call(t,r)&&(n[r]=t[r]);return n[f]=e,n},d=c((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var u=e[f],c=[i],h="";"string"===typeof e.className?h=Object(a.a)(t.registered,c,e.className):null!=e.className&&(h=e.className+" ");var d=Object(o.a)(c,void 0,Object(r.useContext)(l));Object(a.b)(t,d,"string"===typeof u);h+=t.key+"-"+d.name;var p={};for(var v in e)s.call(e,v)&&"css"!==v&&v!==f&&(p[v]=e[v]);return p.ref=n,p.className=h,Object(r.createElement)(u,p)}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return yr})),n.d(t,"b",(function(){return br})),n.d(t,"c",(function(){return gr})),n.d(t,"d",(function(){return wr})),n.d(t,"e",(function(){return kr})),n.d(t,"f",(function(){return Or})),n.d(t,"g",(function(){return _r})),n.d(t,"h",(function(){return vr})),n.d(t,"i",(function(){return mr}));var r,i=n(9),a=n(32),o=n(30),s=n(10),u=n(11),c=n(2),l=n(4),f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},h={},d=d||{},p=f||self;function v(){}function m(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),b=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function O(e,t,n){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:w).apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function j(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function x(){this.s=this.s,this.o=this.o}var E={};x.prototype.s=!1,x.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++b)}(this);delete E[e]}},x.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},S=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function I(e){return Array.prototype.concat.apply([],arguments)}function C(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function N(e){return/^[\s\xa0]*$/.test(e)}var R,A=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function P(e,t){return-1!=e.indexOf(t)}function D(e,t){return e<t?-1:e>t?1:0}e:{var M=p.navigator;if(M){var L=M.userAgent;if(L){R=L;break e}}R=""}function F(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function U(e){var t={};for(var n in e)t[n]=e[n];return t}var q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<q.length;a++)n=q[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function V(e){return V[" "](e),e}V[" "]=v;var B,W=P(R,"Opera"),K=P(R,"Trident")||P(R,"MSIE"),H=P(R,"Edge"),G=H||K,Q=P(R,"Gecko")&&!(P(R.toLowerCase(),"webkit")&&!P(R,"Edge"))&&!(P(R,"Trident")||P(R,"MSIE"))&&!P(R,"Edge"),$=P(R.toLowerCase(),"webkit")&&!P(R,"Edge");function Y(){var e=p.document;return e?e.documentMode:void 0}e:{var X="",J=function(){var e=R;return Q?/rv:([^\);]+)(\)|;)/.exec(e):H?/Edge\/([\d\.]+)/.exec(e):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$?/WebKit\/(\S+)/.exec(e):W?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(J&&(X=J?J[1]:""),K){var Z=Y();if(null!=Z&&Z>parseFloat(X)){B=String(Z);break e}}B=X}var ee,te={};function ne(){return function(e){var t=te;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=A(String(B)).split("."),n=A("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||D(0==a[2].length,0==o[2].length)||D(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(p.document&&K){var re=Y();ee=re||(parseInt(B,10)||void 0)}else ee=void 0;var ie=ee,ae=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{p.addEventListener("test",v,t),p.removeEventListener("test",v,t)}catch(n){}return e}();function oe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function se(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Q){e:{try{V(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ue[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&se.Z.h.call(this)}}oe.prototype.h=function(){this.defaultPrevented=!0},j(se,oe);var ue={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function fe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++le,this.ca=this.fa=!1}function he(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function de(e){this.src=e,this.g={},this.h=0}function pe(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=T(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(he(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ve(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}de.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ve(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fe(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ye={};function ge(e,t,n,r,i){if(r&&r.once)return ke(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ge(e,t[a],n,r,i);return null}return n=Te(n),e&&e[ce]?e.N(t,n,y(r)?!!r.capture:!!r,i):be(e,t,n,!1,r,i)}function be(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=y(i)?!!i.capture:!!i,s=xe(e);if(s||(e[me]=s=new de(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=je;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ae||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ke(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ke(e,t[a],n,r,i);return null}return n=Te(n),e&&e[ce]?e.O(t,n,y(r)?!!r.capture:!!r,i):be(e,t,n,!0,r,i)}function we(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)we(e,t[a],n,r,i);else r=y(r)?!!r.capture:!!r,n=Te(n),e&&e[ce]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ve(a=e.g[t],n,r,i))&&(he(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=xe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ve(t,n,r,i)),(n=-1<e?t[e]:null)&&Oe(n))}function Oe(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_e(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xe(t))?(pe(n,e),0==n.h&&(n.src=null,t[me]=null)):he(e)}}}function _e(e){return e in ye?ye[e]:ye[e]="on"+e}function je(e,t){if(e.ca)e=!0;else{t=new se(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Oe(e),e=n.call(r,t)}return e}function xe(e){return(e=e[me])instanceof de?e:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"===typeof e?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Se(){x.call(this),this.i=new de(this),this.P=this,this.I=null}function Ie(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new oe(t,e);else if(t instanceof oe)t.target=t.target||e;else{var i=t;z(t=new oe(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ce(o,r,!0,t)&&i}if(i=Ce(o=t.g=e,r,!0,t)&&i,i=Ce(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ce(o=t.g=n[a],r,!1,t)&&i}function Ce(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&pe(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}j(Se,x),Se.prototype[ce]=!0,Se.prototype.removeEventListener=function(e,t,n,r){we(this,e,t,n,r)},Se.prototype.M=function(){if(Se.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)he(n[r]);delete t.g[e],t.h--}}this.I=null},Se.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Se.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ne=p.JSON.stringify;function Re(){var e=qe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ae,Pe=function(){function e(){Object(c.a)(this,e),this.h=this.g=null}return Object(l.a)(e,[{key:"add",value:function(e,t){var n=De.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),De=new(function(){function e(t,n){Object(c.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(l.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Me}),(function(e){return e.reset()})),Me=function(){function e(){Object(c.a)(this,e),this.next=this.g=this.h=null}return Object(l.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Le(e){p.setTimeout((function(){throw e}),0)}function Fe(e,t){Ae||function(){var e=p.Promise.resolve(void 0);Ae=function(){e.then(ze)}}(),Ue||(Ae(),Ue=!0),qe.add(e,t)}var Ue=!1,qe=new Pe;function ze(){for(var e;e=Re();){try{e.h.call(e.g)}catch(n){Le(n)}var t=De;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ue=!1}function Ve(e,t){Se.call(this),this.h=e||1,this.g=t||p,this.j=O(this.kb,this),this.l=Date.now()}function Be(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function We(e,t,n){if("function"===typeof e)n&&(e=O(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=O(e.handleEvent,e)}return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}function Ke(e){e.g=We((function(){e.g=null,e.i&&(e.i=!1,Ke(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}j(Ve,Se),(r=Ve.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ie(this,"tick"),this.da&&(Be(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ve.Z.M.call(this),Be(this),delete this.g};var He=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e,r){var i;return Object(c.a)(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Object(l.a)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ke(this)}},{key:"M",value:function(){Object(a.a)(Object(o.a)(n.prototype),"M",this).call(this),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(x);function Ge(e){x.call(this),this.h=e,this.g={}}j(Ge,x);var Qe=[];function $e(e,t,n,r){Array.isArray(n)||(n&&(Qe[0]=n.toString()),n=Qe);for(var i=0;i<n.length;i++){var a=ge(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Ye(e){F(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Oe(e)}),e),e.g={}}function Xe(){this.g=!0}function Je(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ne(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ge.prototype.M=function(){Ge.Z.M.call(this),Ye(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xe.prototype.Aa=function(){this.g=!1},Xe.prototype.info=function(){};var Ze={},et=null;function tt(){return et=et||new Se}function nt(e){oe.call(this,Ze.Ma,e)}function rt(e){var t=tt();Ie(t,new nt(t,e))}function it(e,t){oe.call(this,Ze.STAT_EVENT,e),this.stat=t}function at(e){var t=tt();Ie(t,new it(t,e))}function ot(e,t){oe.call(this,Ze.Na,e),this.size=t}function st(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout((function(){e()}),t)}Ze.Ma="serverreachability",j(nt,oe),Ze.STAT_EVENT="statevent",j(it,oe),Ze.Na="timingevent",j(ot,oe);var ut={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ct={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lt(){}function ft(e){return e.h||(e.h=e.i())}function ht(){}lt.prototype.h=null;var dt,pt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vt(){oe.call(this,"d")}function mt(){oe.call(this,"c")}function yt(){}function gt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ge(this),this.P=kt,e=G?125:void 0,this.W=new Ve(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}j(vt,oe),j(mt,oe),j(yt,lt),yt.prototype.g=function(){return new XMLHttpRequest},yt.prototype.i=function(){return{}},dt=new yt;var kt=45e3,wt={},Ot={};function _t(e,t,n){e.K=1,e.v=Ht(qt(t)),e.s=n,e.U=!0,jt(e,null)}function jt(e,t){e.F=Date.now(),St(e),e.A=qt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),on(n.h,"t",r),e.C=0,n=e.l.H,e.h=new bt,e.g=ur(e.l,n?t:null,!e.s),0<e.O&&(e.L=new He(O(e.Ia,e,e.g),e.O)),$e(e.V,e.g,"readystatechange",e.gb),t=e.H?U(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rt(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function xt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Et(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Tt(e,n))==Ot){4==t&&(e.o=4,at(14),i=!1),Je(e.j,e.m,null,"[Incomplete Response]");break}if(r==wt){e.o=4,at(15),Je(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Je(e.j,e.m,r,null),At(e,r)}xt(e)&&r!=Ot&&r!=wt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,at(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),er(t),t.L=!0,at(11))):(Je(e.j,e.m,n,"[Invalid Chunked Response]"),Rt(e),Nt(e))}function Tt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ot:(n=Number(t.substring(n,r)),isNaN(n)?wt:(r+=1)+n>t.length?Ot:(t=t.substr(r,n),e.C=r+n,t))}function St(e){e.Y=Date.now()+e.P,It(e,e.P)}function It(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=st(O(e.eb,e),t)}function Ct(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function Nt(e){0==e.l.G||e.I||rr(e.l,e)}function Rt(e){Ct(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Be(e.W),Ye(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function At(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pn(n.i,e)))if(n.I=e.N,!e.J&&pn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;nr(n),Kn(n)}Zn(n),at(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=st(O(n.ab,n),6e3));if(1>=dn(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else ar(n,11)}else if((e.J||n.g==e)&&nr(n),!N(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(P(l,"spdy")||P(l,"quic")||P(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(vn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Kt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=sr(r,r.H?r.la:null,r.W),d.J){mn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Ct(p),St(p)),r.g=d}else Jn(r);0<n.l.length&&Qn(n)}else"stop"!=a[0]&&"close"!=a[0]||ar(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ar(n,7):Wn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}rt(4)}catch(a){}}function Pt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||"string"===typeof e)S(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(m(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Dt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Dt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Mt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Lt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Lt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=gt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;var t=this.L;t&&3==Un(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{var t=Un(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||G||this.g&&(this.h.h||this.g.ga()||qn(this.g)))){this.I||4!=t||7==n||rt(8==n||0>=r?3:2),Ct(this);var i=this.g.ba();this.N=i;t:if(xt(this)){var a=qn(this.g);e="";var o=a.length,s=4==Un(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Rt(this),Nt(this);var u="";break t}this.h.i=new p.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,at(12),Rt(this),Nt(this);break e}Je(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,At(this,i)}this.U?(Et(this,t,u),G&&this.i&&3==t&&($e(this.V,this.W,"tick",this.fb),this.W.start())):(Je(this.j,this.m,u,null),At(this,u)),4==t&&Rt(this),this.i&&!this.I&&(4==t?rr(this.l,this):(this.i=!1,St(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,at(12)):(this.o=0,at(13)),Rt(this),Nt(this)}}}catch(t){}},r.fb=function(){if(this.g){var e=Un(this.g),t=this.g.ga();this.C<t.length&&(Ct(this),Et(this,e,t),this.i&&4!=e&&St(this))}},r.cancel=function(){this.I=!0,Rt(this)},r.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rt(3),at(17)),Rt(this),this.o=2,Nt(this)):It(this,this.Y-e)},(r=Dt.prototype).R=function(){Mt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Mt(this),this.g.concat()},r.get=function(e,t){return Lt(this.h,e)?this.h[e]:t},r.set=function(e,t){Lt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ft=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ut(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ut){this.g=void 0!==t?t:e.g,zt(this,e.j),this.s=e.s,Vt(this,e.i),Bt(this,e.m),this.l=e.l,t=e.h;var n=new tn;n.i=t.i,t.g&&(n.g=new Dt(t.g),n.h=t.h),Wt(this,n),this.o=e.o}else e&&(n=String(e).match(Ft))?(this.g=!!t,zt(this,n[1]||"",!0),this.s=Gt(n[2]||""),Vt(this,n[3]||"",!0),Bt(this,n[4]),this.l=Gt(n[5]||"",!0),Wt(this,n[6]||"",!0),this.o=Gt(n[7]||"")):(this.g=!!t,this.h=new tn(null,this.g))}function qt(e){return new Ut(e)}function zt(e,t,n){e.j=n?Gt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vt(e,t,n){e.i=n?Gt(t,!0):t}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wt(e,t,n){t instanceof tn?(e.h=t,function(e,t){t&&!e.j&&(nn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rn(this,t),on(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Qt(t,Zt)),e.h=new tn(t,e.g))}function Kt(e,t,n){e.h.set(t,n)}function Ht(e){return Kt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$t),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $t(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ut.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qt(t,Yt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qt(t,Yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qt(n,"/"==n.charAt(0)?Jt:Xt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qt(n,en)),e.join("")};var Yt=/[#\/\?@]/g,Xt=/[#\?:]/g,Jt=/[#\?]/g,Zt=/[#\?@]/g,en=/#/g;function tn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nn(e){e.g||(e.g=new Dt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rn(e,t){nn(e),t=sn(e,t),Lt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Lt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Mt(e)))}function an(e,t){return nn(e),t=sn(e,t),Lt(e.g.h,t)}function on(e,t,n){rn(e,t),0<n.length&&(e.i=null,e.g.set(sn(e,t),C(n)),e.h+=n.length)}function sn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=tn.prototype).add=function(e,t){nn(this),this.i=null,e=sn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){nn(this),this.g.forEach((function(n,r){S(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){nn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},r.R=function(e){nn(this);var t=[];if("string"===typeof e)an(this,e)&&(t=I(t,this.g.get(sn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=I(t,e[n])}return t},r.set=function(e,t){return nn(this),this.i=null,an(this,e=sn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var un=function e(t,n){Object(c.a)(this,e),this.h=t,this.g=n};function cn(e){this.l=e||fn,p.PerformanceNavigationTiming?e=0<(e=p.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ln,fn=10;function hn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function dn(e){return e.h?1:e.g?e.g.size:0}function pn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vn(e,t){e.g?e.g.add(t):e.h=t}function mn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function yn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Object(i.a)(e.g.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;n=n.concat(a.D)}}catch(o){r.e(o)}finally{r.f()}return n}return C(e.i)}function gn(){}function bn(){this.g=new gn}function kn(e,t,n){var r=n||"";try{Pt(e,(function(e,n){var i=e;y(e)&&(i=Ne(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function On(e){this.l=e.$b||null,this.j=e.ib||!1}function _n(e,t){Se.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=jn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn.prototype.cancel=function(){if(this.i=yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Object(i.a)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},gn.prototype.stringify=function(e){return p.JSON.stringify(e,void 0)},gn.prototype.parse=function(e){return p.JSON.parse(e,void 0)},j(On,lt),On.prototype.g=function(){return new _n(this.l,this.j)},On.prototype.i=(ln={},function(){return ln}),j(_n,Se);var jn=0;function xn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function En(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tn(e)}function Tn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=_n.prototype).open=function(e,t){if(this.readyState!=jn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tn(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,En(this)),this.readyState=jn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?En(this):Tn(this),3==this.readyState&&xn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,En(this))},r.Ta=function(e){this.g&&(this.response=e,En(this))},r.ha=function(){this.g&&En(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sn=p.JSON.parse;function In(e){Se.call(this),this.headers=new Dt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cn,this.K=this.L=!1}j(In,Se);var Cn="",Nn=/^https?$/i,Rn=["POST","PUT"];function An(e){return"content-type"==e.toLowerCase()}function Pn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Dn(e),Ln(e)}function Dn(e){e.D||(e.D=!0,Ie(e,"complete"),Ie(e,"error"))}function Mn(e){if(e.h&&"undefined"!=typeof d&&(!e.C[1]||4!=Un(e)||2!=e.ba()))if(e.v&&4==Un(e))We(e.Fa,0,e);else if(Ie(e,"readystatechange"),4==Un(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ft)[1]||null;if(!a&&p.self&&p.self.location){var o=p.self.location.protocol;a=o.substr(0,o.length-1)}i=!Nn.test(a?a.toLowerCase():"")}t=i}if(t)Ie(e,"complete"),Ie(e,"success");else{e.m=6;try{var s=2<Un(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Dn(e)}}finally{Ln(e)}}}function Ln(e,t){if(e.g){Fn(e);var n=e.g,r=e.C[0]?v:null;e.g=null,e.C=null,t||Ie(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Fn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(p.clearTimeout(e.A),e.A=null)}function Un(e){return e.g?e.g.readyState:0}function qn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return F(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Kt(e,t,n))}function Vn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bn(e){this.za=0,this.l=[],this.h=new Xe,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vn("baseRetryDelayMs",5e3,e),this.$a=Vn("retryDelaySeedMs",1e4,e),this.Ya=Vn("forwardChannelMaxRetries",2,e),this.ra=Vn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cn(e&&e.concurrentRequestLimit),this.Ca=new bn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Wn(e){if(Hn(e),3==e.G){var t=e.V++,n=qt(e.F);Kt(n,"SID",e.J),Kt(n,"RID",t),Kt(n,"TYPE","terminate"),Yn(e,n),(t=new gt(e,e.h,t,void 0)).K=2,t.v=Ht(qt(n)),n=!1,p.navigator&&p.navigator.sendBeacon&&(n=p.navigator.sendBeacon(t.v.toString(),"")),!n&&p.Image&&((new Image).src=t.v,n=!0),n||(t.g=ur(t.l,null),t.g.ea(t.v)),t.F=Date.now(),St(t)}or(e)}function Kn(e){e.g&&(er(e),e.g.cancel(),e.g=null)}function Hn(e){Kn(e),e.u&&(p.clearTimeout(e.u),e.u=null),nr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&p.clearTimeout(e.m),e.m=null)}function Gn(e,t){e.l.push(new un(e.Za++,t)),3==e.G&&Qn(e)}function Qn(e){hn(e.i)||e.m||(e.m=!0,Fe(e.Ha,e),e.C=0)}function $n(e,t){var n;n=t?t.m:e.V++;var r=qt(e.F);Kt(r,"SID",e.J),Kt(r,"RID",n),Kt(r,"AID",e.U),Yn(e,r),e.o&&e.s&&zn(r,e.o,e.s),n=new gt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Xn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vn(e.i,n),_t(n,r,t)}function Yn(e,t){e.j&&Pt({},(function(e,n){Kt(t,n,e)}))}function Xn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?O(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{kn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Jn(e){e.g||e.u||(e.Y=1,Fe(e.Ga,e),e.A=0)}function Zn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=st(O(e.Ga,e),ir(e,e.A)),e.A++,!0)}function er(e){null!=e.B&&(p.clearTimeout(e.B),e.B=null)}function tr(e){e.g=new gt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=qt(e.oa);Kt(t,"RID","rpc"),Kt(t,"SID",e.J),Kt(t,"CI",e.N?"0":"1"),Kt(t,"AID",e.U),Yn(e,t),Kt(t,"TYPE","xmlhttp"),e.o&&e.s&&zn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ht(qt(t)),n.s=null,n.U=!0,jt(n,e)}function nr(e){null!=e.v&&(p.clearTimeout(e.v),e.v=null)}function rr(e,t){var n=null;if(e.g==t){nr(e),er(e),e.g=null;var r=2}else{if(!pn(e.i,t))return;n=t.D,mn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ie(r=tt(),new ot(r,n,t,i)),Qn(e)}else Jn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(dn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=st(O(e.Ha,e,t),ir(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ar(e,5);break;case 4:ar(e,10);break;case 3:ar(e,6);break;default:ar(e,2)}}function ir(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ar(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=O(e.jb,e);n||(n=new Ut("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||zt(n,"https"),Ht(n)),function(e,t){var n=new Xe;if(p.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,t),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,t),p.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else at(2);e.G=0,e.j&&e.j.va(t),or(e),Hn(e)}function or(e){e.G=0,e.I=-1,e.j&&(0==yn(e.i).length&&0==e.l.length||(e.i.i.length=0,C(e.l),e.l.length=0),e.j.ua())}function sr(e,t,n){var r=function(e){return e instanceof Ut?qt(e):new Ut(e,void 0)}(n);if(""!=r.i)t&&Vt(r,t+"."+r.i),Bt(r,r.m);else{var i=p.location;r=function(e,t,n,r){var i=new Ut(null,void 0);return e&&zt(i,e),t&&Vt(i,t),n&&Bt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&F(e.aa,(function(e,t){Kt(r,t,e)})),t=e.D,n=e.sa,t&&n&&Kt(r,t,n),Kt(r,"VER",e.ma),Yn(e,r),r}function ur(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new In(new On({ib:!0})):new In(e.qa)).L=e.H,t}function cr(){}function lr(){if(K&&!(10<=Number(ie)))throw Error("Environmental error: no available transport.")}function fr(e,t){Se.call(this),this.g=new Bn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!N(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!N(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pr(this)}function hr(e){vt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dr(){mt.call(this),this.status=1}function pr(e){this.g=e}(r=In.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dt.g(),this.C=this.u?ft(this.u):ft(dt),this.g.onreadystatechange=O(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Pn(this,a)}e=n||"";var i=new Dt(this.headers);r&&Pt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=An,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=p.FormData&&e instanceof p.FormData,!(0<=T(Rn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fn(this),0<this.B&&((this.K=function(e){return K&&ne()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=O(this.pa,this)):this.A=We(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Pn(this,a)}},r.pa=function(){"undefined"!=typeof d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ie(this,"complete"),Ie(this,"abort"),Ln(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ln(this,!0)),In.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Mn(this):this.cb())},r.cb=function(){Mn(this)},r.ba=function(){try{return 2<Un(this)?this.g.status:-1}catch(ln){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(ln){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Bn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?z(n=U(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Xn(this,t,r),Kt(i=qt(this.F),"RID",e),Kt(i,"CVER",22),this.D&&Kt(i,"X-HTTP-Session-Id",this.D),Yn(this,i),this.o&&n&&zn(i,this.o,n),vn(this.i,t),this.Ra&&Kt(i,"TYPE","init"),this.ja?(Kt(i,"$req",r),Kt(i,"SID","null"),t.$=!0,_t(t,i,null)):_t(t,i,r),this.G=2}}else 3==this.G&&(e?$n(this,e):0==this.l.length||hn(this.i)||$n(this))},r.Ga=function(){if(this.u=null,tr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=st(O(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,at(10),Kn(this),tr(this))},r.ab=function(){null!=this.v&&(this.v=null,Kn(this),Zn(this),at(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),at(2)):(this.h.info("Failed to ping google.com"),at(1))},(r=cr.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},lr.prototype.g=function(e,t){return new fr(e,t)},j(fr,Se),fr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fe(O(e.hb,e,t))),at(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=sr(e,null,e.W),Qn(e)},fr.prototype.close=function(){Wn(this.g)},fr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gn(this.g,t)}else this.v?((t={}).__data__=Ne(e),Gn(this.g,t)):Gn(this.g,e)},fr.prototype.M=function(){this.g.j=null,delete this.j,Wn(this.g),delete this.g,fr.Z.M.call(this)},j(hr,vt),j(dr,mt),j(pr,cr),pr.prototype.xa=function(){Ie(this.g,"a")},pr.prototype.wa=function(e){Ie(this.g,new hr(e))},pr.prototype.va=function(e){Ie(this.g,new dr(e))},pr.prototype.ua=function(){Ie(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,fr.prototype.send=fr.prototype.u,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,ct.COMPLETE="complete",ht.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",Se.prototype.listen=Se.prototype.N,In.prototype.listenOnce=In.prototype.O,In.prototype.getLastError=In.prototype.La,In.prototype.getLastErrorCode=In.prototype.Da,In.prototype.getStatus=In.prototype.ba,In.prototype.getResponseJson=In.prototype.Qa,In.prototype.getResponseText=In.prototype.ga,In.prototype.send=In.prototype.ea;var vr=h.createWebChannelTransport=function(){return new lr},mr=h.getStatEventTarget=function(){return tt()},yr=h.ErrorCode=ut,gr=h.EventType=ct,br=h.Event=Ze,kr=h.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wr=h.FetchXmlHttpFactory=On,Or=h.WebChannel=ht,_r=h.XhrIo=In}).call(this,n(77))},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return v})),n.d(t,"d",(function(){return m}));var r=n(16),i=n(33),a=n(17),o=n(43);var s={m:"margin",p:"padding"},u={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=Object(r.a)(t,2),i=n[0],a=n[1],o=s[i],l=u[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i=Object(a.b)(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function y(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return Object(i.b)(e,o,a)}function g(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return y(e,t,r,n)})).reduce(o.a,{})}function b(e){return g(e,f)}function k(e){return g(e,h)}function w(e){return g(e,d)}b.propTypes={},b.filterProps=f,k.propTypes={},k.filterProps=h,w.propTypes={},w.filterProps=d;t.c=w},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return f}));var s="function"===typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function l(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function f(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(o(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(o(1));return n(f)(e,t)}if("function"!==typeof e)throw new Error(o(2));var i=e,a=t,u=[],h=u,d=!1;function p(){h===u&&(h=u.slice())}function v(){if(d)throw new Error(o(3));return a}function m(e){if("function"!==typeof e)throw new Error(o(4));if(d)throw new Error(o(5));var t=!0;return p(),h.push(e),function(){if(t){if(d)throw new Error(o(6));t=!1,p();var n=h.indexOf(e);h.splice(n,1),u=null}}}function y(e){if(!l(e))throw new Error(o(7));if("undefined"===typeof e.type)throw new Error(o(8));if(d)throw new Error(o(9));try{d=!0,a=i(a,e)}finally{d=!1}for(var t=u=h,n=0;n<t.length;n++){(0,t[n])()}return e}function g(e){if("function"!==typeof e)throw new Error(o(10));i=e,y({type:c.REPLACE})}function b(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(v())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return y({type:c.INIT}),(r={dispatch:y,subscribe:m,getState:v,replaceReducer:g})[s]=b,r}function h(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:c.INIT}))throw new Error(o(12));if("undefined"===typeof n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<s.length;u++){var c=s[u],l=n[c],f=e[c],h=l(f,t);if("undefined"===typeof h){t&&t.type;throw new Error(o(14))}i[c]=h,r=r||h!==f}return(r=r||s.length!==Object.keys(e).length)?i:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"===typeof e)return d(e,t);if("object"!==typeof e||null===e)throw new Error(o(16));var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=d(i,t))}return n}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(o(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return r=v.apply(void 0,s)(n.dispatch),a(a({},n),{},{dispatch:r})}}}},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}a(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";var r=n(14);n.d(t,"a",(function(){return r.M})),n.d(t,"b",(function(){return r.N})),n.d(t,"c",(function(){return r.O})),n.d(t,"d",(function(){return r.P})),n.d(t,"e",(function(){return r.Q})),n.d(t,"f",(function(){return r.R})),n.d(t,"g",(function(){return r.X})),n.d(t,"h",(function(){return r.bb})),n.d(t,"i",(function(){return r.cb}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return k}));var r=n(6),i=n.n(r),a=(n(26),i.a.createContext(null));var o=function(e){e()};function s(){var e=o,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var u={notify:function(){},get:function(){return[]}};function c(e,t){var n,r=u;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=s())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=u)},getListeners:function(){return r}};return o}var l="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var f=function(e){var t=e.store,n=e.context,o=e.children,s=Object(r.useMemo)((function(){var e=c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);l((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var f=n||a;return i.a.createElement(f.Provider,{value:s},o)};n(7),n(15),n(52),n(59);function h(){return Object(r.useContext)(a)}function d(e){void 0===e&&(e=a);var t=e===a?h:function(){return Object(r.useContext)(e)};return function(){return t().store}}var p=d();function v(e){void 0===e&&(e=a);var t=e===a?p:d(e);return function(){return t().dispatch}}var m=v(),y=function(e,t){return e===t};function g(e){void 0===e&&(e=a);var t=e===a?h:function(){return Object(r.useContext)(e)};return function(e,n){void 0===n&&(n=y);var i=t(),a=function(e,t,n,i){var a,o=Object(r.useReducer)((function(e){return e+1}),0)[1],s=Object(r.useMemo)((function(){return c(n,i)}),[n,i]),u=Object(r.useRef)(),f=Object(r.useRef)(),h=Object(r.useRef)(),d=Object(r.useRef)(),p=n.getState();try{if(e!==f.current||p!==h.current||u.current){var v=e(p);a=void 0!==d.current&&t(v,d.current)?d.current:v}else a=d.current}catch(m){throw u.current&&(m.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),m}return l((function(){f.current=e,h.current=p,d.current=a,u.current=void 0})),l((function(){function e(){try{var e=n.getState();if(e===h.current)return;var r=f.current(e);if(t(r,d.current))return;d.current=r,h.current=e}catch(m){u.current=m}o()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),a}(e,n,i.store,i.subscription);return Object(r.useDebugValue)(a),a}}var b,k=g(),w=n(42);b=w.unstable_batchedUpdates,o=b},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(100)},function(e,t,n){"use strict";var r=n(91);t.a=function(e,t){return t?Object(r.a)(e,t,{clone:!1}):e}},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(61);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";var r=n(5),i=n(7),a=n(15),o=n(91),s=n(148);function u(e,t,n){var a;return Object(i.a)({toolbar:(a={minHeight:56},Object(r.a)(a,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Object(r.a)(a,e.up("sm"),{minHeight:64}),a)},n)}var c=n(72),l=n(144),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],k={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function O(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Object(l.d)(e.main,i):"dark"===t&&(e.dark=Object(l.b)(e.main,a)))}function _(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,s=void 0===r?3:r,u=e.tonalOffset,_=void 0===u?.2:u,j=Object(a.a)(e,b),x=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),S=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(n),I=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[800],light:g[500],dark:g[900]}}(n),C=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function N(e){return Object(l.c)(e,w.text.primary)>=s?w.text.primary:k.text.primary}var R=function(e){var t=e.color,n=e.name,r=e.mainShade,a=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,u=e.darkShade,l=void 0===u?700:u;if(!(t=Object(i.a)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(Object(c.a)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(Object(c.a)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return O(t,"light",s,_),O(t,"dark",l,_),t.contrastText||(t.contrastText=N(t.main)),t},A={dark:w,light:k};return Object(o.a)(Object(i.a)({common:f,mode:n,primary:R({color:x,name:"primary"}),secondary:R({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:T,name:"error"}),warning:R({color:C,name:"warning"}),info:R({color:S,name:"info"}),success:R({color:I,name:"success"}),grey:h,contrastThreshold:s,getContrastText:N,augmentColor:R,tonalOffset:_},A[n]),j)}var j=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var x={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,s=void 0===r?E:r,u=n.fontSize,c=void 0===u?14:u,l=n.fontWeightLight,f=void 0===l?300:l,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,y=void 0===m?700:m,g=n.htmlFontSize,b=void 0===g?16:g,k=n.allVariants,w=n.pxToRem,O=Object(a.a)(n,j);var _=c/14,T=w||function(e){return"".concat(e/b*_,"rem")},S=function(e,t,n,r,a){return Object(i.a)({fontFamily:s,fontWeight:e,fontSize:T(t),lineHeight:n},s===E?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:S(f,96,1.167,-1.5),h2:S(f,60,1.2,-.5),h3:S(d,48,1.167,0),h4:S(d,34,1.235,.25),h5:S(d,24,1.334,0),h6:S(v,20,1.6,.15),subtitle1:S(d,16,1.75,.15),subtitle2:S(v,14,1.57,.1),body1:S(d,16,1.5,.15),body2:S(d,14,1.43,.15),button:S(v,14,1.75,.4,x),caption:S(d,12,1.66,.4),overline:S(d,12,2.66,1,x)};return Object(o.a)(Object(i.a)({htmlFontSize:b,pxToRem:T,fontFamily:s,fontSize:c,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:y},I),O,{clone:!1})}function S(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var I=["none",S(0,2,1,-1,0,1,1,0,0,1,3,0),S(0,3,1,-2,0,2,2,0,0,1,5,0),S(0,3,3,-2,0,3,4,0,0,1,8,0),S(0,2,4,-1,0,4,5,0,0,1,10,0),S(0,3,5,-1,0,5,8,0,0,1,14,0),S(0,3,5,-1,0,6,10,0,0,1,18,0),S(0,4,5,-2,0,7,10,1,0,2,16,1),S(0,5,5,-3,0,8,10,1,0,3,14,2),S(0,5,6,-3,0,9,12,1,0,3,16,2),S(0,6,6,-3,0,10,14,1,0,4,18,3),S(0,6,7,-4,0,11,15,1,0,4,20,3),S(0,7,8,-4,0,12,17,2,0,5,22,4),S(0,7,8,-4,0,13,19,2,0,5,24,4),S(0,7,9,-4,0,14,21,2,0,5,26,4),S(0,8,9,-5,0,15,22,2,0,6,28,5),S(0,8,10,-5,0,16,24,2,0,6,30,5),S(0,8,11,-5,0,17,26,2,0,6,32,5),S(0,9,11,-5,0,18,28,2,0,7,34,6),S(0,9,12,-6,0,19,29,2,0,7,36,6),S(0,10,13,-6,0,20,31,3,0,8,38,7),S(0,10,13,-6,0,21,33,3,0,8,40,7),S(0,10,14,-6,0,22,35,3,0,8,42,7),S(0,11,14,-7,0,23,36,3,0,9,44,8),S(0,11,15,-7,0,24,38,3,0,9,46,8)],C=n(63),N={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},R=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,c=void 0===r?{}:r,l=e.transitions,f=void 0===l?{}:l,h=e.typography,d=void 0===h?{}:h,p=Object(a.a)(e,R),v=_(c),m=Object(s.a)(e),y=Object(o.a)(m,{mixins:u(m.breakpoints,m.spacing,n),palette:v,shadows:I.slice(),typography:T(v,d),transitions:Object(C.a)(f),zIndex:Object(i.a)({},N)});y=Object(o.a)(y,p);for(var g=arguments.length,b=new Array(g>1?g-1:0),k=1;k<g;k++)b[k-1]=arguments[k];return y=b.reduce((function(e,t){return Object(o.a)(e,t)}),y)}var P=A();t.a=P},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(6),i=(n(79),n(34)),a=(n(86),n(60),n(52),n(50)),o=n(57);var s=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),u=Object(i.e)((function(e,t){var n=e.styles,u=Object(o.a)([n],void 0,Object(r.useContext)(i.b)),c=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var e=t.key+"-global",n=new s({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+u.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),c.current=[n,r],function(){n.flush()}}),[t]),Object(r.useLayoutEffect)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==u.next&&Object(a.b)(t,u.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",u,n,!1)}}),[t,u.name]),null}));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(o.a)(t)}var l=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},function(e,t,n){"use strict";t.a=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},,function(e,t,n){"use strict";var r=n(108),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var g=h(n,y);try{c(t,y,g)}catch(b){}}}}return t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(54),i=n(66);function a(e,t,n){return a=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a},a.apply(null,arguments)}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[G]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Q}(e)||Array.isArray(e)||!!e[H]||!!e.constructor[H]||h(e)||d(e))}function o(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:$)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[G];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:d(e)?3:0}function u(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function l(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return V&&e instanceof Map}function d(e){return B&&e instanceof Set}function p(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Y(e);delete t[G];for(var n=$(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),g(e)||i(e)||!a(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&o(e,(function(e,t){return m(t,!0)}),!0)),e}function y(){r(2)}function g(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=X[e];return t||r(18,e),t}function k(e,t){X[e]||(X[e]=t)}function w(){return q}function O(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function _(e){j(e),e.p.forEach(E),e.p=null}function j(e){e===q&&(q=e.l)}function x(e){return q={p:[],l:q,h:e,m:!0,_:0}}function E(e){var t=e[G];0===t.i||1===t.i?t.j():t.O=!0}function T(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,i),i?(n[G].P&&(_(t),r(4)),a(e)&&(e=S(t,e),t.l||C(t,e)),t.u&&b("Patches").M(n[G],e,t.u,t.s)):e=S(t,n,[]),_(t),t.u&&t.v(t.u,t.s),e!==K?e:void 0}function S(e,t,n){if(g(t))return t;var r=t[G];if(!r)return o(t,(function(i,a){return I(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return C(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=v(r.k):r.o;o(3===r.i?new Set(i):i,(function(t,a){return I(e,r,i,t,a,n)})),C(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function I(e,t,n,r,o,s){if(i(o)){var c=S(e,o,s&&t&&3!==t.i&&!u(t.D,r)?s.concat(r):void 0);if(l(n,r,c),!i(c))return;e.m=!1}if(a(o)&&!g(o)){if(!e.h.F&&e._<1)return;S(e,o),t&&t.A.l||C(e,o)}}function C(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&m(t,n)}function N(e,t){var n=e[G];return(n?p(n):e)[t]}function R(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function A(e){e.P||(e.P=!0,e.l&&A(e.l))}function P(e){e.o||(e.o=v(e.t))}function D(e,t,n){var r=h(t)?b("MapSet").N(t,n):d(t)?b("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:w(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=J;n&&(i=[r],a=Z);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):b("ES5").J(t,n);return(n?n.A:w()).p.push(r),r}function M(e){return i(e)||r(22,e),function e(t){if(!a(t))return t;var n,r=t[G],i=s(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return o(n,(function(t,i){r&&c(r.t,t)===i||l(n,t,e(i))})),3===i?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}function F(){function e(e,t){var n=a[e];return n?n.enumerable=t:a[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[G];return J.get(t,e)},set:function(t){var n=this[G];J.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][G];if(!i.P)switch(i.i){case 5:r(i)&&A(i);break;case 4:n(i)&&A(i)}}}function n(e){for(var t=e.t,n=e.k,r=$(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==G){var o=t[a];if(void 0===o&&!u(t,a))return!0;var s=n[a],c=s&&s[G];if(c?c.t!==o:!f(s,o))return!0}}var l=!!t[G];return r.length!==$(t).length+(l?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var a={};k("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=Y(n);delete a[G];for(var o=$(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:w(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,G,{value:a,writable:!0}),i},S:function(e,n,a){a?i(n)&&n[G].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[G];if(n){var i=n.t,a=n.k,s=n.D,c=n.i;if(4===c)o(a,(function(t){t!==G&&(void 0!==i[t]||u(i,t)?s[t]||e(a[t]):(s[t]=!0,A(n)))})),o(i,(function(e){void 0!==a[e]||u(a,e)||(s[e]=!1,A(n))}));else if(5===c){if(r(n)&&(A(n),s.length=!0),a.length<i.length)for(var l=a.length;l<i.length;l++)s[l]=!1;else for(var f=i.length;f<a.length;f++)s[f]=!0;for(var h=Math.min(a.length,i.length),d=0;d<h;d++)void 0===s[d]&&e(a[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,"a",(function(){return ge})),n.d(t,"b",(function(){return we}));var U,q,z="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,B="undefined"!=typeof Set,W="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,K=z?Symbol.for("immer-nothing"):((U={})["immer-nothing"]=!0,U),H=z?Symbol.for("immer-draftable"):"__$immer_draftable",G=z?Symbol.for("immer-state"):"__$immer_state",Q=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),$="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Y=Object.getOwnPropertyDescriptors||function(e){var t={};return $(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},X={},J={get:function(e,t){if(t===G)return e;var n=p(e);if(!u(n,t))return function(e,t,n){var r,i=R(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!a(r)?r:r===N(e.t,t)?(P(e),e.o[t]=D(e.A.h,r,e)):r},has:function(e,t){return t in p(e)},ownKeys:function(e){return Reflect.ownKeys(p(e))},set:function(e,t,n){var r=R(p(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=N(p(e),t),a=null==i?void 0:i[G];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(f(n,i)&&(void 0!==n||u(e.t,t)))return!0;P(e),A(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==N(e.t,t)||t in e.t?(e.D[t]=!1,P(e),A(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=p(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},Z={};o(J,(function(e,t){Z[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Z.deleteProperty=function(e,t){return J.deleteProperty.call(this,e[0],t)},Z.set=function(e,t,n){return J.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.g=W,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var u;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),a(e)){var c=x(t),l=D(t,e,void 0),f=!0;try{u=n(l),f=!1}finally{f?_(c):j(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return O(c,i),T(e,c)}),(function(e){throw _(c),e})):(O(c,i),T(u,c))}if(!e||"object"!=typeof e){if((u=n(e))===K)return;return void 0===u&&(u=e),t.F&&m(u,!0),u}r(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){r=e,i=t})),r,i];var r,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||r(8),i(e)&&(e=M(e));var t=x(this),n=D(this,e,void 0);return n[G].C=!0,j(t),n},t.finishDraft=function(e,t){var n=(e&&e[G]).A;return O(n,t),T(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!W&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var a=b("Patches").$;return i(e)?a(e,t):this.produce(e,(function(e){return a(e,t.slice(n+1))}))},e}(),te=new ee,ne=te.produce,re=(te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te),ne);var ie=n(37),ae=n(62),oe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),se=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},ue=Object.defineProperty,ce=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),le=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable,he=function(e,t,n){return t in e?ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},de=function(e,t){for(var n in t||(t={}))le.call(t,n)&&he(e,n,t[n]);if(ce)for(var r=0,i=ce(t);r<i.length;r++){n=i[r];fe.call(t,n)&&he(e,n,t[n])}return e},pe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ie.d:ie.d.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ve(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}var me=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return oe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,se([void 0],e[0].concat(this)))):new(t.bind.apply(t,se([void 0],e.concat(this))))},t}(Array);function ye(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new me);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ae.a.withExtraArgument(n.extraArgument)):r.push(ae.a));0;return r}(e)}}function ge(e){var t,n=ye(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!ve(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Object(ie.c)(a)}var p=s;"function"===typeof p&&(p=p(n));var v=ie.a.apply(void 0,p),m=ie.d;c&&(m=pe(de({trace:!1},"object"===typeof c&&c)));var y=[v];Array.isArray(d)?y=se([v],d):"function"===typeof d&&(y=d(y));var g=m.apply(void 0,y);return Object(ie.e)(t,f,g)}function be(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return de(de({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function ke(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function we(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var r=e.reducers||{},o="function"===typeof e.extraReducers?ke(e.extraReducers):[e.extraReducers],s=o[0],u=void 0===s?{}:s,c=o[1],l=void 0===c?[]:c,f=o[2],h=void 0===f?void 0:f,d=Object.keys(r),p={},v={},m={};d.forEach((function(e){var n,i,a=r[e],o=t+"/"+e;"reducer"in a?(n=a.reducer,i=a.prepare):n=a,p[e]=n,v[o]=n,m[e]=i?be(o,i):be(o)}));var y=function(e,t,n,r){void 0===n&&(n=[]);var o="function"===typeof t?ke(t):[t,n,r],s=o[0],u=o[1],c=o[2],l=re(e,(function(){}));return function(e,t){void 0===e&&(e=l);var n=se([s[t.type]],u.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[c]),n.reduce((function(e,n){if(n){var r;if(i(e))return"undefined"===typeof(r=n(e,t))?e:r;if(a(e))return re(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}}(n,de(de({},u),v),l,h);return{name:t,reducer:y,actions:m,caseReducers:p}}F()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(68),i=n(69),a=n(49),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=Object(a.a)((function(e){return u(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i.a[e]||u(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=h(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)c(o[u])&&(r+=l(a)+":"+f(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var s=1;s<e.length;s++)a+=h(n,t,e[s]),i&&(a+=o[s]);p.lastIndex=0;for(var u,c="";null!==(u=p.exec(a));)c+="-"+u[1];return{name:Object(r.a)(a)+c,styles:a,next:d}}},function(e,t,n){"use strict";var r=n(6),i=n.n(r);t.a=i.a.createContext(null)},function(e,t,n){"use strict";e.exports=n(110)},function(e,t,n){"use strict";t.a=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(15),i=n(7),a=["duration","easing","delay"],o={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function u(e){return"".concat(Math.round(e),"ms")}function c(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function l(e){var t=Object(i.a)({},o,e.easing),n=Object(i.a)({},s,e.duration);return Object(i.a)({getAutoHeightDuration:c,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.duration,s=void 0===o?n.standard:o,c=i.easing,l=void 0===c?t.easeInOut:c,f=i.delay,h=void 0===f?0:f;Object(r.a)(i,a);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof s?s:u(s)," ").concat(l," ").concat("string"===typeof h?h:u(h))})).join(",")}},e,{easing:t,duration:n})}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(30),i=n(54);var a=n(53);function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)},o(e)}},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a}));var r,i=n(29),a=n(2),o=n(4),s=n(16),u=n(9),c=n(5),l=n(0),f=n.n(l),h=n(3),d=n(12),p=n(28),v=n(1),m=n(20),y=n(21),g=n(38),b="@firebase/installations",k="0.5.4",w=1e4,O="w:".concat(k),_="FIS_v2",j=36e5,x=(r={},Object(c.a)(r,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(c.a)(r,"not-registered","Firebase Installation is not registered."),Object(c.a)(r,"installation-not-found","Firebase Installation not found."),Object(c.a)(r,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Object(c.a)(r,"app-offline","Could not process request. Application offline."),Object(c.a)(r,"delete-pending-registration","Can't delete installation while there is a pending registration request."),r),E=new v.b("installations","Installations",x);function T(e){return e instanceof v.c&&e.code.includes("request-failed")}function S(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function I(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function C(e,t){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",E.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function A(e,t){var n=t.refreshToken,r=R(e);return r.append("Authorization",function(e){return"".concat(_," ").concat(e)}(n)),r}function P(e){return D.apply(this,arguments)}function D(){return(D=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return L.apply(this,arguments)}function L(){return(L=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s,u,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fid,i=S(t),a=R(t),o={fid:r,authVersion:_,appId:t.appId,sdkVersion:O},s={method:"POST",headers:a,body:JSON.stringify(o)},e.next=7,P((function(){return fetch(i,s)}));case 7:if(!(u=e.sent).ok){e.next=16;break}return e.next=11,u.json();case 11:return c=e.sent,l={fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:I(c.authToken)},e.abrupt("return",l);case 16:return e.next=18,C("Create Installation",u);case 18:throw e.sent;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return new Promise((function(t){setTimeout(t,e)}))}var U=/^[cdef][\w-]{21}$/;function q(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(y.a)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return U.test(t)?t:""}catch(n){return""}}function z(e){return"".concat(e.appName,"!").concat(e.appId)}var V=new Map;function B(e,t){var n=z(e);W(n,t),function(e,t){var n=H();n&&n.postMessage({key:e,fid:t});G()}(n,t)}function W(e,t){var n=V.get(e);if(n){var r,i=Object(u.a)(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var K=null;function H(){return!K&&"BroadcastChannel"in self&&((K=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){W(e.data.key,e.data.fid)}),K}function G(){0===V.size&&K&&(K.close(),K=null)}var Q="firebase-installations-store",$=null;function Y(){return $||($=Object(g.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Q)}))),$}function X(e,t){return J.apply(this,arguments)}function J(){return(J=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z(t),e.next=3,Y();case 3:return i=e.sent,a=i.transaction(Q,"readwrite"),o=a.objectStore(Q),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.complete;case 13:return s&&s.fid===n.fid||B(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=z(t),e.next=3,Y();case 3:return r=e.sent,i=r.transaction(Q,"readwrite"),e.next=7,i.objectStore(Q).delete(n);case 7:return e.next=9,i.complete;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e,t){return ne.apply(this,arguments)}function ne(){return(ne=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z(t),e.next=3,Y();case 3:return i=e.sent,a=i.transaction(Q,"readwrite"),o=a.objectStore(Q),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.complete;case 19:return!u||s&&s.fid===u.fid||B(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,(function(e){var r=ae(e),i=oe(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return fe(e||{fid:q(),registrationStatus:0})}function oe(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(E.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return se.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ue(e)}:{installationEntry:t}}function se(){return(se=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M(t,n);case 3:return r=e.sent,e.abrupt("return",X(t,r));case 7:if(e.prev=7,e.t0=e.catch(0),!T(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Z(t);case 12:e.next=16;break;case 14:return e.next=16,X(t,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ue(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(h.a)(f.a.mark((function e(t){var n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,F(100);case 6:return e.next=8,le(t);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,re(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return te(e,(function(e){if(!e)throw E.create("installation-not-found");return fe(e)}))}function fe(e){return 1===(t=e).registrationStatus&&t.registrationTime+w<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function he(e,t){return de.apply(this,arguments)}function de(){return(de=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s,u,c,l,h,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appConfig,i=t.platformLoggerProvider,a=pe(r,n),o=A(r,n),(s=i.getImmediate({optional:!0}))&&o.append("x-firebase-client",s.getPlatformInfoString()),u={installation:{sdkVersion:O}},c={method:"POST",headers:o,body:JSON.stringify(u)},e.next=9,P((function(){return fetch(a,c)}));case 9:if(!(l=e.sent).ok){e.next=18;break}return e.next=13,l.json();case 13:return h=e.sent,d=I(h),e.abrupt("return",d);case 18:return e.next=20,C("Generate Auth Token",l);case 20:throw e.sent;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e,t){var n=t.fid;return"".concat(S(e),"/").concat(n,"/authTokens:generate")}function ve(e){return me.apply(this,arguments)}function me(){return me=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,te(t.appConfig,(function(e){if(!Oe(e))throw E.create("not-registered");var i=e.authToken;if(!n&&_e(i))return e;if(1===i.requestStatus)return r=ye(t,n),e;if(!navigator.onLine)throw E.create("app-offline");var a=je(e);return r=ke(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function ye(e,t){return ge.apply(this,arguments)}function ge(){return(ge=Object(h.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,F(100);case 6:return e.next=8,be(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",ve(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function be(e){return te(e,(function(e){if(!Oe(e))throw E.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+w<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function ke(e,t){return we.apply(this,arguments)}function we(){return(we=Object(h.a)(f.a.mark((function e(t,n){var r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,he(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,X(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!T(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Z(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,X(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Oe(e){return void 0!==e&&2===e.registrationStatus}function _e(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+j}(e)}function je(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function xe(){return(xe=Object(h.a)(f.a.mark((function e(t){var n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,re(n.appConfig);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):ve(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return Ee=Object(h.a)(f.a.mark((function e(t){var n,r,i,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Te(r.appConfig);case 4:return e.next=6,ve(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}function Te(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e){return E.create("missing-app-config-values",{valueName:e})}var Ce,Ne="installations",Re=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ie("App Configuration");if(!e.name)throw Ie("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Ie(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,platformLoggerProvider:Object(d._getProvider)(t,"platform-logger"),_delete:function(){return Promise.resolve()}}},Ae=function(e){var t=e.getProvider("app").getImmediate(),n=Object(d._getProvider)(t,Ne).getImmediate(),r={getId:function(){return function(e){return xe.apply(this,arguments)}(n)},getToken:function(e){return function(e){return Ee.apply(this,arguments)}(n,e)}};return r};Object(d._registerComponent)(new m.a(Ne,Re,"PUBLIC")),Object(d._registerComponent)(new m.a("installations-internal",Ae,"PRIVATE")),Object(d.registerVersion)(b,k),Object(d.registerVersion)(b,k,"esm2017");var Pe="analytics",De=6e4,Me="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Le="https://www.googletagmanager.com/gtag/js",Fe=new p.b("@firebase/analytics");function Ue(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function qe(e,t){var n=document.createElement("script");n.src="".concat(Le,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function ze(e,t,n,r,i,a){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(h.a)(f.a.mark((function e(t,n,r,i,a,o){var s,u,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,Ue(r);case 9:if(u=e.sent,!(c=u.find((function(e){return e.measurementId===a})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Fe.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function Be(e,t,n,r,i){return We.apply(this,arguments)}function We(){return(We=Object(h.a)(f.a.mark((function e(t,n,r,i,a){var o,s,c,l,h,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,Ue(r);case 7:c=e.sent,l=Object(u.a)(s),e.prev=9,d=function(){var e=h.value,t=c.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},l.s();case 12:if((h=l.n()).done){e.next=18;break}if("break"!==d()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),l.e(e.t0);case 23:return e.prev=23,l.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Fe.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])})))).apply(this,arguments)}function Ke(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Object(h.a)(f.a.mark((function i(a,o,s){return f.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,Be(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,ze(e,t,n,r,o,s);case 9:i.next=12;break;case 11:e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),Fe.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function He(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Le))return r}return null}var Ge=(Ce={},Object(c.a)(Ce,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Object(c.a)(Ce,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Object(c.a)(Ce,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Object(c.a)(Ce,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Object(c.a)(Ce,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(c.a)(Ce,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(c.a)(Ce,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Object(c.a)(Ce,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Object(c.a)(Ce,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Object(c.a)(Ce,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Ce),Qe=new v.b("analytics","Analytics",Ge),$e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Object(a.a)(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Object(o.a)(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Ye=new $e;function Xe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Je(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o,s,u,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Xe(i)},o=Me.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Qe.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function et(e){return tt.apply(this,arguments)}function tt(){return tt=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Ye,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw Qe.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw Qe.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new ot,setTimeout(Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:De),e.abrupt("return",nt({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),tt.apply(this,arguments)}function nt(e,t,n){return rt.apply(this,arguments)}function rt(){return rt=Object(h.a)(f.a.mark((function e(t,n,r){var i,a,o,s,u,c,l,h,d=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=d.length>3&&void 0!==d[3]?d[3]:Ye,s=t.appId,u=t.measurementId,e.prev=3,e.next=6,it(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!u){e.next=13;break}return Fe.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(u)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t0.message,"]")),e.abrupt("return",{appId:s,measurementId:u});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Je(t);case 17:return c=e.sent,o.deleteThrottleMetadata(s),e.abrupt("return",c);case 22:if(e.prev=22,e.t1=e.catch(14),at(e.t1)){e.next=32;break}if(o.deleteThrottleMetadata(s),!u){e.next=31;break}return Fe.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(u)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t1.message,"]")),e.abrupt("return",{appId:s,measurementId:u});case 31:throw e.t1;case 32:return l=503===Number(e.t1.customData.httpStatus)?Object(v.k)(a,o.intervalMillis,30):Object(v.k)(a,o.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:a+1},o.setThrottleMetadata(s,h),Fe.debug("Calling attemptFetch again in ".concat(l," millis")),e.abrupt("return",nt(t,h,r,o));case 37:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),rt.apply(this,arguments)}function it(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Qe.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function at(e){if(!(e instanceof v.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var ot=function(){function e(){Object(a.a)(this,e),this.listeners=[]}return Object(o.a)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function st(){return ut.apply(this,arguments)}function ut(){return(ut=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(v.C)()){e.next=5;break}return Fe.warn(Qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Object(v.W)();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Fe.warn(Qe.create("indexeddb-unavailable",{errorInfo:e.t0}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function ct(){return(ct=Object(h.a)(f.a.mark((function e(t,n,r,i,a,o,u){var c,l,h,d,p,v,m,y;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=et(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Fe.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Fe.error(e)})),n.push(l),h=st().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,h]);case 6:return d=e.sent,p=Object(s.a)(d,2),v=p[0],m=p[1],He()||qe(o,v.measurementId),a("js",new Date),(y=null!==(c=null===u||void 0===u?void 0:u.config)&&void 0!==c?c:{}).origin="firebase",y.update=!0,null!=m&&(y.firebase_id=m),a("config",v.measurementId,y),e.abrupt("return",v.measurementId);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lt,ft,ht=function(){function e(t){Object(a.a)(this,e),this.app=t}return Object(o.a)(e,[{key:"_delete",value:function(){return delete dt[this.app.options.appId],Promise.resolve()}}]),e}(),dt={},pt=[],vt={},mt="dataLayer",yt="gtag",gt=!1;function bt(e){if(gt)throw Qe.create("already-initialized");e.dataLayerName&&(mt=e.dataLayerName),e.gtagName&&(yt=e.gtagName)}function kt(e,t,n){!function(){var e=[];if(Object(v.y)()&&e.push("This is a browser extension environment."),Object(v.e)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Qe.create("invalid-analytics-context",{errorInfo:t});Fe.warn(n.message)}}();var r=e.options.appId;if(!r)throw Qe.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Qe.create("no-api-key");Fe.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=dt[r])throw Qe.create("already-exists",{id:r});if(!gt){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(mt);var i=Ke(dt,pt,vt,mt,yt),a=i.wrappedGtag,o=i.gtagCore;ft=a,lt=o,gt=!0}return dt[r]=function(e,t,n,r,i,a,o){return ct.apply(this,arguments)}(e,pt,vt,t,lt,mt,n),new ht(e)}function wt(){return(wt=Object(h.a)(f.a.mark((function e(t,n,r,i,a){var o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(){return(Ot=Object(h.a)(f.a.mark((function e(t,n,r,i){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{screen_name:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,screen_name:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(){return(_t=Object(h.a)(f.a.mark((function e(t,n,r,i){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("set",{user_id:r}),e.abrupt("return",Promise.resolve());case 5:return e.next=7,n;case 7:a=e.sent,t("config",a,{update:!0,user_id:r});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(){return(jt=Object(h.a)(f.a.mark((function e(t,n,r,i){var a,o,s,u,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=7;break}for(a={},o=0,s=Object.keys(r);o<s.length;o++)u=s[o],a["user_properties.".concat(u)]=r[u];return t("set",a),e.abrupt("return",Promise.resolve());case 7:return e.next=9,n;case 9:c=e.sent,t("config",c,{update:!0,user_properties:r});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(){return(xt=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:r=e.sent,window["ga-disable-".concat(r)]=!n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(v.y)()){e.next=2;break}return e.abrupt("return",!1);case 2:if(Object(v.e)()){e.next=4;break}return e.abrupt("return",!1);case 4:if(Object(v.C)()){e.next=6;break}return e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,Object(v.W)();case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}function St(e,t,n){e=Object(v.u)(e),function(e,t,n,r){return Ot.apply(this,arguments)}(ft,dt[e.app.options.appId],t,n).catch((function(e){return Fe.error(e)}))}function It(e,t,n){e=Object(v.u)(e),function(e,t,n,r){return _t.apply(this,arguments)}(ft,dt[e.app.options.appId],t,n).catch((function(e){return Fe.error(e)}))}function Ct(e,t,n){e=Object(v.u)(e),function(e,t,n,r){return jt.apply(this,arguments)}(ft,dt[e.app.options.appId],t,n).catch((function(e){return Fe.error(e)}))}function Nt(e,t){e=Object(v.u)(e),function(e,t){return xt.apply(this,arguments)}(dt[e.app.options.appId],t).catch((function(e){return Fe.error(e)}))}function Rt(e,t,n,r){e=Object(v.u)(e),function(e,t,n,r,i){return wt.apply(this,arguments)}(ft,dt[e.app.options.appId],t,n,r).catch((function(e){return Fe.error(e)}))}var At="@firebase/analytics",Pt="0.7.4";Object(d._registerComponent)(new m.a(Pe,(function(e,t){var n=t.options;return kt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Object(d._registerComponent)(new m.a("analytics-internal",(function(e){try{var t=e.getProvider(Pe).getImmediate();return{logEvent:function(e,n,r){return Rt(t,e,n,r)}}}catch(n){throw Qe.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Object(d.registerVersion)(At,Pt),Object(d.registerVersion)(At,Pt,"esm2017");var Dt,Mt=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"logEvent",value:function(e,t,n){Rt(this._delegate,e,t,n)}},{key:"setCurrentScreen",value:function(e,t){St(this._delegate,e,t)}},{key:"setUserId",value:function(e,t){It(this._delegate,e,t)}},{key:"setUserProperties",value:function(e,t){Ct(this._delegate,e,t)}},{key:"setAnalyticsCollectionEnabled",value:function(e){Nt(this._delegate,e)}}]),e}();!function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Dt||(Dt={}));var Lt,Ft=function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("analytics").getImmediate();return new Mt(t,n)};!function(){var e={Analytics:Mt,settings:bt,isSupported:Et,EventName:Dt};i.a.INTERNAL.registerComponent(new m.a("analytics-compat",Ft,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),i.a.registerVersion("@firebase/analytics-compat","0.1.5");var Ut=new Map,qt={activated:!1,tokenObservers:[]},zt={initialized:!1,enabled:!1};function Vt(e){return Ut.get(e)||qt}function Bt(e,t){Ut.set(e,t)}function Wt(){return zt}var Kt="https://content-firebaseappcheck.googleapis.com/v1beta",Ht=3e4,Gt=96e4,Qt=function(){function e(t,n,r,i,o){if(Object(a.a)(this,e),this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}return Object(o.a)(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,this.pending=new v.a,e.next=5,$t(this.getNextRun(t));case 5:return this.pending.resolve(),e.next=8,this.pending.promise;case 8:return this.pending=new v.a,e.next=11,this.operation();case 11:return this.pending.resolve(),e.next=14,this.pending.promise;case 14:this.process(!0).catch((function(){})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.retryPolicy(e.t0)?this.process(!1).catch((function(){})):this.stop();case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}();function $t(e){return new Promise((function(t){setTimeout(t,e)}))}var Yt=(Lt={},Object(c.a)(Lt,"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),Object(c.a)(Lt,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),Object(c.a)(Lt,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),Object(c.a)(Lt,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),Object(c.a)(Lt,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),Object(c.a)(Lt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(c.a)(Lt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(c.a)(Lt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(c.a)(Lt,"recaptcha-error","ReCAPTCHA error."),Lt),Xt=new v.b("appCheck","AppCheck",Yt);function Jt(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function Zt(e){if(!Vt(e).activated)throw Xt.create("use-before-activation",{appName:e.name})}function en(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s,u,c,l,h,d;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.url,i=t.body,a={"Content-Type":"application/json"},(o=n.getImmediate({optional:!0}))&&(a["X-Firebase-Client"]=o.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(i),headers:a},e.prev=5,e.next=8,fetch(r,s);case 8:u=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),Xt.create("fetch-network-error",{originalErrorMessage:e.t0.message});case 14:if(200===u.status){e.next=16;break}throw Xt.create("fetch-status-error",{httpStatus:u.status});case 16:return e.prev=16,e.next=19,u.json();case 19:c=e.sent,e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(16),Xt.create("fetch-parse-error",{originalErrorMessage:e.t1.message});case 25:if((l=c.ttl.match(/^([\d.]+)(s)$/))&&l[2]&&!isNaN(Number(l[1]))){e.next=28;break}throw Xt.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(c.ttl)});case 28:return h=1e3*Number(l[1]),d=Date.now(),e.abrupt("return",{token:c.attestationToken,expireTimeMillis:d+h,issuedAtTimeMillis:d});case 31:case"end":return e.stop()}}),e,null,[[5,11],[16,22]])})))).apply(this,arguments)}function rn(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(Kt,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaToken","?key=").concat(a),body:{recaptcha_token:t}}}function an(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(Kt,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeRecaptchaEnterpriseToken","?key=").concat(a),body:{recaptcha_enterprise_token:t}}}function on(e,t){var n=e.options,r=n.projectId,i=n.appId,a=n.apiKey;return{url:"".concat(Kt,"/projects/").concat(r,"/apps/").concat(i,":").concat("exchangeDebugToken","?key=").concat(a),body:{debug_token:t}}}var sn="firebase-app-check-store",un="debug-token",cn=null;function ln(){return cn||(cn=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(Xt.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(sn,{keyPath:"compositeKey"})}}catch(r){t(Xt.create("storage-open",{originalErrorMessage:r.message}))}})))}function fn(e){return mn(gn(e))}function hn(e){return pn(un,e)}function dn(){return mn(un)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln();case 2:return r=e.sent,i=r.transaction(sn,"readwrite"),a=i.objectStore(sn),o=a.put({compositeKey:t,value:n}),e.abrupt("return",new Promise((function(e,t){o.onsuccess=function(t){e()},i.onerror=function(e){var n;t(Xt.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e){return yn.apply(this,arguments)}function yn(){return(yn=Object(h.a)(f.a.mark((function e(t){var n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ln();case 2:return n=e.sent,r=n.transaction(sn,"readonly"),i=r.objectStore(sn),a=i.get(t),e.abrupt("return",new Promise((function(e,t){a.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},r.onerror=function(e){var n;t(Xt.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(e){return"".concat(e.options.appId,"-").concat(e.name)}var bn=new p.b("@firebase/app-check");function kn(){return(kn=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(v.C)()){e.next=12;break}return n=void 0,e.prev=2,e.next=5,fn(t);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),bn.warn("Failed to read token from IndexedDB. Error: ".concat(e.t0));case 11:return e.abrupt("return",n);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function wn(e,t){return Object(v.C)()?function(e,t){return pn(gn(e),t)}(e,t).catch((function(e){bn.warn("Failed to write token to IndexedDB. Error: ".concat(e))})):Promise.resolve()}function On(){return(On=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,dn();case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(t){e.next=15;break}return hn(n=en()).catch((function(e){return bn.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e))})),e.abrupt("return",n);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function _n(){return Wt().enabled}function jn(){return xn.apply(this,arguments)}function xn(){return(xn=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=Wt()).enabled||!t.token){e.next=5;break}return e.abrupt("return",t.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function En(){var e=Object(v.t)(),t=Wt();if(t.initialized=!0,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;var n=new v.a;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(function(){return On.apply(this,arguments)}())}}var Tn={error:"UNKNOWN_ERROR"};function Sn(e){return In.apply(this,arguments)}function In(){return In=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],Zt(r=t.app),i=Vt(r),a=i.token,o=void 0,a){e.next=11;break}return e.next=9,i.cachedTokenPromise;case 9:(s=e.sent)&&An(s)&&(a=s,Bt(r,Object.assign(Object.assign({},i),{token:a})),Rn(r,{token:a.token}));case 11:if(n||!a||!An(a)){e.next=13;break}return e.abrupt("return",{token:a.token});case 13:if(!_n()){e.next=29;break}return e.t0=tn,e.t1=on,e.t2=r,e.next=19,jn();case 19:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.platformLoggerProvider,e.next=24,(0,e.t0)(e.t4,e.t5);case 24:return u=e.sent,e.next=27,wn(r,u);case 27:return Bt(r,Object.assign(Object.assign({},i),{token:u})),e.abrupt("return",{token:u.token});case 29:return e.prev=29,e.next=32,i.provider.getToken();case 32:a=e.sent,e.next=39;break;case 35:e.prev=35,e.t6=e.catch(29),bn.error(e.t6),o=e.t6;case 39:if(a){e.next=43;break}c=Pn(o),e.next=47;break;case 43:return c={token:a.token},Bt(r,Object.assign(Object.assign({},i),{token:a})),e.next=47,wn(r,a);case 47:return Rn(r,c),e.abrupt("return",c);case 49:case"end":return e.stop()}}),e,null,[[29,35]])}))),In.apply(this,arguments)}function Cn(e,t,n,r){var i=e.app,a=Vt(i),o={next:n,error:r,type:t},s=Object.assign(Object.assign({},a),{tokenObservers:[].concat(Object(y.a)(a.tokenObservers),[o])});if(!s.tokenRefresher){var u=function(e){var t=e.app;return new Qt(Object(h.a)(f.a.mark((function n(){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Vt(t).token){n.next=7;break}return n.next=4,Sn(e);case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,Sn(e,!0);case 9:r=n.sent;case 10:if(!r.error){n.next=12;break}throw r.error;case 12:case"end":return n.stop()}}),n)}))),(function(){return!0}),(function(){var e=Vt(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),Ht,Gt)}(e);s.tokenRefresher=u}if(!s.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&s.tokenRefresher.start(),a.token&&An(a.token)){var c=a.token;Promise.resolve().then((function(){return n({token:c.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&An(e)&&n({token:e.token})})).catch((function(){}));Bt(i,s)}function Nn(e,t){var n=Vt(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Bt(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Rn(e,t){var n,r=Vt(e).tokenObservers,i=Object(u.a)(r);try{for(i.s();!(n=i.n()).done;){var a=n.value;try{"EXTERNAL"===a.type&&null!=t.error?a.error(t.error):a.next(t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}function An(e){return e.expireTimeMillis-Date.now()>0}function Pn(e){return{token:(t=Tn,v.h.encodeString(JSON.stringify(t),!1)),error:e};var t}var Dn=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this.platformLoggerProvider=n}return Object(o.a)(e,[{key:"_delete",value:function(){var e,t=Vt(this.app).tokenObservers,n=Object(u.a)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;Nn(this.app,r.next)}}catch(i){n.e(i)}finally{n.f()}return Promise.resolve()}}]),e}();var Mn="https://www.google.com/recaptcha/api.js",Ln="https://www.google.com/recaptcha/enterprise.js";function Fn(e,t){var n=Vt(e),r=new v.a;Bt(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=zn(e),a=Jt(!1);return a?qn(e,t,a,i,r):function(e){var t=document.createElement("script");t.src=Mn,t.onload=e,document.head.appendChild(t)}((function(){var n=Jt(!1);if(!n)throw new Error("no recaptcha");qn(e,t,n,i,r)})),r.promise}function Un(e,t){var n=Vt(e),r=new v.a;Bt(e,Object.assign(Object.assign({},n),{reCAPTCHAState:{initialized:r}}));var i=zn(e),a=Jt(!0);return a?qn(e,t,a,i,r):function(e){var t=document.createElement("script");t.src=Ln,t.onload=e,document.head.appendChild(t)}((function(){var n=Jt(!0);if(!n)throw new Error("no recaptcha");qn(e,t,n,i,r)})),r.promise}function qn(e,t,n,r,i){n.ready((function(){!function(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=Vt(e);Bt(e,Object.assign(Object.assign({},a),{reCAPTCHAState:Object.assign(Object.assign({},a.reCAPTCHAState),{widgetId:i})}))}(e,t,n,r),i.resolve(n)}))}function zn(e){var t="fire_app_check_".concat(e.name),n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}function Vn(e){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zt(t),n=Vt(t).reCAPTCHAState,e.next=4,n.initialized.promise;case 4:return r=e.sent,e.abrupt("return",new Promise((function(e,n){var i=Vt(t).reCAPTCHAState;r.ready((function(){e(r.execute(i.widgetId,{action:"fire_app_check"}))}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Wn=function(){function e(t){Object(a.a)(this,e),this._siteKey=t}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vn(this._app).catch((function(e){throw Xt.create("recaptcha-error")}));case 2:return t=e.sent,e.abrupt("return",tn(rn(this._app,t),this._platformLoggerProvider));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._platformLoggerProvider=Object(d._getProvider)(e,"platform-logger"),Fn(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),Kn=function(){function e(t){Object(a.a)(this,e),this._siteKey=t}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vn(this._app).catch((function(e){throw Xt.create("recaptcha-error")}));case 2:return t=e.sent,e.abrupt("return",tn(an(this._app,t),this._platformLoggerProvider));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._platformLoggerProvider=Object(d._getProvider)(e,"platform-logger"),Un(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),Hn=function(){function e(t){Object(a.a)(this,e),this._customProviderOptions=t}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._customProviderOptions.getToken();case 2:return t=e.sent,n=Object(v.K)(t.token),r=null!==n&&n<Date.now()&&n>0?1e3*n:Date.now(),e.abrupt("return",Object.assign(Object.assign({},t),{issuedAtTimeMillis:r}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e}},{key:"isEqual",value:function(t){return t instanceof e&&this._customProviderOptions.getToken.toString()===t._customProviderOptions.getToken.toString()}}]),e}();function Gn(e,t,n){var r=Vt(e),i=Object.assign(Object.assign({},r),{activated:!0});i.provider=t,i.cachedTokenPromise=function(e){return kn.apply(this,arguments)}(e).then((function(t){return t&&An(t)&&Bt(e,Object.assign(Object.assign({},Vt(e)),{token:t})),t})),i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,Bt(e,i),i.provider.initialize(e)}function Qn(){return(Qn=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn(t,n);case 2:if(!(r=e.sent).error){e.next=5;break}throw r.error;case 5:return e.abrupt("return",{token:r.token});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $n="app-check-internal";Object(d._registerComponent)(new m.a("app-check",(function(e){return function(e,t){return new Dn(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider($n).initialize()}))),Object(d._registerComponent)(new m.a($n,(function(e){return function(e){return{getToken:function(t){return Sn(e,t)},addTokenListener:function(t){return Cn(e,"INTERNAL",t)},removeTokenListener:function(t){return Nn(e.app,t)}}}(e.getProvider("app-check").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT")),Object(d.registerVersion)("@firebase/app-check","0.5.1");var Yn=Object(c.a)({},"use-before-activation","App Check is being used before activate() is called for FirebaseApp {$appName}. Call activate() before instantiating other Firebase services."),Xn=new v.b("appCheck","AppCheck",Yn),Jn=function(){function e(t){Object(a.a)(this,e),this.app=t}return Object(o.a)(e,[{key:"activate",value:function(e,t){var n;n="string"===typeof e?new Wn(e):e instanceof Kn||e instanceof Wn||e instanceof Hn?e:new Hn({getToken:e.getToken}),this._delegate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(d.getApp)(),t=arguments.length>1?arguments[1]:void 0;e=Object(v.u)(e);var n=Object(d._getProvider)(e,"app-check");if(Wt().initialized||En(),_n()&&jn().then((function(e){return console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))})),n.isInitialized()){var r=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return r;throw Xt.create("already-initialized",{appName:e.name})}var a=n.initialize({options:t});return Gn(e,t.provider,t.isTokenAutoRefreshEnabled),a}(this.app,{provider:n,isTokenAutoRefreshEnabled:t})}},{key:"setTokenAutoRefreshEnabled",value:function(e){if(!this._delegate)throw Xn.create("use-before-activation",{appName:this.app.name});!function(e,t){var n=e.app,r=Vt(n);r.tokenRefresher&&(!0===t?r.tokenRefresher.start():r.tokenRefresher.stop()),Bt(n,Object.assign(Object.assign({},r),{isTokenAutoRefreshEnabled:t}))}(this._delegate,e)}},{key:"getToken",value:function(e){if(!this._delegate)throw Xn.create("use-before-activation",{appName:this.app.name});return function(e,t){return Qn.apply(this,arguments)}(this._delegate,e)}},{key:"onTokenChanged",value:function(e,t,n){if(!this._delegate)throw Xn.create("use-before-activation",{appName:this.app.name});return function(e,t,n,r){var i=function(){},a=function(){};return i=null!=t.next?t.next.bind(t):t,null!=t.error?a=t.error.bind(t):n&&(a=n),Cn(e,"EXTERNAL",i,a),function(){return Nn(e.app,i)}}(this._delegate,e,t)}}]),e}(),Zn=function(e){var t=e.getProvider("app-compat").getImmediate();return new Jn(t)};i.a.INTERNAL.registerComponent(new m.a("appCheck-compat",Zn,"PUBLIC").setServiceProps({ReCaptchaEnterpriseProvider:Kn,ReCaptchaV3Provider:Wn,CustomProvider:Hn})),i.a.registerVersion("@firebase/app-check-compat","0.2.1");n(112);var er=n(10),tr=n(11),nr=n(19),rr=new p.b("@firebase/database-compat"),ir=function(e){var t="FIREBASE WARNING: "+e;rr.warn(t)},ar=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(v.r)(e,t)+"must be a boolean.")},or=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(v.r)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},sr=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"cancel",value:function(e){Object(v.T)("OnDisconnect.cancel",0,1,arguments.length),Object(v.U)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Object(v.T)("OnDisconnect.remove",0,1,arguments.length),Object(v.U)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Object(v.T)("OnDisconnect.set",1,2,arguments.length),Object(v.U)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Object(v.T)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(v.U)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Object(v.T)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,ir("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(v.U)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),ur=function(){function e(t,n){Object(a.a)(this,e),this.committed=t,this.snapshot=n}return Object(o.a)(e,[{key:"toJSON",value:function(){return Object(v.T)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),cr=function(){function e(t,n){Object(a.a)(this,e),this._database=t,this._delegate=n}return Object(o.a)(e,[{key:"val",value:function(){return Object(v.T)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Object(v.T)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Object(v.T)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Object(v.T)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Object(v.T)("DataSnapshot.child",0,1,arguments.length),t=String(t),Object(nr.g)("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Object(v.T)("DataSnapshot.hasChild",1,1,arguments.length),Object(nr.g)("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Object(v.T)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Object(v.T)("DataSnapshot.forEach",1,1,arguments.length),Object(v.U)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Object(v.T)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Object(v.T)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Object(v.T)("DataSnapshot.ref",0,0,arguments.length),new fr(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),lr=function(){function e(t,n){Object(a.a)(this,e),this.database=t,this._delegate=n}return Object(o.a)(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Object(v.T)("Query.on",2,4,arguments.length),Object(v.U)("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new cr(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return Object(nr.z)(this._delegate,u,c),n;case"child_added":return Object(nr.v)(this._delegate,u,c),n;case"child_removed":return Object(nr.y)(this._delegate,u,c),n;case"child_changed":return Object(nr.w)(this._delegate,u,c),n;case"child_moved":return Object(nr.x)(this._delegate,u,c),n;default:throw new Error(Object(v.r)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Object(v.T)("Query.off",0,3,arguments.length),or("Query.off",e,!0),Object(v.U)("Query.off","callback",t,!0),Object(v.V)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,Object(nr.u)(this._delegate,e,r)}else Object(nr.u)(this._delegate,e)}},{key:"get",value:function(){var e=this;return Object(nr.o)(this._delegate).then((function(t){return new cr(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Object(v.T)("Query.once",1,4,arguments.length),Object(v.U)("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new v.a,u=function(e,t){var r=new cr(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":Object(nr.z)(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Object(nr.v)(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Object(nr.y)(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Object(nr.w)(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Object(nr.x)(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Object(v.r)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Object(v.T)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.s)(t)))}},{key:"limitToLast",value:function(t){return Object(v.T)("Query.limitToLast",1,1,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.t)(t)))}},{key:"orderByChild",value:function(t){return Object(v.T)("Query.orderByChild",1,1,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.A)(t)))}},{key:"orderByKey",value:function(){return Object(v.T)("Query.orderByKey",0,0,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.B)()))}},{key:"orderByPriority",value:function(){return Object(v.T)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.C)()))}},{key:"orderByValue",value:function(){return Object(v.T)("Query.orderByValue",0,0,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.D)()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(v.T)("Query.startAt",0,2,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.P)(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(v.T)("Query.startAfter",0,2,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.O)(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(v.T)("Query.endAt",0,2,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.l)(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Object(v.T)("Query.endBefore",0,2,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.m)(t,n)))}},{key:"equalTo",value:function(t,n){return Object(v.T)("Query.equalTo",1,2,arguments.length),new e(this.database,Object(nr.F)(this._delegate,Object(nr.n)(t,n)))}},{key:"toString",value:function(){return Object(v.T)("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Object(v.T)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Object(v.T)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new fr(this.database,new nr.d(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(v.U)(e,"cancel",r.cancel,!0),r.context=n,Object(v.V)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(v.r)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),fr=function(e){Object(er.a)(n,e);var t=Object(tr.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,new nr.b(r._repo,r._path,new nr.c,!1))).database=e,i._delegate=r,i}return Object(o.a)(n,[{key:"getKey",value:function(){return Object(v.T)("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Object(v.T)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,Object(nr.i)(this._delegate,e))}},{key:"getParent",value:function(){Object(v.T)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Object(v.T)("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Object(v.T)("Reference.set",1,2,arguments.length),Object(v.U)("Reference.set","onComplete",t,!0);var n=Object(nr.L)(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Object(v.T)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,ir("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(nr.h)("Reference.update",this._delegate._path),Object(v.U)("Reference.update","onComplete",t,!0);var i=Object(nr.Q)(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Object(v.T)("Reference.setWithPriority",2,3,arguments.length),Object(v.U)("Reference.setWithPriority","onComplete",n,!0);var r=Object(nr.N)(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Object(v.T)("Reference.remove",0,1,arguments.length),Object(v.U)("Reference.remove","onComplete",e,!0);var t=Object(nr.I)(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Object(v.T)("Reference.transaction",1,3,arguments.length),Object(v.U)("Reference.transaction","transactionUpdate",e,!1),Object(v.U)("Reference.transaction","onComplete",t,!0),ar("Reference.transaction","applyLocally",n,!0);var i=Object(nr.J)(this._delegate,e,{applyLocally:n}).then((function(e){return new ur(e.committed,new cr(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Object(v.T)("Reference.setPriority",1,2,arguments.length),Object(v.U)("Reference.setPriority","onComplete",t,!0);var n=Object(nr.M)(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Object(v.T)("Reference.push",0,2,arguments.length),Object(v.U)("Reference.push","onComplete",t,!0);var i=Object(nr.E)(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Object(nr.h)("Reference.onDisconnect",this._delegate._path),new sr(new nr.a(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(lr),hr=function(){function e(t,n){var r=this;Object(a.a)(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object(o.a)(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(nr.j)(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Object(v.T)("database.ref",0,1,arguments.length),e instanceof fr){var t=Object(nr.H)(this._delegate,e.toString());return new fr(this,t)}var n=Object(nr.G)(this._delegate,e);return new fr(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Object(v.T)(t,1,1,arguments.length);var n=Object(nr.H)(this._delegate,e);return new fr(this,n)}},{key:"goOffline",value:function(){return Object(v.T)("database.goOffline",0,0,arguments.length),Object(nr.p)(this._delegate)}},{key:"goOnline",value:function(){return Object(v.T)("database.goOnline",0,0,arguments.length),Object(nr.q)(this._delegate)}}]),e}();hr.ServerValue={TIMESTAMP:Object(nr.K)(),increment:function(e){return Object(nr.r)(e)}};var dr,pr=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;Object(nr.f)(r);var u=new m.c("auth-internal",new m.b("database-standalone"));return u.setComponent(new m.a("auth-internal",(function(){return i}),"PRIVATE")),{instance:new hr(Object(nr.e)(t,u,void 0,n,s),t),namespace:a}}}),vr=hr.ServerValue;(dr=i.a).INTERNAL.registerComponent(new m.a("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new hr(i,r)}),"PUBLIC").setServiceProps({Reference:fr,Query:lr,Database:hr,DataSnapshot:cr,enableLogging:nr.k,INTERNAL:pr,ServerValue:vr}).setMultipleInstances(!0)),dr.registerVersion("@firebase/database-compat","0.1.4");var mr=n(53),yr=n(14);function gr(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new yr.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function br(){if("undefined"===typeof Uint8Array)throw new yr.g("unimplemented","Uint8Arrays are not available in this environment.")}function kr(){if(!Object(yr.r)())throw new yr.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var wr=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"toBase64",value:function(){return kr(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return br(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return kr(),new e(yr.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return br(),new e(yr.b.fromUint8Array(t))}}]),e}();function Or(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Object(u.a)(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _r=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(yr.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(yr.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(yr.x)(e._delegate)}}]),e}(),jr=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof yr.m||(this._appCompat=t)}return Object(o.a)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(yr.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(yr.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(yr.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(yr.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(yr.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(yr.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(yr.Y)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new yr.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Fr(this,Object(yr.y)(this._delegate,e))}catch(t){throw Cr(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Ir(this,Object(yr.E)(this._delegate,e))}catch(t){throw Cr(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Dr(this,Object(yr.z)(this._delegate,e))}catch(t){throw Cr(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(yr.db)(this._delegate,(function(n){return e(new Er(t,n))}))}},{key:"batch",value:function(){var e=this;return Object(yr.K)(this._delegate),new Tr(new yr.l(this._delegate,(function(t){return Object(yr.L)(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Object(yr.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(yr.W)(this._delegate,e).then((function(e){return e?new Dr(t,e):null}))}}]),e}(),xr=function(e){Object(er.a)(n,e);var t=Object(tr.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(o.a)(n,[{key:"convertBytes",value:function(e){return new wr(new yr.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ir.forKey(t,this.firestore,null)}}]),n}(yr.a);var Er=function(){function e(t,n){Object(a.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new xr(t)}return Object(o.a)(e,[{key:"get",value:function(e){var t=this,n=Ur(e);return this._delegate.get(n).then((function(e){return new Ar(t._firestore,new yr.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=Ur(e);return n?(gr("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Ur(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Ur(e);return this._delegate.delete(t),this}}]),e}(),Tr=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"set",value:function(e,t,n){var r=Ur(e);return n?(gr("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=Ur(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=Ur(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Sr=function(){function e(t,n,r){Object(a.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(o.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new yr.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pr(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new xr(t),n),i.set(n,a)),a}}]),e}();Sr.INSTANCES=new WeakMap;var Ir=function(){function e(t,n){Object(a.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xr(t)}return Object(o.a)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Fr(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Fr(this.firestore,Object(yr.y)(this._delegate,e))}catch(t){throw Cr(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(v.u)(e))instanceof yr.d&&Object(yr.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=gr("DocumentReference.set",t);try{return t?Object(yr.fb)(this._delegate,e,t):Object(yr.fb)(this._delegate,e)}catch(n){throw Cr(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Object(yr.kb)(this._delegate,e):yr.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Cr(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(yr.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Nr(n),a=Rr(n,(function(t){return new Ar(e.firestore,new yr.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Object(yr.X)(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(yr.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(yr.O)(this._delegate):Object(yr.M)(this._delegate)).then((function(e){return new Ar(t.firestore,new yr.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Sr.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new yr.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new yr.d(n._delegate,r,new yr.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new yr.d(n._delegate,r,t))}}]),e}();function Cr(e,t,n){return e.message=e.message.replace(t,n),e}function Nr(e){var t,n=Object(u.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Or(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Rr(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Or(e[0])?e[0]:Or(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ar=function(){function e(t,n){Object(a.a)(this,e),this._firestore=t,this._delegate=n}return Object(o.a)(e,[{key:"ref",get:function(){return new Ir(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(yr.hb)(this._delegate,e._delegate)}}]),e}(),Pr=function(e){Object(er.a)(n,e);var t=Object(tr.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(yr.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(Ar),Dr=function(){function e(t,n){Object(a.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xr(t)}return Object(o.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(yr.ab)(this._delegate,Object(yr.mb)(t,n,r)))}catch(i){throw Cr(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(yr.ab)(this._delegate,Object(yr.Z)(t,n)))}catch(r){throw Cr(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(yr.ab)(this._delegate,Object(yr.T)(t)))}catch(n){throw Cr(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(yr.ab)(this._delegate,Object(yr.U)(t)))}catch(n){throw Cr(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(yr.ab)(this._delegate,yr.jb.apply(void 0,arguments)))}catch(t){throw Cr(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(yr.ab)(this._delegate,yr.ib.apply(void 0,arguments)))}catch(t){throw Cr(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(yr.ab)(this._delegate,yr.J.apply(void 0,arguments)))}catch(t){throw Cr(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(yr.ab)(this._delegate,yr.I.apply(void 0,arguments)))}catch(t){throw Cr(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(yr.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(yr.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(yr.R)(this._delegate):Object(yr.P)(this._delegate)).then((function(e){return new Lr(t.firestore,new yr.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Nr(n),a=Rr(n,(function(t){return new Lr(e.firestore,new yr.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Object(yr.X)(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Sr.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Mr=function(){function e(t,n){Object(a.a)(this,e),this._firestore=t,this._delegate=n}return Object(o.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Pr(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Lr=function(){function e(t,n){Object(a.a)(this,e),this._firestore=t,this._delegate=n}return Object(o.a)(e,[{key:"query",get:function(){return new Dr(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Pr(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Mr(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Pr(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Object(yr.hb)(this._delegate,e._delegate)}}]),e}(),Fr=function(e){Object(er.a)(n,e);var t=Object(tr.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Object(o.a)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Ir(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Ir(this.firestore,void 0===e?Object(yr.E)(this._delegate):Object(yr.E)(this._delegate,e))}catch(t){throw Cr(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(yr.u)(this._delegate,e).then((function(e){return new Ir(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Object(yr.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Sr.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Dr);function Ur(e){return Object(yr.p)(e,yr.d)}var qr=function(){function e(){Object(a.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Object(mr.a)(yr.f,n)}return Object(o.a)(e,[{key:"isEqual",value:function(e){return(e=Object(v.u)(e))instanceof yr.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(yr.o.keyField().canonicalString())}}]),e}(),zr=function(){function e(t){Object(a.a)(this,e),this._delegate=t}return Object(o.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(yr.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(yr.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=yr.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=yr.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(yr.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Vr={Firestore:jr,GeoPoint:yr.h,Timestamp:yr.k,Blob:wr,Transaction:Er,WriteBatch:Tr,DocumentReference:Ir,DocumentSnapshot:Ar,Query:Dr,QueryDocumentSnapshot:Pr,QuerySnapshot:Lr,CollectionReference:Fr,FieldPath:qr,FieldValue:zr,setLogLevel:function(e){Object(yr.gb)(e)},CACHE_SIZE_UNLIMITED:yr.c};!function(e){var t;t=function(e,t){return new jr(e,t,new _r)},e.INTERNAL.registerComponent(new m.a("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Vr))),e.registerVersion("@firebase/firestore-compat","0.1.7")}(i.a);function Br(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function Wr(e){if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return Wr(e)}));if("function"===typeof e||"object"===typeof e)return Br(e,(function(e){return Wr(e)}));throw new Error("Data cannot be encoded in JSON: "+e)}function Kr(e){if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return Kr(e)})):"function"===typeof e||"object"===typeof e?Br(e,(function(e){return Kr(e)})):e}var Hr="functions",Gr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Qr=function(e){Object(er.a)(n,e);var t=Object(tr.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this,"".concat(Hr,"/").concat(e),r||"")).details=i,o}return n}(v.c);function $r(e,t){var n=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),r=n,i=void 0;try{var a=t&&t.error;if(a){var o=a.status;if("string"===typeof o){if(!Gr[o])return new Qr("internal","internal");n=Gr[o],r=o}var s=a.message;"string"===typeof s&&(r=s),void 0!==(i=a.details)&&(i=Kr(i))}}catch(u){}return"ok"===n?null:new Qr(n,r,i)}var Yr=function(){function e(t,n,r){var i=this;Object(a.a)(this,e),this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then((function(e){return i.auth=e}),(function(){})),this.messaging||n.get().then((function(e){return i.messaging=e}),(function(){})),this.appCheck||r.get().then((function(e){return i.appCheck=e}),(function(){}))}return Object(o.a)(e,[{key:"getAuthToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.auth.getToken();case 5:return t=e.sent,e.abrupt("return",null===t||void 0===t?void 0:t.accessToken);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",void 0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getMessagingToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.messaging&&"Notification"in self&&"granted"===Notification.permission){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.prev=2,e.next=5,this.messaging.getToken();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAppCheckToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.appCheck){e.next=7;break}return e.next=3,this.appCheck.getToken();case 3:if(!(t=e.sent).error){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",t.token);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getContext",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAuthToken();case 2:return t=e.sent,e.next=5,this.getMessagingToken();case 5:return n=e.sent,e.next=8,this.getAppCheckToken();case 8:return r=e.sent,e.abrupt("return",{authToken:t,messagingToken:n,appCheckToken:r});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Xr="us-central1";function Jr(e){return new Promise((function(t,n){setTimeout((function(){n(new Qr("deadline-exceeded","deadline-exceeded"))}),e)}))}var Zr=function(){function e(t,n,r,i){var o=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xr,u=arguments.length>5?arguments[5]:void 0;Object(a.a)(this,e),this.app=t,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new Yr(n,r,i),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return Promise.resolve(e())}}));try{var c=new URL(s);this.customDomain=c.origin,this.region=Xr}catch(l){this.customDomain=null,this.region=s}}return Object(o.a)(e,[{key:"_delete",value:function(){return this.deleteService()}},{key:"_url",value:function(e){var t=this.app.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}]),e}();function ei(e,t,n){return function(r){return function(e,t,n,r){return ri.apply(this,arguments)}(e,t,r,n||{})}}function ti(e,t,n,r){return ni.apply(this,arguments)}function ni(){return(ni=Object(h.a)(f.a.mark((function e(t,n,r,i){var a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r["Content-Type"]="application/json",e.prev=1,e.next=4,i(t,{method:"POST",body:JSON.stringify(n),headers:r});case 4:a=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",{status:0,json:null});case 10:return o=null,e.prev=11,e.next=14,a.json();case 14:o=e.sent,e.next=19;break;case 17:e.prev=17,e.t1=e.catch(11);case 19:return e.abrupt("return",{status:a.status,json:o});case 20:case"end":return e.stop()}}),e,null,[[1,7],[11,17]])})))).apply(this,arguments)}function ri(){return(ri=Object(h.a)(f.a.mark((function e(t,n,r,i){var a,o,s,u,c,l,h,d,p;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t._url(n),r=Wr(r),o={data:r},s={},e.next=6,t.contextProvider.getContext();case 6:return(u=e.sent).authToken&&(s.Authorization="Bearer "+u.authToken),u.messagingToken&&(s["Firebase-Instance-ID-Token"]=u.messagingToken),null!==u.appCheckToken&&(s["X-Firebase-AppCheck"]=u.appCheckToken),c=i.timeout||7e4,e.next=13,Promise.race([ti(a,o,s,t.fetchImpl),Jr(c),t.cancelAllRequests]);case 13:if(l=e.sent){e.next=16;break}throw new Qr("cancelled","Firebase Functions instance was deleted.");case 16:if(!(h=$r(l.status,l.json))){e.next=19;break}throw h;case 19:if(l.json){e.next=21;break}throw new Qr("internal","Response is not valid JSON object.");case 21:if("undefined"===typeof(d=l.json.data)&&(d=l.json.result),"undefined"!==typeof d){e.next=25;break}throw new Qr("internal","Response is missing data field.");case 25:return p=Kr(d),e.abrupt("return",{data:p});case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ii,ai,oi="@firebase/functions",si="0.7.5";function ui(e,t,n){!function(e,t,n){e.emulatorOrigin="http://".concat(t,":").concat(n)}(Object(v.u)(e),t,n)}ii=fetch.bind(self),Object(d._registerComponent)(new m.a(Hr,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("messaging-internal"),o=e.getProvider("app-check-internal");return new Zr(r,i,a,o,n,ii)}),"PUBLIC").setMultipleInstances(!0)),Object(d.registerVersion)(oi,si,ai),Object(d.registerVersion)(oi,si,"esm2017");var ci,li=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}return Object(o.a)(e,[{key:"httpsCallable",value:function(e,t){return function(e,t,n){return ei(Object(v.u)(e),t,n)}(this._delegate,e,t)}},{key:"useFunctionsEmulator",value:function(e){var t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(null==t)throw new v.c("functions","No origin provided to useFunctionsEmulator()");if(null==t[2])throw new v.c("functions","Port missing in origin provided to useFunctionsEmulator()");return ui(this._delegate,t[1],Number(t[2]))}},{key:"useEmulator",value:function(e,t){return ui(this._delegate,e,t)}}]),e}(),fi=function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("functions").getImmediate({identifier:null!==n&&void 0!==n?n:"us-central1"});return new li(r,i)};!function(){var e={Functions:li};i.a.INTERNAL.registerComponent(new m.a("functions-compat",fi,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(),i.a.registerVersion("@firebase/functions-compat","0.1.6");var hi,di,pi="/firebase-messaging-sw.js",vi="/firebase-cloud-messaging-push-scope",mi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",yi="google.c.a.c_id";function gi(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(y.a)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bi(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(hi||(hi={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(di||(di={}));var ki="fcm_token_details_db",wi="fcm_token_object_Store";function Oi(e){return _i.apply(this,arguments)}function _i(){return _i=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(ki)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Object(g.openDb)(ki,5,function(){var e=Object(h.a)(f.a.mark((function e(n){var r,a,o,s,u,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.oldVersion<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(wi)){e.next=4;break}return e.abrupt("return");case 4:return a=n.transaction.objectStore(wi),e.next=7,a.index("fcmSenderId").get(t);case 7:return o=e.sent,e.next=10,a.clear();case 10:if(o){e.next=12;break}return e.abrupt("return");case 12:if(2!==n.oldVersion){e.next=19;break}if((s=o).auth&&s.p256dh&&s.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:s.fcmToken,createTime:null!==(r=s.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:"string"===typeof s.vapidKey?s.vapidKey:gi(s.vapidKey)}},e.next=20;break;case 19:3===n.oldVersion?i={token:(u=o).fcmToken,createTime:u.createTime,subscriptionOptions:{auth:gi(u.auth),p256dh:gi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:gi(u.vapidKey)}}:4===n.oldVersion&&(i={token:(c=o).fcmToken,createTime:c.createTime,subscriptionOptions:{auth:gi(c.auth),p256dh:gi(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:gi(c.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.sent.close(),e.next=14,Object(g.deleteDb)(ki);case 14:return e.next=16,Object(g.deleteDb)("fcm_vapid_details_db");case 16:return e.next=18,Object(g.deleteDb)("undefined");case 18:return e.abrupt("return",ji(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}function ji(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var xi="firebase-messaging-store",Ei=null;function Ti(){return Ei||(Ei=Object(g.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(xi)}))),Ei}function Si(e){return Ii.apply(this,arguments)}function Ii(){return(Ii=Object(h.a)(f.a.mark((function e(t){var n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pi(t),e.next=3,Ti();case 3:return r=e.sent,e.next=6,r.transaction(xi).objectStore(xi).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,Oi(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Ci(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ci(e,t){return Ni.apply(this,arguments)}function Ni(){return(Ni=Object(h.a)(f.a.mark((function e(t,n){var r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pi(t),e.next=3,Ti();case 3:return i=e.sent,a=i.transaction(xi,"readwrite"),e.next=7,a.objectStore(xi).put(n,r);case 7:return e.next=9,a.complete;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(e){return Ai.apply(this,arguments)}function Ai(){return(Ai=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pi(t),e.next=3,Ti();case 3:return r=e.sent,i=r.transaction(xi,"readwrite"),e.next=7,i.objectStore(xi).delete(n);case 7:return e.next=9,i.complete;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pi(e){return e.appConfig.appId}var Di=(ci={},Object(c.a)(ci,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(c.a)(ci,"only-available-in-window","This method is available in a Window context."),Object(c.a)(ci,"only-available-in-sw","This method is available in a service worker context."),Object(c.a)(ci,"permission-default","The notification permission was not granted and dismissed instead."),Object(c.a)(ci,"permission-blocked","The notification permission was not granted and blocked instead."),Object(c.a)(ci,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Object(c.a)(ci,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Object(c.a)(ci,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Object(c.a)(ci,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Object(c.a)(ci,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Object(c.a)(ci,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Object(c.a)(ci,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Object(c.a)(ci,"token-update-no-token","FCM returned no token when updating the user to push."),Object(c.a)(ci,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Object(c.a)(ci,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Object(c.a)(ci,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Object(c.a)(ci,"invalid-vapid-key","The public VAPID key must be a string."),Object(c.a)(ci,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),ci),Mi=new v.b("messaging","Messaging",Di);function Li(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(t);case 2:return r=e.sent,i=Hi(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(Bi(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Mi.create("token-subscribe-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,Mi.create("token-subscribe-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw Mi.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function Ui(e,t){return qi.apply(this,arguments)}function qi(){return(qi=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(t);case 2:return r=e.sent,i=Hi(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(Bi(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),Mi.create("token-update-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,Mi.create("token-update-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw Mi.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function zi(e,t){return Vi.apply(this,arguments)}function Vi(){return(Vi=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wi(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(Bi(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,Mi.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),Mi.create("token-unsubscribe-failed",{errorInfo:e.t0});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function Bi(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function Wi(e){return Ki.apply(this,arguments)}function Ki(){return(Ki=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hi(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==mi&&(a.web.applicationPubKey=i),a}var Gi=6048e5;function Qi(e){return $i.apply(this,arguments)}function $i(){return($i=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:gi(n.getKey("auth")),p256dh:gi(n.getKey("p256dh"))},e.next=6,Si(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",ea(t.firebaseDependencies,r));case 11:if(ia(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,zi(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",ea(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+Gi)){e.next=27;break}return e.abrupt("return",Ji(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function Yi(e){return Xi.apply(this,arguments)}function Xi(){return(Xi=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Si(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,zi(t.firebaseDependencies,n.token);case 6:return e.next=8,Ri(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ji(e,t){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(h.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ui(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Ci(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Yi(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=Object(h.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Ci(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return(ra=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bi(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function aa(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function oa(e){return"object"===typeof e&&!!e&&yi in e}function sa(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function ua(e){return Mi.create("missing-app-config-values",{valueName:e})}sa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var ca=function(){function e(t,n,r){Object(a.a)(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw ua("App Configuration Object");if(!e.name)throw ua("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw ua(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return Object(o.a)(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}();function la(e){return fa.apply(this,arguments)}function fa(){return(fa=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.register(pi,{scope:vi});case 3:t.swRegistration=e.sent,t.swRegistration.update().catch((function(){})),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),Mi.create("failed-service-worker-registration",{browserErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ha(e,t){return da.apply(this,arguments)}function da(){return(da=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||t.swRegistration){e.next=3;break}return e.next=3,la(t);case 3:if(n||!t.swRegistration){e.next=5;break}return e.abrupt("return");case 5:if(n instanceof ServiceWorkerRegistration){e.next=7;break}throw Mi.create("invalid-sw-registration");case 7:t.swRegistration=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return(va=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n?t.vapidKey=n:t.vapidKey||(t.vapidKey=mi);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return ya.apply(this,arguments)}function ya(){return(ya=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Mi.create("only-available-in-window");case 2:if("default"!==Notification.permission){e.next=5;break}return e.next=5,Notification.requestPermission();case 5:if("granted"===Notification.permission){e.next=7;break}throw Mi.create("permission-blocked");case 7:return e.next=9,pa(t,null===n||void 0===n?void 0:n.vapidKey);case 9:return e.next=11,ha(t,null===n||void 0===n?void 0:n.serviceWorkerRegistration);case 11:return e.abrupt("return",Qi(t));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ga(e,t,n){return ba.apply(this,arguments)}function ba(){return(ba=Object(h.a)(f.a.mark((function e(t,n,r){var i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ka(n),e.next=3,t.firebaseDependencies.analyticsProvider.get();case 3:e.sent.logEvent(i,{message_id:r["google.c.a.c_id"],message_name:r["google.c.a.c_l"],message_time:r["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(e){switch(e){case di.NOTIFICATION_CLICKED:return"notification_open";case di.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function wa(){return(wa=Object(h.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.data).isFirebaseMessaging){e.next=3;break}return e.abrupt("return");case 3:if(t.onMessageHandler&&r.messageType===di.PUSH_RECEIVED&&("function"===typeof t.onMessageHandler?t.onMessageHandler(aa(r)):t.onMessageHandler.next(aa(r))),!oa(i=r.data)||"1"!==i["google.c.a.e"]){e.next=8;break}return e.next=8,ga(t,r.messageType,i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oa,_a="@firebase/messaging",ja="0.9.4",xa=function(e){var t=new ca(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",(function(e){return function(e,t){return wa.apply(this,arguments)}(t,e)})),t},Ea=function(e){var t=e.getProvider("messaging").getImmediate();return{getToken:function(e){return ma(t,e)}}};function Ta(){return(Ta=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator){e.next=2;break}throw Mi.create("only-available-in-window");case 2:if(t.swRegistration){e.next=5;break}return e.next=5,la(t);case 5:return e.abrupt("return",Yi(t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sa(e,t){return Ia.apply(this,arguments)}function Ia(){return(Ia=Object(h.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(v.u)(t),e.abrupt("return",ma(t,n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ca(e){return function(e){return Ta.apply(this,arguments)}(e=Object(v.u)(e))}function Na(e,t){return function(e,t){if(!navigator)throw Mi.create("only-available-in-window");return e.onMessageHandler=t,function(){e.onMessageHandler=null}}(e=Object(v.u)(e),t)}Object(d._registerComponent)(new m.a("messaging",xa,"PUBLIC")),Object(d._registerComponent)(new m.a("messaging-internal",Ea,"PRIVATE")),Object(d.registerVersion)(_a,ja),Object(d.registerVersion)(_a,ja,"esm2017");var Ra,Aa,Pa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Da="FCM_MSG";function Ma(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(y.a)(t))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function La(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e[e.DATA_MESSAGE=1]="DATA_MESSAGE",e[e.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"}(Ra||(Ra={})),function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Aa||(Aa={}));var Fa="fcm_token_details_db",Ua="fcm_token_object_Store";function qa(e){return za.apply(this,arguments)}function za(){return za=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("databases"in indexedDB)){e.next=7;break}return e.next=3,indexedDB.databases();case 3:if(n=e.sent,r=n.map((function(e){return e.name})),r.includes(Fa)){e.next=7;break}return e.abrupt("return",null);case 7:return i=null,e.next=10,Object(g.openDb)(Fa,5,function(){var e=Object(h.a)(f.a.mark((function e(n){var r,a,o,s,u,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.oldVersion<2)){e.next=2;break}return e.abrupt("return");case 2:if(n.objectStoreNames.contains(Ua)){e.next=4;break}return e.abrupt("return");case 4:return a=n.transaction.objectStore(Ua),e.next=7,a.index("fcmSenderId").get(t);case 7:return o=e.sent,e.next=10,a.clear();case 10:if(o){e.next=12;break}return e.abrupt("return");case 12:if(2!==n.oldVersion){e.next=19;break}if((s=o).auth&&s.p256dh&&s.endpoint){e.next=16;break}return e.abrupt("return");case 16:i={token:s.fcmToken,createTime:null!==(r=s.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:s.auth,p256dh:s.p256dh,endpoint:s.endpoint,swScope:s.swScope,vapidKey:"string"===typeof s.vapidKey?s.vapidKey:Ma(s.vapidKey)}},e.next=20;break;case 19:3===n.oldVersion?i={token:(u=o).fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Ma(u.auth),p256dh:Ma(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Ma(u.vapidKey)}}:4===n.oldVersion&&(i={token:(c=o).fcmToken,createTime:c.createTime,subscriptionOptions:{auth:Ma(c.auth),p256dh:Ma(c.p256dh),endpoint:c.endpoint,swScope:c.swScope,vapidKey:Ma(c.vapidKey)}});case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.sent.close(),e.next=14,Object(g.deleteDb)(Fa);case 14:return e.next=16,Object(g.deleteDb)("fcm_vapid_details_db");case 16:return e.next=18,Object(g.deleteDb)("undefined");case 18:return e.abrupt("return",Va(i)?i:null);case 19:case"end":return e.stop()}}),e)}))),za.apply(this,arguments)}function Va(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Ba="firebase-messaging-store",Wa=null;function Ka(){return Wa||(Wa=Object(g.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Ba)}))),Wa}function Ha(e){return Ga.apply(this,arguments)}function Ga(){return(Ga=Object(h.a)(f.a.mark((function e(t){var n,r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ja(t),e.next=3,Ka();case 3:return r=e.sent,e.next=6,r.transaction(Ba).objectStore(Ba).get(n);case 6:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",i);case 11:return e.next=13,qa(t.appConfig.senderId);case 13:if(!(a=e.sent)){e.next=18;break}return e.next=17,Qa(t,a);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qa(e,t){return $a.apply(this,arguments)}function $a(){return($a=Object(h.a)(f.a.mark((function e(t,n){var r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ja(t),e.next=3,Ka();case 3:return i=e.sent,a=i.transaction(Ba,"readwrite"),e.next=7,a.objectStore(Ba).put(n,r);case 7:return e.next=9,a.complete;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ja(t),e.next=3,Ka();case 3:return r=e.sent,i=r.transaction(Ba,"readwrite"),e.next=7,i.objectStore(Ba).delete(n);case 7:return e.next=9,i.complete;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e){return e.appConfig.appId}var Za=(Oa={},Object(c.a)(Oa,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(c.a)(Oa,"only-available-in-window","This method is available in a Window context."),Object(c.a)(Oa,"only-available-in-sw","This method is available in a service worker context."),Object(c.a)(Oa,"permission-default","The notification permission was not granted and dismissed instead."),Object(c.a)(Oa,"permission-blocked","The notification permission was not granted and blocked instead."),Object(c.a)(Oa,"unsupported-browser","This browser doesn't support the API's required to use the Firebase SDK."),Object(c.a)(Oa,"indexed-db-unsupported","This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)"),Object(c.a)(Oa,"failed-service-worker-registration","We are unable to register the default service worker. {$browserErrorMessage}"),Object(c.a)(Oa,"token-subscribe-failed","A problem occurred while subscribing the user to FCM: {$errorInfo}"),Object(c.a)(Oa,"token-subscribe-no-token","FCM returned no token when subscribing the user to push."),Object(c.a)(Oa,"token-unsubscribe-failed","A problem occurred while unsubscribing the user from FCM: {$errorInfo}"),Object(c.a)(Oa,"token-update-failed","A problem occurred while updating the user from FCM: {$errorInfo}"),Object(c.a)(Oa,"token-update-no-token","FCM returned no token when updating the user to push."),Object(c.a)(Oa,"use-sw-after-get-token","The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used."),Object(c.a)(Oa,"invalid-sw-registration","The input to useServiceWorker() must be a ServiceWorkerRegistration."),Object(c.a)(Oa,"invalid-bg-handler","The input to setBackgroundMessageHandler() must be a function."),Object(c.a)(Oa,"invalid-vapid-key","The public VAPID key must be a string."),Object(c.a)(Oa,"use-vapid-key-after-get-token","The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."),Oa),eo=new v.b("messaging","Messaging",Za);function to(e,t){return no.apply(this,arguments)}function no(){return(no=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(t);case 2:return r=e.sent,i=lo(n),a={method:"POST",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch(so(t.appConfig),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),eo.create("token-subscribe-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,eo.create("token-subscribe-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw eo.create("token-subscribe-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return(io=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(t);case 2:return r=e.sent,i=lo(n.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(i)},e.prev=5,e.next=8,fetch("".concat(so(t.appConfig),"/").concat(n.token),a);case 8:return s=e.sent,e.next=11,s.json();case 11:o=e.sent,e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(5),eo.create("token-update-failed",{errorInfo:e.t0});case 17:if(!o.error){e.next=20;break}throw u=o.error.message,eo.create("token-update-failed",{errorInfo:u});case 20:if(o.token){e.next=22;break}throw eo.create("token-update-no-token");case 22:return e.abrupt("return",o.token);case 23:case"end":return e.stop()}}),e,null,[[5,14]])})))).apply(this,arguments)}function ao(e,t){return oo.apply(this,arguments)}function oo(){return(oo=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uo(t);case 2:return r=e.sent,i={method:"DELETE",headers:r},e.prev=4,e.next=7,fetch("".concat(so(t.appConfig),"/").concat(n),i);case 7:return a=e.sent,e.next=10,a.json();case 10:if(!(o=e.sent).error){e.next=14;break}throw s=o.error.message,eo.create("token-unsubscribe-failed",{errorInfo:s});case 14:e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(4),eo.create("token-unsubscribe-failed",{errorInfo:e.t0});case 19:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}function so(e){var t=e.projectId;return"".concat("https://fcmregistrations.googleapis.com/v1","/projects/").concat(t,"/registrations")}function uo(e){return co.apply(this,arguments)}function co(){return(co=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.appConfig,r=t.installations,e.next=3,r.getToken();case 3:return i=e.sent,e.abrupt("return",new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(i)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,a={web:{endpoint:r,auth:n,p256dh:t}};return i!==Pa&&(a.web.applicationPubKey=i),a}var fo=6048e5;function ho(e){return po.apply(this,arguments)}function po(){return(po=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wo(t.swRegistration,t.vapidKey);case 2:return n=e.sent,r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:n.endpoint,auth:Ma(n.getKey("auth")),p256dh:Ma(n.getKey("p256dh"))},e.next=6,Ha(t.firebaseDependencies);case 6:if(i=e.sent){e.next=11;break}return e.abrupt("return",bo(t.firebaseDependencies,r));case 11:if(_o(i.subscriptionOptions,r)){e.next=23;break}return e.prev=12,e.next=15,ao(t.firebaseDependencies,i.token);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.warn(e.t0);case 20:return e.abrupt("return",bo(t.firebaseDependencies,r));case 23:if(!(Date.now()>=i.createTime+fo)){e.next=27;break}return e.abrupt("return",yo(t,{token:i.token,createTime:Date.now(),subscriptionOptions:r}));case 27:return e.abrupt("return",i.token);case 28:case"end":return e.stop()}}),e,null,[[12,17]])})))).apply(this,arguments)}function vo(e){return mo.apply(this,arguments)}function mo(){return(mo=Object(h.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(t.firebaseDependencies);case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,ao(t.firebaseDependencies,n.token);case 6:return e.next=8,Ya(t.firebaseDependencies);case 8:return e.next=10,t.swRegistration.pushManager.getSubscription();case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r.unsubscribe());case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return(go=Object(h.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ro(t.firebaseDependencies,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{token:r,createTime:Date.now()}),e.next=7,Qa(t.firebaseDependencies,i);case 7:return e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,vo(t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function bo(e,t){return ko.apply(this,arguments)}function ko(){return(ko=Object(h.a)(f.a.mark((function e(t,n){var r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(t,n);case 2:return r=e.sent,i={token:r,createTime:Date.now(),subscriptionOptions:n},e.next=6,Qa(t,i);case 6:return e.abrupt("return",i.token);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.pushManager.getSubscription();case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r);case 5:return e.abrupt("return",t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:La(n)}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,a=t.p256dh===e.p256dh;return n&&r&&i&&a}function jo(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(!t.notification)return;e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){if(!t.fcmOptions)return;e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function xo(e){return new Promise((function(t){setTimeout(t,e)}))}function Eo(e,t){return To.apply(this,arguments)}function To(){return(To=Object(h.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=So,e.t1=n,e.next=4,t.firebaseDependencies.installations.getId();case 4:e.t2=e.sent,r=(0,e.t0)(e.t1,e.t2),Io(t,r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,t){var n,r,i={};return e.from&&(i.project_number=e.from),e.fcm_message_id&&(i.message_id=e.fcm_message_id),i.instance_id=t,e.notification?i.message_type=Ra.DISPLAY_NOTIFICATION.toString():i.message_type=Ra.DATA_MESSAGE.toString(),i.sdk_platform=3..toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),e.collapse_key&&(i.collapse_key=e.collapse_key),i.event=1..toString(),(null===(n=e.fcmOptions)||void 0===n?void 0:n.analytics_label)&&(i.analytics_label=null===(r=e.fcmOptions)||void 0===r?void 0:r.analytics_label),i}function Io(e,t){var n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(t),e.logEvents.push(n)}function Co(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function No(){return(No=Object(h.a)(f.a.mark((function e(t,n){var r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.newSubscription){e.next=5;break}return e.next=4,vo(n);case 4:return e.abrupt("return");case 5:return e.next=7,Ha(n.firebaseDependencies);case 7:return a=e.sent,e.next=10,vo(n);case 10:return n.vapidKey=null!==(i=null===(r=null===a||void 0===a?void 0:a.subscriptionOptions)||void 0===r?void 0:r.vapidKey)&&void 0!==i?i:Pa,e.next=13,ho(n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(){return(Ro=Object(h.a)(f.a.mark((function e(t,n){var r,i,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Do(t)){e.next=3;break}return e.abrupt("return");case 3:if(!n.deliveryMetricsExportedToBigQueryEnabled){e.next=6;break}return e.next=6,Eo(n,r);case 6:return e.next=8,qo();case 8:if(!Fo(i=e.sent)){e.next=11;break}return e.abrupt("return",Uo(i,r));case 11:if(!r.notification){e.next=14;break}return e.next=14,zo(Po(r));case 14:if(n){e.next=16;break}return e.abrupt("return");case 16:n.onBackgroundMessageHandler&&(a=jo(r),"function"===typeof n.onBackgroundMessageHandler?n.onBackgroundMessageHandler(a):n.onBackgroundMessageHandler.next(a));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ao(){return(Ao=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o,s,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=null===(n=t.notification)||void 0===n?void 0:n.data)||void 0===r?void 0:r.FCM_MSG){e.next=5;break}return e.abrupt("return");case 5:if(!t.action){e.next=7;break}return e.abrupt("return");case 7:if(t.stopImmediatePropagation(),t.notification.close(),a=Vo(i)){e.next=12;break}return e.abrupt("return");case 12:if(o=new URL(a,self.location.href),s=new URL(self.location.origin),o.host===s.host){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,Mo(o);case 18:if(u=e.sent){e.next=27;break}return e.next=22,self.clients.openWindow(a);case 22:return u=e.sent,e.next=25,xo(3e3);case 25:e.next=30;break;case 27:return e.next=29,u.focus();case 29:u=e.sent;case 30:if(u){e.next=32;break}return e.abrupt("return");case 32:return i.messageType=Aa.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,e.abrupt("return",u.postMessage(i));case 35:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e){var t=Object.assign({},e.notification);return t.data=Object(c.a)({},Da,e),t}function Do(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}function Mo(e){return Lo.apply(this,arguments)}function Lo(){return(Lo=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qo();case 2:n=e.sent,r=Object(u.a)(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=13;break}if(a=i.value,o=new URL(a.url,self.location.href),t.host!==o.host){e.next=11;break}return e.abrupt("return",a);case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",null);case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])})))).apply(this,arguments)}function Fo(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}function Uo(e,t){t.isFirebaseMessaging=!0,t.messageType=Aa.PUSH_RECEIVED;var n,r=Object(u.a)(e);try{for(r.s();!(n=r.n()).done;){n.value.postMessage(t)}}catch(i){r.e(i)}finally{r.f()}}function qo(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function zo(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports ".concat(r," actions. The remaining actions will not be displayed.")),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}function Vo(e){var t,n,r,i,a=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;return a||("object"===typeof(i=e.data)&&i&&"google.c.a.c_id"in i?self.location.origin:null)}function Bo(e){return eo.create("missing-app-config-values",{valueName:e})}Co("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Co("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");var Wo=function(){function e(t,n,r){Object(a.a)(this,e),this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;var i=function(e){if(!e||!e.options)throw Bo("App Configuration Object");if(!e.name)throw Bo("App Name");for(var t=e.options,n=0,r=["projectId","apiKey","appId","messagingSenderId"];n<r.length;n++){var i=r[n];if(!t[i])throw Bo(i)}return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}return Object(o.a)(e,[{key:"_delete",value:function(){return Promise.resolve()}}]),e}(),Ko=function(e){var t=new Wo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return self.addEventListener("push",(function(e){e.waitUntil(function(e,t){return Ro.apply(this,arguments)}(e,t))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(function(e,t){return No.apply(this,arguments)}(e,t))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(function(e){return Ao.apply(this,arguments)}(e))})),t};function Ho(e,t){return function(e,t){if(void 0!==self.document)throw eo.create("only-available-in-sw");return e.onBackgroundMessageHandler=t,function(){e.onBackgroundMessageHandler=null}}(e=Object(v.u)(e),t)}Object(d._registerComponent)(new m.a("messaging-sw",Ko,"PUBLIC"));var Go=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n,this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"getToken",value:function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sa(this._delegate,t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ca(this._delegate));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){return Na(this._delegate,e)}},{key:"onBackgroundMessage",value:function(e){return Ho(this._delegate,e)}}]),e}(),Qo=function(e){return self&&"ServiceWorkerGlobalScope"in self?new Go(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging-sw").getImmediate()):new Go(e.getProvider("app-compat").getImmediate(),e.getProvider("messaging").getImmediate())},$o={isSupported:function(){return self&&"ServiceWorkerGlobalScope"in self?Object(v.C)()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"undefined"!==typeof window&&Object(v.C)()&&Object(v.e)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}};i.a.INTERNAL.registerComponent(new m.a("messaging-compat",Qo,"PUBLIC").setServiceProps($o)),i.a.registerVersion("@firebase/messaging-compat","0.1.4");var Yo=n(40),Xo="firebasestorage.googleapis.com",Jo=function(e){Object(er.a)(n,e);var t=Object(tr.a)(n);function n(e,r){var i;return Object(a.a)(this,n),(i=t.call(this,Zo(e),"Firebase Storage: ".concat(r," (").concat(Zo(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Object(Yo.a)(i),n.prototype),i}return Object(o.a)(n,[{key:"_codeEquals",value:function(e){return Zo(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(v.c);function Zo(e){return"storage/"+e}function es(){return new Jo("unknown","An unknown error occurred, please check the error payload for server response.")}function ts(){return new Jo("canceled","User canceled the upload/download.")}function ns(){return new Jo("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function rs(e){return new Jo("invalid-argument",e)}function is(){return new Jo("app-deleted","The Firebase app was deleted.")}function as(e){return new Jo("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function os(e,t){return new Jo("invalid-format","String does not match format '"+e+"': "+t)}function ss(e){throw new Jo("internal-error","Internal error: "+e)}var us,cs=function(){function e(t,n){Object(a.a)(this,e),this.bucket=t,this.path_=n}return Object(o.a)(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Jo("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Xo?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Jo("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),ls=function(){function e(t){Object(a.a)(this,e),this.promise_=Promise.reject(t)}return Object(o.a)(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function fs(e){return"string"===typeof e||e instanceof String}function hs(e){return ds()&&e instanceof Blob}function ds(){return"undefined"!==typeof Blob}function ps(e,t,n,r){if(r<t)throw rs("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw rs("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function vs(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function ms(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(us||(us={}));var ys=function(){function e(t,n,r,i,o,s,u,c,l,f,h){var d=this;Object(a.a)(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return Object(o.a)(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponseText());void 0!==o?r(o):r()}catch(u){i(u)}else if(null!==a){var s=es();s.serverResponse=a.getResponseText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?is():ts());else i(new Jo("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new gs(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=!1,o=0;function s(){return 2===o}var u=!1;function c(){if(!u){u=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){if(!u){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var f;if(e)c.call.apply(c,[null,e].concat(n));else s()||a?c.call.apply(c,[null,e].concat(n)):(r<64&&(r*=2),1===o?(o=2,f=0):f=1e3*(r+Math.random()),l(f))}}var h=!1;function d(e){h||(h=!0,u||(null!==i?(e||(o=2),clearTimeout(i),l(0)):e||(o=1)))}return l(0),setTimeout((function(){a=!0,d(!0)}),n),d}((function(t,n){if(n)t(!1,new gs(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===us.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new gs(o,r))}else{var s=r.getErrorCode()===us.ABORT;t(!1,new gs(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),gs=function e(t,n,r){Object(a.a)(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r};function bs(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ks(){for(var e=bs(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(ds())return new Blob(n);throw new Jo("unsupported-environment","This browser doesn't seem to support creating Blobs")}var ws={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Os=function e(t,n){Object(a.a)(this,e),this.data=t,this.contentType=n||null};function _s(e,t){switch(e){case ws.RAW:return new Os(js(t));case ws.BASE64:case ws.BASE64URL:return new Os(xs(e,t));case ws.DATA_URL:return new Os(function(e){var t=new Es(e);return t.base64?xs(ws.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw os(ws.DATA_URL,"Malformed data URL.")}return js(t)}(t.rest)}(t),new Es(t).contentType)}throw es()}function js(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function xs(e,t){switch(e){case ws.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw os(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ws.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw os(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw os(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var Es=function e(t){Object(a.a)(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw os(ws.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)};var Ts=function(){function e(t,n){Object(a.a)(this,e);var r=0,i="";hs(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Object(o.a)(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(hs(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(ds()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(ks.apply(null,i))}var a=n.map((function(e){return fs(e)?_s(ws.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function Ss(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Is(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Cs(e,t){return t}var Ns=function e(t,n,r,i){Object(a.a)(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Cs},Rs=null;function As(){if(Rs)return Rs;var e=[];e.push(new Ns("bucket")),e.push(new Ns("generation")),e.push(new Ns("metageneration")),e.push(new Ns("name","fullPath",!0));var t=new Ns("name");t.xform=function(e,t){return function(e){return!fs(e)||e.length<2?e:Is(e)}(t)},e.push(t);var n=new Ns("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ns("timeCreated")),e.push(new Ns("updated")),e.push(new Ns("md5Hash",null,!0)),e.push(new Ns("cacheControl",null,!0)),e.push(new Ns("contentDisposition",null,!0)),e.push(new Ns("contentEncoding",null,!0)),e.push(new Ns("contentLanguage",null,!0)),e.push(new Ns("contentType",null,!0)),e.push(new Ns("metadata","customMetadata",!0)),Rs=e}function Ps(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new cs(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ds(e,t,n){var r=Ss(t);return null===r?null:Ps(e,r,n)}function Ms(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function Ls(e,t,n){var r=Ss(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Object(u.a)(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new cs(t,o));r.prefixes.push(s)}}catch(d){a.e(d)}finally{a.f()}}if(n.items){var c,l=Object(u.a)(n.items);try{for(l.s();!(c=l.n()).done;){var f=c.value,h=e._makeStorageReference(new cs(t,f.name));r.items.push(h)}}catch(d){l.e(d)}finally{l.f()}}return r}(e,t,r)}var Fs=function e(t,n,r,i){Object(a.a)(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Us(e){if(!e)throw es()}function qs(e,t){return function(n,r){var i=Ds(e,r,t);return Us(null!==i),i}}function zs(e,t){return function(n,r){var i=Ds(e,r,t);return Us(null!==i),function(e,t,n,r){var i=Ss(t);if(null===i)return null;if(!fs(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return vs("/b/"+o(i)+"/o/"+o(a),n,r)+ms({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Vs(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Jo("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Jo("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Jo("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Jo("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Bs(e){var t=Vs(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Jo("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Ws(e,t,n){var r=vs(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Fs(r,"GET",qs(e,n),i);return a.errorHandler=Bs(t),a}function Ks(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=vs(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new Fs(o,"GET",function(e,t){return function(n,r){var i=Ls(e,t,r);return Us(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=Vs(t),u}function Hs(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Gs(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Hs(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ms(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Ts.getBlob(c,r,l);if(null===f)throw ns();var h={name:u.fullPath},d=vs(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Fs(d,"POST",qs(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=Vs(t),v}var Qs=function e(t,n,r,i){Object(a.a)(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null};function $s(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Us(!1)}return Us(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Ys=262144;function Xs(e,t,n,r,i,a,o,s){var u=new Qs(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Jo("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw ns();var v=t.maxUploadRetryTime,m=new Fs(n,"POST",(function(e,n){var i,o=$s(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?qs(t,a)(e,n):null,new Qs(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=Vs(e),m}var Js={STATE_CHANGED:"state_changed"},Zs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eu(e){switch(e){case"running":case"pausing":case"canceling":return Zs.RUNNING;case"paused":return Zs.PAUSED;case"success":return Zs.SUCCESS;case"canceled":return Zs.CANCELED;default:return Zs.ERROR}}var tu=function e(t,n,r){if(Object(a.a)(this,e),"function"===typeof t||null!=n||null!=r)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}};function nu(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var ru=function(){function e(){var t=this;Object(a.a)(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=us.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=us.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=us.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Object(o.a)(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw ss("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw ss("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw ss("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponseText",value:function(){if(!this.sent_)throw ss("cannot .getResponseText() before sending");return this.xhr_.responseText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}();function iu(){return new ru}var au=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(a.a)(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=As(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Object(o.a)(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=Object(s.a)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=Hs(t,r,i),s={name:o.fullPath},u=vs(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ms(o,n),f=e.maxUploadRetryTime,h=new Fs(u,"POST",(function(e){var t;$s(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Us(!1)}return Us(fs(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Vs(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,iu,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new Fs(n,"POST",(function(e){var t=$s(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Us(!1)}n||Us(!1);var i=Number(n);return Us(!isNaN(i)),new Qs(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=Vs(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,iu,n,r);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=Ys*this._chunkMultiplier,n=new Qs(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=Xs(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,iu,i,a);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){Ys*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=Ws(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,iu,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=Gs(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,iu,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=ts(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=eu(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new tu(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(eu(this._state)){case Zs.SUCCESS:nu(this._resolve.bind(null,this.snapshot))();break;case Zs.CANCELED:case Zs.ERROR:nu(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(eu(this._state)){case Zs.RUNNING:case Zs.PAUSED:e.next&&nu(e.next.bind(e,this.snapshot))();break;case Zs.SUCCESS:e.complete&&nu(e.complete.bind(e))();break;default:e.error&&nu(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),ou=function(){function e(t,n){Object(a.a)(this,e),this._service=t,this._location=n instanceof cs?n:cs.makeFromUrl(n,t.host)}return Object(o.a)(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new cs(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return Is(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new cs(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw as(e)}}]),e}();function su(e,t,n){return uu.apply(this,arguments)}function uu(){return(uu=Object(h.a)(f.a.mark((function e(t,n,r){var i,a,o,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,cu(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Object(y.a)(s.prefixes)),(a=n.items).push.apply(a,Object(y.a)(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,su(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cu(e,t){null!=t&&"number"===typeof t.maxResults&&ps("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=Ks(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,iu)}function lu(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=vs(t.fullServerUrl(),e.host,e._protocol),a=Ms(n,r),o=e.maxOperationRetryTime,s=new Fs(i,"PATCH",qs(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=Bs(t),s}(e.storage,e._location,t,As());return e.storage.makeRequestWithTokens(n,iu)}function fu(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=vs(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Fs(r,"GET",zs(e,n),i);return a.errorHandler=Bs(t),a}(e.storage,e._location,As());return e.storage.makeRequestWithTokens(t,iu).then((function(e){if(null===e)throw new Jo("no-download-url","The given file does not have any download URLs.");return e}))}function hu(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=vs(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new Fs(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Bs(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,iu)}function du(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new cs(e._location.bucket,n);return new ou(e.storage,r)}function pu(e,t){if(e instanceof gu){var n=e;if(null==n._bucket)throw new Jo("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new ou(n,n._bucket);return null!=t?pu(r,t):r}return void 0!==t?du(e,t):e}function vu(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof gu)return new ou(e,t);throw rs("To use ref(service, url), the first argument must be a Storage instance.")}return pu(e,t)}function mu(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:cs.makeFromBucketSpec(n,e)}function yu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Object(v.m)(i,e.app.options.projectId))}var gu=function(){function e(t,n,r,i,o){Object(a.a)(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Xo,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?cs.makeFromBucketSpec(i,this._host):mu(this._host,this.app.options)}return Object(o.a)(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=cs.makeFromBucketSpec(this._url,e):this._bucket=mu(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){ps("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){ps("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new ou(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new ls(is());var a=function(e,t,n,r,i,a){var o=ms(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new ys(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Object(s.a)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),bu="@firebase/storage",ku="0.8.6",wu="storage";function Ou(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new au(e,new Ts(t),n)}(e=Object(v.u)(e),t,n)}function _u(e){return function(e){e._throwIfRoot("getMetadata");var t=Ws(e.storage,e._location,As());return e.storage.makeRequestWithTokens(t,iu)}(e=Object(v.u)(e))}function ju(e){return function(e){var t={prefixes:[],items:[]};return su(e,t).then((function(){return t}))}(e=Object(v.u)(e))}function xu(e,t){return vu(e=Object(v.u)(e),t)}function Eu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};yu(e,t,n,r)}function Tu(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new gu(r,i,a,n,d.SDK_VERSION)}Object(d._registerComponent)(new m.a(wu,Tu,"PUBLIC").setMultipleInstances(!0)),Object(d.registerVersion)(bu,ku,""),Object(d.registerVersion)(bu,ku,"esm2017");var Su=function(){function e(t,n,r){Object(a.a)(this,e),this._delegate=t,this.task=n,this.ref=r}return Object(o.a)(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Iu=function(){function e(t,n){Object(a.a)(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object(o.a)(e,[{key:"snapshot",get:function(){return new Su(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Su(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Su(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Su(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Cu=function(){function e(t,n){Object(a.a)(this,e),this._delegate=t,this._service=n}return Object(o.a)(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Nu(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Nu(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Nu=function(){function e(t,n){Object(a.a)(this,e),this._delegate=t,this.storage=n}return Object(o.a)(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return du(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Iu(Ou(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ws.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=_s(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Iu(new au(this._delegate,new Ts(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return ju(this._delegate).then((function(t){return new Cu(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return cu(e=Object(v.u)(e),t)}(this._delegate,e||void 0).then((function(e){return new Cu(e,t.storage)}))}},{key:"getMetadata",value:function(){return _u(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return lu(e=Object(v.u)(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return e=this._delegate,fu(e=Object(v.u)(e));var e}},{key:"delete",value:function(){return this._throwIfRoot("delete"),e=this._delegate,hu(e=Object(v.u)(e));var e}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw as(e)}}]),e}(),Ru=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Au(e))throw rs("ref() expected a child path but got a URL, use refFromURL instead.");return new Nu(xu(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Au(e))throw rs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{cs.makeFromUrl(e,this._delegate.host)}catch(t){throw rs("refFromUrl() expected a valid full URL but got an invalid one.")}return new Nu(xu(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Eu(this._delegate,e,t,n)}}]),e}();function Au(e){return/^[A-Za-z]+:\/\//.test(e)}var Pu;function Du(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Ru(r,i)}!function(e){var t={TaskState:Zs,TaskEvent:Js,StringFormat:ws,Storage:Ru,Reference:Nu};e.INTERNAL.registerComponent(new m.a("storage-compat",Du,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.6")}(i.a);var Mu,Lu,Fu="@firebase/performance",Uu="0.5.4",qu=Uu,zu="FB-PERF-TRACE-START",Vu="FB-PERF-TRACE-STOP",Bu="FB-PERF-TRACE-MEASURE",Wu="_wt_",Ku="_fcp",Hu="_fid",Gu="@firebase/performance/config",Qu="@firebase/performance/configexpire",$u="Performance",Yu=(Pu={},Object(c.a)(Pu,"trace started","Trace {$traceName} was started before."),Object(c.a)(Pu,"trace stopped","Trace {$traceName} is not running."),Object(c.a)(Pu,"nonpositive trace startTime","Trace {$traceName} startTime should be positive."),Object(c.a)(Pu,"nonpositive trace duration","Trace {$traceName} duration should be positive."),Object(c.a)(Pu,"no window","Window is not available."),Object(c.a)(Pu,"no app id","App id is not available."),Object(c.a)(Pu,"no project id","Project id is not available."),Object(c.a)(Pu,"no api key","Api key is not available."),Object(c.a)(Pu,"invalid cc log","Attempted to queue invalid cc event"),Object(c.a)(Pu,"FB not default","Performance can only start when Firebase app instance is the default one."),Object(c.a)(Pu,"RC response not ok","RC response is not ok"),Object(c.a)(Pu,"invalid attribute name","Attribute name {$attributeName} is invalid."),Object(c.a)(Pu,"invalid attribute value","Attribute value {$attributeValue} is invalid."),Object(c.a)(Pu,"invalid custom metric name","Custom metric name {$customMetricName} is invalid"),Object(c.a)(Pu,"invalid String merger input","Input for String merger is invalid, contact support team to resolve."),Object(c.a)(Pu,"already initialized","initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."),Pu),Xu=new v.b("performance",$u,Yu),Ju=new p.b($u);Ju.logLevel=p.a.INFO;var Zu,ec,tc=function(){function e(t){if(Object(a.a)(this,e),this.window=t,!t)throw Xu.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return Object(o.a)(e,[{key:"getUrl",value:function(){return this.windowLocation.href.split("?")[0]}},{key:"mark",value:function(e){this.performance&&this.performance.mark&&this.performance.mark(e)}},{key:"measure",value:function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)}},{key:"getEntriesByType",value:function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}},{key:"getEntriesByName",value:function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}},{key:"getTimeOrigin",value:function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}},{key:"requiredApisAvailable",value:function(){return fetch&&Promise&&Object(v.e)()?!!Object(v.C)()||(Ju.info("IndexedDB is not supported by current browswer"),!1):(Ju.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}},{key:"setupObserver",value:function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){var n,r=Object(u.a)(e.getEntries());try{for(r.s();!(n=r.n()).done;){var i=n.value;t(i)}}catch(a){r.e(a)}finally{r.f()}})).observe({entryTypes:[e]})}}],[{key:"getInstance",value:function(){return void 0===Mu&&(Mu=new e(Lu)),Mu}}]),e}();function nc(){return Zu}function rc(e,t){var n=e.length-t.length;if(n<0||n>1)throw Xu.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var ic,ac=function(){function e(){Object(a.a)(this,e),this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=rc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=rc("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return Object(o.a)(e,[{key:"getFlTransportFullUrl",value:function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}}],[{key:"getInstance",value:function(){return void 0===ec&&(ec=new e),ec}}]),e}();!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(ic||(ic={}));var oc=["firebase_","google_","ga_"],sc=new RegExp("^[a-zA-Z]\\w*$");function uc(){var e=tc.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function cc(){switch(tc.getInstance().document.visibilityState){case"visible":return ic.VISIBLE;case"hidden":return ic.HIDDEN;default:return ic.UNKNOWN}}function lc(){var e=tc.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function fc(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.appId;if(!n)throw Xu.create("no app id");return n}var hc="0.0.1",dc=!0,pc="FIREBASE_INSTALLATIONS_AUTH";function vc(e,t){var n=function(){var e=tc.getInstance().localStorage;if(!e)return;var t=e.getItem(Qu);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(Gu);if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return n?(yc(n),Promise.resolve()):function(e,t){return function(e){var t=e.getToken();return t.then((function(e){})),t}(e.installations).then((function(n){var r=function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.projectId;if(!n)throw Xu.create("no project id");return n}(e.app),i=function(e){var t,n=null===(t=e.options)||void 0===t?void 0:t.apiKey;if(!n)throw Xu.create("no api key");return n}(e.app),a="https://firebaseremoteconfig.googleapis.com/v1/projects/".concat(r,"/namespaces/fireperf:fetch?key=").concat(i),o=new Request(a,{method:"POST",headers:{Authorization:"".concat(pc," ").concat(n)},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:fc(e.app),app_version:qu,sdk_version:hc})});return fetch(o).then((function(e){if(e.ok)return e.json();throw Xu.create("RC response not ok")}))})).catch((function(){Ju.info(mc)}))}(e,t).then(yc).then((function(e){return function(e){var t=tc.getInstance().localStorage;if(!e||!t)return;t.setItem(Gu,JSON.stringify(e)),t.setItem(Qu,String(Date.now()+60*ac.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var mc="Could not fetch config, will use default configs";function yc(e){if(!e)return e;var t=ac.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=dc,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=gc(t.tracesSamplingRate),t.logNetworkAfterSampling=gc(t.networkRequestsSamplingRate),e}function gc(e){return Math.random()<=e}var bc,kc=1;function wc(e){return kc=2,bc=bc||function(e){return function(){var e=tc.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(e){var t=e.getId();return t.then((function(e){Zu=e})),t}(e.installations)})).then((function(t){return vc(e,t)})).then((function(){return Oc()}),(function(){return Oc()}))}(e),bc}function Oc(){kc=3}var _c,jc=1e4,xc=3,Ec=[],Tc=!1;function Sc(e){setTimeout((function(){if(0!==xc)return Ec.length?void function(){var e=Ec.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=ac.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Ju.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=jc;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Ec=[].concat(Object(y.a)(t),Object(y.a)(Ec)),Ju.info("Retry transport request later.")),xc=3,Sc(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:ac.getInstance().logSource,log_event:t},e).catch((function(){Ec=[].concat(Object(y.a)(e),Object(y.a)(Ec)),xc--,Ju.info("Tries left: ".concat(xc,".")),Sc(jc)}))}():Sc(jc)}),e)}function Ic(e){if(!e.eventTime||!e.message)throw Xu.create("invalid cc log");Ec=[].concat(Object(y.a)(Ec),[e])}function Cc(e,t){_c||(_c=function(e){return function(){Ic({message:e.apply(void 0,arguments),eventTime:Date.now()})}}(Ac)),_c(e,t)}function Nc(e){var t=ac.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&tc.getInstance().requiredApisAvailable()&&(e.isAuto&&cc()!==ic.VISIBLE||(3===kc?Rc(e):wc(e.performanceController).then((function(){return Rc(e)}),(function(){return Rc(e)}))))}function Rc(e){if(nc()){var t=ac.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return Cc(e,1)}),0)}}function Ac(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Pc(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Pc(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}(e)}function Pc(e){return{google_app_id:fc(e),app_instance_id:nc(),web_app_info:{sdk_version:qu,page_url:tc.getInstance().getUrl(),service_worker_status:uc(),visibility_state:cc(),effective_connection_type:lc()},application_process_state:0}}var Dc=["_fp",Ku,Hu];var Mc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0;Object(a.a)(this,e),this.performanceController=t,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=tc.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="".concat(zu,"-").concat(this.randomId,"-").concat(this.name),this.traceStopMark="".concat(Vu,"-").concat(this.randomId,"-").concat(this.name),this.traceMeasure=i||"".concat(Bu,"-").concat(this.randomId,"-").concat(this.name),i&&this.calculateTraceMetrics())}return Object(o.a)(e,[{key:"start",value:function(){if(1!==this.state)throw Xu.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}},{key:"stop",value:function(){if(2!==this.state)throw Xu.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Nc(this)}},{key:"record",value:function(e,t,n){if(e<=0)throw Xu.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Xu.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object.assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var a=i[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}Nc(this)}},{key:"incrementMetric",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)}},{key:"putMetric",value:function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(Wu)&&Dc.indexOf(n)>-1)&&n.startsWith("_"))throw Xu.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&Ju.info("Metric value should be an Integer, setting the value as : ".concat(t,".")),t}(t)}},{key:"getMetric",value:function(e){return this.counters[e]||0}},{key:"putAttribute",value:function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!oc.some((function(e){return n.startsWith(e)}))&&!!n.match(sc),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Xu.create("invalid attribute name",{attributeName:e});if(!i)throw Xu.create("invalid attribute value",{attributeValue:t})}}},{key:"getAttribute",value:function(e){return this.customAttributes[e]}},{key:"removeAttribute",value:function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}},{key:"getAttributes",value:function(){return Object.assign({},this.customAttributes)}},{key:"setStartTime",value:function(e){this.startTimeUs=e}},{key:"setDuration",value:function(e){this.durationUs=e}},{key:"calculateTraceMetrics",value:function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))}}],[{key:"createOobTrace",value:function(t,n,r,i){var a=tc.getInstance().getUrl();if(a){var o=new e(t,Wu+a,!0),s=Math.floor(1e3*tc.getInstance().getTimeOrigin());o.setStartTime(s),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd)));if(r){var u=r.find((function(e){return"first-paint"===e.name}));u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));var c=r.find((function(e){return"first-contentful-paint"===e.name}));c&&c.startTime&&o.putMetric(Ku,Math.floor(1e3*c.startTime)),i&&o.putMetric(Hu,Math.floor(1e3*i))}Nc(o)}}},{key:"createUserTimingTrace",value:function(t,n){Nc(new e(t,n,!1,n))}}]),e}();function Lc(e,t){var n=t;if(n&&void 0!==n.responseStart){var r=tc.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),a=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function(e){var t=ac.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return Cc(e,0)}),0)}}({performanceController:e,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:a,timeToResponseCompletedUs:o})}}function Fc(e){nc()&&(setTimeout((function(){return function(e){var t=tc.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");if(t.onFirstInputDelay){var i=setTimeout((function(){Mc.createOobTrace(e,n,r),i=void 0}),5e3);t.onFirstInputDelay((function(t){i&&(clearTimeout(i),Mc.createOobTrace(e,n,r,t))}))}else Mc.createOobTrace(e,n,r)}(e)}),0),setTimeout((function(){return function(e){var t,n=tc.getInstance(),r=n.getEntriesByType("resource"),i=Object(u.a)(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;Lc(e,a)}}catch(o){i.e(o)}finally{i.f()}n.setupObserver("resource",(function(t){return Lc(e,t)}))}(e)}),0),setTimeout((function(){return function(e){var t,n=tc.getInstance(),r=n.getEntriesByType("measure"),i=Object(u.a)(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;Uc(e,a)}}catch(o){i.e(o)}finally{i.f()}n.setupObserver("measure",(function(t){return Uc(e,t)}))}(e)}),0))}function Uc(e,t){var n=t.name;n.substring(0,Bu.length)!==Bu&&Mc.createUserTimingTrace(e,n)}var qc=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this.installations=n,this.initialized=!1}return Object(o.a)(e,[{key:"_init",value:function(e){var t=this;this.initialized||(void 0!==(null===e||void 0===e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null===e||void 0===e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),tc.getInstance().requiredApisAvailable()?Object(v.W)().then((function(e){e&&(Tc||(Sc(5500),Tc=!0),wc(t).then((function(){return Fc(t)}),(function(){return Fc(t)})),t.initialized=!0)})).catch((function(e){Ju.info("Environment doesn't support IndexedDB: ".concat(e))})):Ju.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}},{key:"instrumentationEnabled",get:function(){return ac.getInstance().instrumentationEnabled},set:function(e){ac.getInstance().instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return ac.getInstance().dataCollectionEnabled},set:function(e){ac.getInstance().dataCollectionEnabled=e}}]),e}();var zc=function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==r.name)throw Xu.create("FB not default");if("undefined"===typeof window)throw Xu.create("no window");!function(e){Lu=e}(window);var a=new qc(r,i);return a._init(n),a};Object(d._registerComponent)(new m.a("performance",zc,"PUBLIC")),Object(d.registerVersion)(Fu,Uu),Object(d.registerVersion)(Fu,Uu,"esm2017");var Vc,Bc,Wc=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"instrumentationEnabled",get:function(){return this._delegate.instrumentationEnabled},set:function(e){this._delegate.instrumentationEnabled=e}},{key:"dataCollectionEnabled",get:function(){return this._delegate.dataCollectionEnabled},set:function(e){this._delegate.dataCollectionEnabled=e}},{key:"trace",value:function(e){return function(e,t){return e=Object(v.u)(e),new Mc(e,t)}(this._delegate,e)}}]),e}();function Kc(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("performance").getImmediate();return new Wc(t,n)}(Vc=i.a).INTERNAL.registerComponent(new m.a("performance-compat",Kc,"PUBLIC")),Vc.registerVersion("@firebase/performance-compat","0.1.4");var Hc="@firebase/remote-config",Gc="0.3.3",Qc=function(){function e(){Object(a.a)(this,e),this.listeners=[]}return Object(o.a)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}(),$c="remote-config",Yc=(Bc={},Object(c.a)(Bc,"registration-window","Undefined window object. This SDK only supports usage in a browser environment."),Object(c.a)(Bc,"registration-project-id","Undefined project identifier. Check Firebase app initialization."),Object(c.a)(Bc,"registration-api-key","Undefined API key. Check Firebase app initialization."),Object(c.a)(Bc,"registration-app-id","Undefined app identifier. Check Firebase app initialization."),Object(c.a)(Bc,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(c.a)(Bc,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(c.a)(Bc,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(c.a)(Bc,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Object(c.a)(Bc,"fetch-client-network","Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),Object(c.a)(Bc,"fetch-timeout",'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.'),Object(c.a)(Bc,"fetch-throttle",'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.'),Object(c.a)(Bc,"fetch-client-parse","Fetch client could not parse response. Original error: {$originalErrorMessage}."),Object(c.a)(Bc,"fetch-status","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),Object(c.a)(Bc,"indexed-db-unavailable","Indexed DB is not supported by current browser"),Bc),Xc=new v.b("remoteconfig","Remote Config",Yc);function Jc(e,t){return e instanceof v.c&&-1!==e.code.indexOf(t)}var Zc=["1","true","t","yes","y","on"],el=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(a.a)(this,e),this._source=t,this._value=n}return Object(o.a)(e,[{key:"asString",value:function(){return this._value}},{key:"asBoolean",value:function(){return"static"!==this._source&&Zc.indexOf(this._value.toLowerCase())>=0}},{key:"asNumber",value:function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e}},{key:"getSource",value:function(){return this._source}}]),e}();function tl(e){return nl.apply(this,arguments)}function nl(){return(nl=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.u)(t),e.next=3,Promise.all([n._storage.getLastSuccessfulFetchResponse(),n._storage.getActiveConfigEtag()]);case 3:if(r=e.sent,i=Object(s.a)(r,2),a=i[0],o=i[1],a&&a.config&&a.eTag&&a.eTag!==o){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,Promise.all([n._storageCache.setActiveConfig(a.config),n._storage.setActiveConfigEtag(a.eTag)]);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rl(e){var t=Object(v.u)(e);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),t._initializePromise}function il(e){return al.apply(this,arguments)}function al(){return(al=Object(h.a)(f.a.mark((function e(t){var n,r,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(v.u)(t),r=new Qc,setTimeout(Object(h.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.abort();case 1:case"end":return e.stop()}}),e)}))),n.settings.fetchTimeoutMillis),e.prev=3,e.next=6,n._client.fetch({cacheMaxAgeMillis:n.settings.minimumFetchIntervalMillis,signal:r});case 6:return e.next=8,n._storageCache.setLastFetchStatus("success");case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(3),i=Jc(e.t0,"fetch-throttle")?"throttle":"failure",e.next=15,n._storageCache.setLastFetchStatus(i);case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function ol(e){var t=Object(v.u)(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(Object.assign(Object.assign({},e),t))}(t._storageCache.getActiveConfig(),t.defaultConfig).reduce((function(t,n){return t[n]=sl(e,n),t}),{})}function sl(e,t){var n=Object(v.u)(e);n._isInitializationComplete||n._logger.debug('A value was requested for key "'.concat(t,'" before SDK initialization completed.')+" Await on ensureInitialized if the intent was to get a previously activated value.");var r=n._storageCache.getActiveConfig();return r&&void 0!==r[t]?new el("remote",r[t]):n.defaultConfig&&void 0!==n.defaultConfig[t]?new el("default",String(n.defaultConfig[t])):(n._logger.debug('Returning static value for key "'.concat(t,'".')+" Define a default or remote value if this is unintentional."),new el("static"))}var ul=function(){function e(t,n,r,i){Object(a.a)(this,e),this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return Object(o.a)(e,[{key:"isCachedDataFresh",value:function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(r,".")),r}},{key:"fetch",value:function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);case 2:if(n=e.sent,r=Object(s.a)(n,2),i=r[0],!(a=r[1])||!this.isCachedDataFresh(t.cacheMaxAgeMillis,i)){e.next=8;break}return e.abrupt("return",a);case 8:return t.eTag=a&&a.eTag,e.next=11,this.client.fetch(t);case 11:return o=e.sent,u=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&u.push(this.storage.setLastSuccessfulFetchResponse(o)),e.next=16,Promise.all(u);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}var ll=function(){function e(t,n,r,i,o,s){Object(a.a)(this,e),this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}return Object(o.a)(e,[{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,i,a,o,u,c,l,h,d,p,v,m,y,g,b,k,w;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]);case 2:return n=e.sent,r=Object(s.a)(n,2),i=r[0],a=r[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",u="".concat(o,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:i,app_instance_id_token:a,app_id:this.appId,language_code:cl()},h={method:"POST",headers:c,body:JSON.stringify(l)},d=fetch(u,h),p=new Promise((function(e,n){t.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),e.prev=13,e.next=16,Promise.race([d,p]);case 16:return e.next=18,d;case 18:v=e.sent,e.next=26;break;case 21:throw e.prev=21,e.t0=e.catch(13),m="fetch-client-network","AbortError"===e.t0.name&&(m="fetch-timeout"),Xc.create(m,{originalErrorMessage:e.t0.message});case 26:if(y=v.status,g=v.headers.get("ETag")||void 0,200!==v.status){e.next=40;break}return e.prev=29,e.next=32,v.json();case 32:w=e.sent,e.next=38;break;case 35:throw e.prev=35,e.t1=e.catch(29),Xc.create("fetch-client-parse",{originalErrorMessage:e.t1.message});case 38:b=w.entries,k=w.state;case 40:if("INSTANCE_STATE_UNSPECIFIED"===k?y=500:"NO_CHANGE"===k?y=304:"NO_TEMPLATE"!==k&&"EMPTY_CONFIG"!==k||(b={}),304===y||200===y){e.next=43;break}throw Xc.create("fetch-status",{httpStatus:y});case 43:return e.abrupt("return",{status:y,eTag:g,config:b});case 44:case"end":return e.stop()}}),e,this,[[13,21],[29,35]])})));return function(t){return e.apply(this,arguments)}}())}]),e}();function fl(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(Xc.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function hl(e){if(!(e instanceof v.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var dl=function(){function e(t,n){Object(a.a)(this,e),this.client=t,this.storage=n}return Object(o.a)(e,[{key:"fetch",value:function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.getThrottleMetadata();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={backoffCount:0,throttleEndTimeMillis:Date.now()};case 5:return n=e.t0,e.abrupt("return",this.attemptFetch(t,n));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"attemptFetch",value:function(){var e=Object(h.a)(f.a.mark((function e(t,n){var r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.throttleEndTimeMillis,i=n.backoffCount,e.next=3,fl(t.signal,r);case 3:return e.prev=3,e.next=6,this.client.fetch(t);case 6:return a=e.sent,e.next=9,this.storage.deleteThrottleMetadata();case 9:return e.abrupt("return",a);case 12:if(e.prev=12,e.t0=e.catch(3),hl(e.t0)){e.next=16;break}throw e.t0;case 16:return o={throttleEndTimeMillis:Date.now()+Object(v.k)(i),backoffCount:i+1},e.next=19,this.storage.setThrottleMetadata(o);case 19:return e.abrupt("return",this.attemptFetch(t,o));case 20:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),pl=function(){function e(t,n,r,i,o){Object(a.a)(this,e),this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return Object(o.a)(e,[{key:"fetchTimeMillis",get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}},{key:"lastFetchStatus",get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}]),e}();function vl(e,t){var n=e.target.error||void 0;return Xc.create(t,{originalErrorMessage:n&&n.message})}var ml="app_namespace_store";function yl(){return new Promise((function(e,t){try{var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(vl(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(ml,{keyPath:"compositeKey"})}}catch(r){t(Xc.create("storage-open",{originalErrorMessage:r}))}}))}var gl=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yl();Object(a.a)(this,e),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return Object(o.a)(e,[{key:"getLastFetchStatus",value:function(){return this.get("last_fetch_status")}},{key:"setLastFetchStatus",value:function(e){return this.set("last_fetch_status",e)}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.get("last_successful_fetch_timestamp_millis")}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.set("last_successful_fetch_timestamp_millis",e)}},{key:"getLastSuccessfulFetchResponse",value:function(){return this.get("last_successful_fetch_response")}},{key:"setLastSuccessfulFetchResponse",value:function(e){return this.set("last_successful_fetch_response",e)}},{key:"getActiveConfig",value:function(){return this.get("active_config")}},{key:"setActiveConfig",value:function(e){return this.set("active_config",e)}},{key:"getActiveConfigEtag",value:function(){return this.get("active_config_etag")}},{key:"setActiveConfigEtag",value:function(e){return this.set("active_config_etag",e)}},{key:"getThrottleMetadata",value:function(){return this.get("throttle_metadata")}},{key:"setThrottleMetadata",value:function(e){return this.set("throttle_metadata",e)}},{key:"deleteThrottleMetadata",value:function(){return this.delete("throttle_metadata")}},{key:"get",value:function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([ml],"readonly").objectStore(ml),o=r.createCompositeKey(t);try{var s=a.get(o);s.onerror=function(e){i(vl(e,"storage-get"))},s.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)}}catch(u){i(Xc.create("storage-get",{originalErrorMessage:u&&u.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=Object(h.a)(f.a.mark((function e(t,n){var r,i=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return r=e.sent,e.abrupt("return",new Promise((function(e,a){var o=r.transaction([ml],"readwrite").objectStore(ml),s=i.createCompositeKey(t);try{var u=o.put({compositeKey:s,value:n});u.onerror=function(e){a(vl(e,"storage-set"))},u.onsuccess=function(){e()}}catch(c){a(Xc.create("storage-set",{originalErrorMessage:c&&c.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.openDbPromise;case 2:return n=e.sent,e.abrupt("return",new Promise((function(e,i){var a=n.transaction([ml],"readwrite").objectStore(ml),o=r.createCompositeKey(t);try{var s=a.delete(o);s.onerror=function(e){i(vl(e,"storage-delete"))},s.onsuccess=function(){e()}}catch(u){i(Xc.create("storage-delete",{originalErrorMessage:u&&u.message}))}})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCompositeKey",value:function(e){return[this.appId,this.appName,this.namespace,e].join()}}]),e}(),bl=function(){function e(t){Object(a.a)(this,e),this.storage=t}return Object(o.a)(e,[{key:"getLastFetchStatus",value:function(){return this.lastFetchStatus}},{key:"getLastSuccessfulFetchTimestampMillis",value:function(){return this.lastSuccessfulFetchTimestampMillis}},{key:"getActiveConfig",value:function(){return this.activeConfig}},{key:"loadFromStorage",value:function(){var e=Object(h.a)(f.a.mark((function e(){var t,n,r,i,a,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),e.next=5,t;case 5:return(i=e.sent)&&(this.lastFetchStatus=i),e.next=9,n;case 9:return(a=e.sent)&&(this.lastSuccessfulFetchTimestampMillis=a),e.next=13,r;case 13:(o=e.sent)&&(this.activeConfig=o);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setLastFetchStatus",value:function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}},{key:"setLastSuccessfulFetchTimestampMillis",value:function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}},{key:"setActiveConfig",value:function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}]),e}();function kl(){return(kl=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(v.u)(t),e.next=3,il(t);case 3:return e.abrupt("return",tl(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wl(){return Ol.apply(this,arguments)}function Ol(){return(Ol=Object(h.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(v.C)()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,Object(v.W)();case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}Object(d._registerComponent)(new m.a($c,(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"===typeof window)throw Xc.create("registration-window");if(!Object(v.C)())throw Xc.create("indexed-db-unavailable");var a=r.options,o=a.projectId,s=a.apiKey,u=a.appId;if(!o)throw Xc.create("registration-project-id");if(!s)throw Xc.create("registration-api-key");if(!u)throw Xc.create("registration-app-id");n=n||"firebase";var c=new gl(u,r.name,n),l=new bl(c),f=new p.b(Hc);f.logLevel=p.a.ERROR;var h=new ll(i,d.SDK_VERSION,n,o,s,u),m=new dl(h,c),y=new ul(m,c,l,f),g=new pl(r,y,l,c,f);return rl(g),g}),"PUBLIC").setMultipleInstances(!0)),Object(d.registerVersion)(Hc,Gc),Object(d.registerVersion)(Hc,Gc,"esm2017");var _l=function(){function e(t,n){Object(a.a)(this,e),this.app=t,this._delegate=n}return Object(o.a)(e,[{key:"defaultConfig",get:function(){return this._delegate.defaultConfig},set:function(e){this._delegate.defaultConfig=e}},{key:"fetchTimeMillis",get:function(){return this._delegate.fetchTimeMillis}},{key:"lastFetchStatus",get:function(){return this._delegate.lastFetchStatus}},{key:"settings",get:function(){return this._delegate.settings},set:function(e){this._delegate.settings=e}},{key:"activate",value:function(){return tl(this._delegate)}},{key:"ensureInitialized",value:function(){return rl(this._delegate)}},{key:"fetch",value:function(){return il(this._delegate)}},{key:"fetchAndActivate",value:function(){return function(e){return kl.apply(this,arguments)}(this._delegate)}},{key:"getAll",value:function(){return ol(this._delegate)}},{key:"getBoolean",value:function(e){return function(e,t){return sl(Object(v.u)(e),t).asBoolean()}(this._delegate,e)}},{key:"getNumber",value:function(e){return function(e,t){return sl(Object(v.u)(e),t).asNumber()}(this._delegate,e)}},{key:"getString",value:function(e){return function(e,t){return sl(Object(v.u)(e),t).asString()}(this._delegate,e)}},{key:"getValue",value:function(e){return sl(this._delegate,e)}},{key:"setLogLevel",value:function(e){!function(e,t){var n=Object(v.u)(e);switch(t){case"debug":n._logger.logLevel=p.a.DEBUG;break;case"silent":n._logger.logLevel=p.a.SILENT;break;default:n._logger.logLevel=p.a.ERROR}}(this._delegate,e)}}]),e}();function jl(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("remote-config").getImmediate({identifier:n});return new _l(r,i)}!function(e){e.INTERNAL.registerComponent(new m.a("remoteConfig-compat",jl,"PUBLIC").setMultipleInstances(!0).setServiceProps({isSupported:wl})),e.registerVersion("@firebase/remote-config-compat","0.1.4")}(i.a);i.a.registerVersion("firebase","9.4.0","app-compat");console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.a.registerVersion("firebase","9.4.0","compat")},function(e,t,n){"use strict";var r=n(5),i=n(15),a=n(7),o=n(6),s=n.n(o),u=(n(26),n(22)),c=n(142),l=n(144),f=n(18),h=n(24),d=n(16),p=n(31),v=n(145).a,m=!0,y=!1,g=null,b={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function k(e){e.metaKey||e.altKey||e.ctrlKey||(m=!0)}function w(){m=!1}function O(){"hidden"===this.visibilityState&&y&&(m=!0)}function _(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return m||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!b[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var j=function(){var e=o.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",k,!0),t.addEventListener("mousedown",w,!0),t.addEventListener("pointerdown",w,!0),t.addEventListener("touchstart",w,!0),t.addEventListener("visibilitychange",O,!0))}),[]),t=o.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!_(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(y=!0,window.clearTimeout(g),g=window.setTimeout((function(){y=!1}),100),t.current=!1,!0)},ref:e}},x=n(21),E=n(44);var T=n(71),S=n(58);function I(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function C(e,t,n){return null!=n[t]?n[t]:e.props[t]}function N(e,t,n){var r=I(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if(Object(o.isValidElement)(s)){var u=a in t,c=a in r,l=t[a],f=Object(o.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&Object(o.isValidElement)(l)&&(i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:C(s,"exit",e),enter:C(s,"enter",e)})):i[a]=Object(o.cloneElement)(s,{in:!1}):i[a]=Object(o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:C(s,"exit",e),enter:C(s,"enter",e)})}})),i}var R=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},A=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(T.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,I(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:C(e,"appear",n),enter:C(e,"enter",n),exit:C(e,"exit",n)})}))):N(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=I(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(a.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(i.a)(e,["component","childFactory"]),a=this.state.contextValue,o=R(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.a.createElement(S.a.Provider,{value:a},o):s.a.createElement(S.a.Provider,{value:a},s.a.createElement(t,r,o))},t}(s.a.Component);A.propTypes={},A.defaultProps={component:"div",childFactory:function(e){return e}};var P=A,D=n(48),M=n(8);var L=function(e){var t=e.className,n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,s=e.rippleY,c=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,p=o.useState(!1),v=Object(d.a)(p,2),m=v[0],y=v[1],g=Object(u.a)(t,n.ripple,n.rippleVisible,i&&n.ripplePulsate),b={width:c,height:c,top:-c/2+s,left:-c/2+a},k=Object(u.a)(n.child,m&&n.childLeaving,i&&n.childPulsate);return l||m||y(!0),o.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),Object(M.jsx)("span",{className:g,style:b,children:Object(M.jsx)("span",{className:k})})},F=n(115),U=n(143);var q,z,V,B,W,K,H,G,Q=Object(U.a)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),$=["center","classes","className"],Y=Object(D.c)(W||(W=q||(q=Object(E.a)(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),X=Object(D.c)(K||(K=z||(z=Object(E.a)(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),J=Object(D.c)(H||(H=V||(V=Object(E.a)(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Z=Object(f.a)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ee=Object(f.a)(L,{name:"MuiTouchRipple",slot:"Ripple"})(G||(G=B||(B=Object(E.a)(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Q.rippleVisible,Y,550,(function(e){return e.theme.transitions.easing.easeInOut}),Q.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Q.child,Q.childLeaving,X,550,(function(e){return e.theme.transitions.easing.easeInOut}),Q.childPulsate,J,(function(e){return e.theme.transitions.easing.easeInOut})),te=o.forwardRef((function(e,t){var n=Object(h.a)({props:e,name:"MuiTouchRipple"}),r=n.center,s=void 0!==r&&r,c=n.classes,l=void 0===c?{}:c,f=n.className,p=Object(i.a)(n,$),v=o.useState([]),m=Object(d.a)(v,2),y=m[0],g=m[1],b=o.useRef(0),k=o.useRef(null);o.useEffect((function(){k.current&&(k.current(),k.current=null)}),[y]);var w=o.useRef(!1),O=o.useRef(null),_=o.useRef(null),j=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(O.current)}}),[]);var E=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;g((function(e){return[].concat(Object(x.a)(e),[Object(M.jsx)(ee,{classes:{ripple:Object(u.a)(l.ripple,Q.ripple),rippleVisible:Object(u.a)(l.rippleVisible,Q.rippleVisible),ripplePulsate:Object(u.a)(l.ripplePulsate,Q.ripplePulsate),child:Object(u.a)(l.child,Q.child),childLeaving:Object(u.a)(l.childLeaving,Q.childLeaving),childPulsate:Object(u.a)(l.childPulsate,Q.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},b.current)])})),b.current+=1,k.current=a}),[l]),T=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,a=t.center,o=void 0===a?s||t.pulsate:a,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&w.current)w.current=!1;else{"touchstart"===e.type&&(w.current=!0);var l,f,h,d=c?null:j.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(o||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(o)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,b=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(b,2))}e.touches?null===_.current&&(_.current=function(){E({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},O.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):E({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[s,E]),S=o.useCallback((function(){T({},{pulsate:!0})}),[T]),I=o.useCallback((function(e,t){if(clearTimeout(O.current),"touchend"===e.type&&_.current)return _.current(),_.current=null,void(O.current=setTimeout((function(){I(e,t)})));_.current=null,g((function(e){return e.length>0?e.slice(1):e})),k.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:S,start:T,stop:I}}),[S,T,I]),Object(M.jsx)(Z,Object(a.a)({className:Object(u.a)(l.root,Q.root,f),ref:j},p,{children:Object(M.jsx)(P,{component:null,exit:!0,children:y})}))})),ne=te;function re(e){return Object(F.a)("MuiButtonBase",e)}var ie,ae=Object(U.a)("MuiButtonBase",["root","disabled","focusVisible"]),oe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],se=Object(f.a)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((ie={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},Object(r.a)(ie,"&.".concat(ae.disabled),{pointerEvents:"none",cursor:"default"}),Object(r.a)(ie,"@media print",{colorAdjust:"exact"}),ie)),ue=o.forwardRef((function(e,t){var n=Object(h.a)({props:e,name:"MuiButtonBase"}),r=n.action,s=n.centerRipple,l=void 0!==s&&s,f=n.children,m=n.className,y=n.component,g=void 0===y?"button":y,b=n.disabled,k=void 0!==b&&b,w=n.disableRipple,O=void 0!==w&&w,_=n.disableTouchRipple,x=void 0!==_&&_,E=n.focusRipple,T=void 0!==E&&E,S=n.LinkComponent,I=void 0===S?"a":S,C=n.onBlur,N=n.onClick,R=n.onContextMenu,A=n.onDragLeave,P=n.onFocus,D=n.onFocusVisible,L=n.onKeyDown,F=n.onKeyUp,U=n.onMouseDown,q=n.onMouseLeave,z=n.onMouseUp,V=n.onTouchEnd,B=n.onTouchMove,W=n.onTouchStart,K=n.tabIndex,H=void 0===K?0:K,G=n.TouchRippleProps,Q=n.type,$=Object(i.a)(n,oe),Y=o.useRef(null),X=o.useRef(null),J=j(),Z=J.isFocusVisibleRef,ee=J.onFocus,te=J.onBlur,ie=J.ref,ae=o.useState(!1),ue=Object(d.a)(ae,2),ce=ue[0],le=ue[1];function fe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return v((function(r){return t&&t(r),!n&&X.current&&X.current[e](r),!0}))}k&&ce&&le(!1),o.useImperativeHandle(r,(function(){return{focusVisible:function(){le(!0),Y.current.focus()}}}),[]),o.useEffect((function(){ce&&T&&!O&&X.current.pulsate()}),[O,T,ce]);var he=fe("start",U),de=fe("stop",R),pe=fe("stop",A),ve=fe("stop",z),me=fe("stop",(function(e){ce&&e.preventDefault(),q&&q(e)})),ye=fe("start",W),ge=fe("stop",V),be=fe("stop",B),ke=fe("stop",(function(e){te(e),!1===Z.current&&le(!1),C&&C(e)}),!1),we=v((function(e){Y.current||(Y.current=e.currentTarget),ee(e),!0===Z.current&&(le(!0),D&&D(e)),P&&P(e)})),Oe=function(){var e=Y.current;return g&&"button"!==g&&!("A"===e.tagName&&e.href)},_e=o.useRef(!1),je=v((function(e){T&&!_e.current&&ce&&X.current&&" "===e.key&&(_e.current=!0,X.current.stop(e,(function(){X.current.start(e)}))),e.target===e.currentTarget&&Oe()&&" "===e.key&&e.preventDefault(),L&&L(e),e.target===e.currentTarget&&Oe()&&"Enter"===e.key&&!k&&(e.preventDefault(),N&&N(e))})),xe=v((function(e){T&&" "===e.key&&X.current&&ce&&!e.defaultPrevented&&(_e.current=!1,X.current.stop(e,(function(){X.current.pulsate(e)}))),F&&F(e),N&&e.target===e.currentTarget&&Oe()&&" "===e.key&&!e.defaultPrevented&&N(e)})),Ee=g;"button"===Ee&&($.href||$.to)&&(Ee=I);var Te={};"button"===Ee?(Te.type=void 0===Q?"button":Q,Te.disabled=k):($.href||$.to||(Te.role="button"),k&&(Te["aria-disabled"]=k));var Se=Object(p.a)(ie,Y),Ie=Object(p.a)(t,Se),Ce=o.useState(!1),Ne=Object(d.a)(Ce,2),Re=Ne[0],Ae=Ne[1];o.useEffect((function(){Ae(!0)}),[]);var Pe=Re&&!O&&!k;var De=Object(a.a)({},n,{centerRipple:l,component:g,disabled:k,disableRipple:O,disableTouchRipple:x,focusRipple:T,tabIndex:H,focusVisible:ce}),Me=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=Object(c.a)(a,re,i);return n&&r&&(o.root+=" ".concat(r)),o}(De);return Object(M.jsxs)(se,Object(a.a)({as:Ee,className:Object(u.a)(Me.root,m),ownerState:De,onBlur:ke,onClick:N,onContextMenu:de,onFocus:we,onKeyDown:je,onKeyUp:xe,onMouseDown:he,onMouseLeave:me,onMouseUp:ve,onDragLeave:pe,onTouchEnd:ge,onTouchMove:be,onTouchStart:ye,ref:Ie,tabIndex:k?-1:H,type:Q},Te,$,{children:[f,Pe?Object(M.jsx)(ne,Object(a.a)({ref:X,center:l},G)):null]}))})),ce=ue,le=n(27);function fe(e){return Object(F.a)("MuiButton",e)}var he=Object(U.a)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var de=o.createContext({}),pe=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ve=function(e){return Object(a.a)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},me=Object(f.a)(ce,{shouldForwardProp:function(e){return Object(f.b)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Object(le.a)(n.color))],t["size".concat(Object(le.a)(n.size))],t["".concat(n.variant,"Size").concat(Object(le.a)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,i=e.ownerState;return Object(a.a)({},n.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":Object(a.a)({textDecoration:"none",backgroundColor:Object(l.a)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===i.variant&&"inherit"!==i.color&&{backgroundColor:Object(l.a)(n.palette[i.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===i.variant&&"inherit"!==i.color&&{border:"1px solid ".concat(n.palette[i.color].main),backgroundColor:Object(l.a)(n.palette[i.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===i.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===i.variant&&"inherit"!==i.color&&{backgroundColor:n.palette[i.color].dark,"@media (hover: none)":{backgroundColor:n.palette[i.color].main}}),"&:active":Object(a.a)({},"contained"===i.variant&&{boxShadow:n.shadows[8]})},Object(r.a)(t,"&.".concat(he.focusVisible),Object(a.a)({},"contained"===i.variant&&{boxShadow:n.shadows[6]})),Object(r.a)(t,"&.".concat(he.disabled),Object(a.a)({color:n.palette.action.disabled},"outlined"===i.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===i.variant&&"secondary"===i.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===i.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===i.variant&&{padding:"6px 8px"},"text"===i.variant&&"inherit"!==i.color&&{color:n.palette[i.color].main},"outlined"===i.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===i.variant&&"inherit"!==i.color&&{color:n.palette[i.color].main,border:"1px solid ".concat(Object(l.a)(n.palette[i.color].main,.5))},"contained"===i.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===i.variant&&"inherit"!==i.color&&{color:n.palette[i.color].contrastText,backgroundColor:n.palette[i.color].main},"inherit"===i.color&&{color:"inherit",borderColor:"currentColor"},"small"===i.size&&"text"===i.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===i.size&&"text"===i.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===i.size&&"outlined"===i.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===i.size&&"outlined"===i.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===i.size&&"contained"===i.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===i.size&&"contained"===i.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},i.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},Object(r.a)(t,"&.".concat(he.focusVisible),{boxShadow:"none"}),Object(r.a)(t,"&:active",{boxShadow:"none"}),Object(r.a)(t,"&.".concat(he.disabled),{boxShadow:"none"}),t)})),ye=Object(f.a)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Object(le.a)(n.size))]]}})((function(e){var t=e.ownerState;return Object(a.a)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ve(t))})),ge=Object(f.a)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Object(le.a)(n.size))]]}})((function(e){var t=e.ownerState;return Object(a.a)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ve(t))})),be=o.forwardRef((function(e,t){var n=Object(h.a)({props:e,name:"MuiButton"}),r=o.useContext(de),s=r.className,l=r.color,f=r.disabled,d=r.disableElevation,p=r.disableFocusRipple,v=r.disableRipple,m=r.fullWidth,y=r.size,g=r.variant,b=n.children,k=n.className,w=n.color,O=n.component,_=void 0===O?"button":O,j=n.disabled,x=n.disableElevation,E=n.disableFocusRipple,T=n.disableRipple,S=n.endIcon,I=n.focusVisibleClassName,C=n.fullWidth,N=n.size,R=n.startIcon,A=n.type,P=n.variant,D=Object(i.a)(n,pe),L=w||l||"primary",F=j||f||!1,U=x||d||!1,q=E||p||!1,z=C||m||!1,V=N||y||"medium",B=P||g||"text",W=T||v||!1,K=Object(a.a)({},n,{color:L,component:_,disabled:F,disableElevation:U,disableFocusRipple:q,fullWidth:z,size:V,type:A,variant:B}),H=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,o=e.variant,s=e.classes,u={root:["root",o,"".concat(o).concat(Object(le.a)(t)),"size".concat(Object(le.a)(i)),"".concat(o,"Size").concat(Object(le.a)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Object(le.a)(i))],endIcon:["endIcon","iconSize".concat(Object(le.a)(i))]},l=Object(c.a)(u,fe,s);return Object(a.a)({},s,l)}(K),G=R&&Object(M.jsx)(ye,{className:H.startIcon,ownerState:K,children:R}),Q=S&&Object(M.jsx)(ge,{className:H.endIcon,ownerState:K,children:S});return Object(M.jsxs)(me,Object(a.a)({ownerState:K,className:Object(u.a)(k,s),component:_,disabled:F,disableRipple:W,focusRipple:!q,focusVisibleClassName:Object(u.a)(H.focusVisible,I),ref:t,type:A},D,{classes:H,children:[G,b,Q]}))}));t.a=be},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(52),i=n.n(r);t.a=function(e,t){return i()(e,t)}},function(e,t,n){"use strict";var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i="-ms-",a="-moz-",o="-webkit-",s="comm",u="rule",c="decl",l=Math.abs,f=String.fromCharCode;function h(e){return e.trim()}function d(e,t,n){return e.replace(t,n)}function p(e,t){return e.indexOf(t)}function v(e,t){return 0|e.charCodeAt(t)}function m(e,t,n){return e.slice(t,n)}function y(e){return e.length}function g(e){return e.length}function b(e,t){return t.push(e),e}function k(e,t){return e.map(t).join("")}var w=1,O=1,_=0,j=0,x=0,E="";function T(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:w,column:O,length:o,return:""}}function S(e,t,n){return T(e,t.root,t.parent,n,t.props,t.children,0)}function I(){return x=j>0?v(E,--j):0,O--,10===x&&(O=1,w--),x}function C(){return x=j<_?v(E,j++):0,O++,10===x&&(O=1,w++),x}function N(){return v(E,j)}function R(){return j}function A(e,t){return m(E,e,t)}function P(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(e){return w=O=1,_=y(E=e),j=0,[]}function M(e){return E="",e}function L(e){return h(A(j-1,q(91===e?e+2:40===e?e+1:e)))}function F(e){for(;(x=N())&&x<33;)C();return P(e)>2||P(x)>3?"":" "}function U(e,t){for(;--t&&C()&&!(x<48||x>102||x>57&&x<65||x>70&&x<97););return A(e,R()+(t<6&&32==N()&&32==C()))}function q(e){for(;C();)switch(x){case e:return j;case 34:case 39:return q(34===e||39===e?e:x);case 40:41===e&&q(e);break;case 92:C()}return j}function z(e,t){for(;C()&&e+x!==57&&(e+x!==84||47!==N()););return"/*"+A(t,j-1)+"*"+f(47===e?e:C())}function V(e){for(;!P(N());)C();return A(e,j)}function B(e){return M(W("",null,null,null,[""],e=D(e),0,[0],e))}function W(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,h=o,p=0,v=0,m=0,g=1,k=1,w=1,O=0,_="",j=i,x=a,E=r,T=_;k;)switch(m=O,O=C()){case 34:case 39:case 91:case 40:T+=L(O);break;case 9:case 10:case 13:case 32:T+=F(m);break;case 92:T+=U(R()-1,7);continue;case 47:switch(N()){case 42:case 47:b(H(z(C(),R()),t,n),u);break;default:T+="/"}break;case 123*g:s[c++]=y(T)*w;case 125*g:case 59:case 0:switch(O){case 0:case 125:k=0;case 59+l:v>0&&y(T)-h&&b(v>32?G(T+";",r,n,h-1):G(d(T," ","")+";",r,n,h-2),u);break;case 59:T+=";";default:if(b(E=K(T,t,n,c,l,i,s,_,j=[],x=[],h),a),123===O)if(0===l)W(T,t,E,E,j,a,h,s,x);else switch(p){case 100:case 109:case 115:W(e,E,E,r&&b(K(e,E,E,0,0,i,s,_,i,j=[],h),x),i,x,h,s,r?j:x);break;default:W(T,E,E,E,[""],x,h,s,x)}}c=l=v=0,g=w=1,_=T="",h=o;break;case 58:h=1+y(T),v=m;default:if(g<1)if(123==O)--g;else if(125==O&&0==g++&&125==I())continue;switch(T+=f(O),O*g){case 38:w=l>0?1:(T+="\f",-1);break;case 44:s[c++]=(y(T)-1)*w,w=1;break;case 64:45===N()&&(T+=L(C())),p=N(),l=y(_=T+=V(R())),O++;break;case 45:45===m&&2==y(T)&&(g=0)}}return a}function K(e,t,n,r,i,a,o,s,c,f,p){for(var v=i-1,y=0===i?a:[""],b=g(y),k=0,w=0,O=0;k<r;++k)for(var _=0,j=m(e,v+1,v=l(w=o[k])),x=e;_<b;++_)(x=h(w>0?y[_]+" "+j:d(j,/&\f/g,y[_])))&&(c[O++]=x);return T(e,t,n,0===i?u:s,c,f,p)}function H(e,t,n){return T(e,t,n,s,f(x),m(e,2,-2),0)}function G(e,t,n,r){return T(e,t,n,c,m(e,0,r),m(e,r+1,-1),r)}function Q(e,t){switch(function(e,t){return(((t<<2^v(e,0))<<2^v(e,1))<<2^v(e,2))<<2^v(e,3)}(e,t)){case 5103:return o+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o+e+a+e+i+e+e;case 6828:case 4268:return o+e+i+e+e;case 6165:return o+e+i+"flex-"+e+e;case 5187:return o+e+d(e,/(\w+).+(:[^]+)/,o+"box-$1$2"+i+"flex-$1$2")+e;case 5443:return o+e+i+"flex-item-"+d(e,/flex-|-self/,"")+e;case 4675:return o+e+i+"flex-line-pack"+d(e,/align-content|flex-|-self/,"")+e;case 5548:return o+e+i+d(e,"shrink","negative")+e;case 5292:return o+e+i+d(e,"basis","preferred-size")+e;case 6060:return o+"box-"+d(e,"-grow","")+o+e+i+d(e,"grow","positive")+e;case 4554:return o+d(e,/([^-])(transform)/g,"$1"+o+"$2")+e;case 6187:return d(d(d(e,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),e,"")+e;case 5495:case 3959:return d(e,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return d(d(e,/(.+:)(flex-)?(.*)/,o+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o+e+e;case 4095:case 3583:case 4068:case 2532:return d(e,/(.+)-inline(.+)/,o+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(y(e)-1-t>6)switch(v(e,t+1)){case 109:if(45!==v(e,t+4))break;case 102:return d(e,/(.+:)(.+)-([^]+)/,"$1"+o+"$2-$3$1"+a+(108==v(e,t+3)?"$3":"$2-$3"))+e;case 115:return~p(e,"stretch")?Q(d(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==v(e,t+1))break;case 6444:switch(v(e,y(e)-3-(~p(e,"!important")&&10))){case 107:return d(e,":",":"+o)+e;case 101:return d(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+o+(45===v(e,14)?"inline-":"")+"box$3$1"+o+"$2$3$1"+i+"$2box$3")+e}break;case 5936:switch(v(e,t+11)){case 114:return o+e+i+d(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o+e+i+d(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o+e+i+d(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return o+e+i+e+e}return e}function $(e,t){for(var n="",r=g(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Y(e,t,n,r){switch(e.type){case"@import":case c:return e.return=e.return||e.value;case s:return"";case u:e.value=e.props.join(",")}return y(n=$(e.children,r))?e.return=e.value+"{"+n+"}":""}function X(e){return function(t){t.root||(t=t.return)&&e(t)}}n(60),n(49);var J=function(e,t,n){for(var r=0,i=0;r=i,i=N(),38===r&&12===i&&(t[n]=1),!P(i);)C();return A(e,j)},Z=function(e,t){return M(function(e,t){var n=-1,r=44;do{switch(P(r)){case 0:38===r&&12===N()&&(t[n]=1),e[n]+=J(j-1,t,n);break;case 2:e[n]+=L(r);break;case 4:if(44===r){e[++n]=58===N()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=f(r)}}while(r=C());return e}(D(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=Z(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(!e.return)switch(e.type){case c:e.return=Q(e.value,e.length);break;case"@keyframes":return $([S(d(e.value,"@","@"+o),e,"")],r);case u:if(e.length)return k(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $([S(d(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return $([S(d(t,/:(plac\w+)/,":"+o+"input-$1"),e,""),S(d(t,/:(plac\w+)/,":-moz-$1"),e,""),S(d(t,/:(plac\w+)/,i+"input-$1"),e,"")],r)}return""}))}}];t.a=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,s={},u=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;u.push(e)}));var c=[te,ne];var l,f=[Y,X((function(e){l.insert(e)}))],h=function(e){var t=g(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(c.concat(i,f));o=function(e,t,n,r){l=n,$(B(e?e+"{"+t.styles+"}":t.styles),h),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend}),nonce:e.nonce,inserted:s,registered:{},insert:o};return d.sheet.hydrate(u),d}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(5);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,"a",(function(){return r}))},,,,function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var u,c=[],l=!1,f=-1;function h(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(h);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(6),i=n(39),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e){return{loading:void 0===e||null===e,value:e}},s=function(e){var t=e?e():void 0,n=Object(r.useReducer)((function(e,t){switch(t.type){case"error":return a({},e,{error:t.error,loading:!1,value:void 0});case"reset":return o(t.defaultValue);case"value":return a({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),o(t)),i=n[0],s=n[1],u=function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},c=function(e){s({type:"error",error:e})},l=function(e){s({type:"value",value:e})};return Object(r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:u,setError:c,setValue:l,value:i.value}}),[i.error,i.loading,u,c,l,i.value])},u=function(e,t,n){var i=Object(r.useRef)(e);return Object(r.useEffect)((function(){t(e,i.current)||(i.current=e,n&&n())})),i},c=function(e,t,n,r,i){if(e.exists()){var a=e.data(t);return i&&(a=i(a)),n&&(a[n]=e.id),r&&(a[r]=e.ref),a}},l=function(e,t){var n=!e&&!t,r=!!e&&!!t&&Object(i.h)(e,t);return n||r},f=function(e,t){return d(!0,e,t)},h=function(e,t,n){var a=s(),o=a.error,c=a.loading,f=a.reset,h=a.setError,d=a.setValue,p=a.value,v=function(e,t){return u(e,l,t)}(t,f);Object(r.useEffect)((function(){if(v.current){if(e){var t=n&&n.snapshotListenOptions?Object(i.g)(v.current,n.snapshotListenOptions,d,h):Object(i.g)(v.current,d,h);return function(){t()}}var r=function(e){switch((void 0===e?{source:"default"}:e).source){default:return i.d;case"cache":return i.e;case"server":return i.f}}(n?n.getOptions:void 0);r(v.current).then(d).catch(h)}else d(void 0)}),[v.current]);var m=[p,c,o];return Object(r.useMemo)((function(){return m}),m)},d=function(e,t,n){var i=n?n.idField:void 0,a=n?n.refField:void 0,o=n?n.snapshotOptions:void 0,s=n?n.transform:void 0,u=h(e,t,n),l=u[0],f=u[1],d=u[2],p=[Object(r.useMemo)((function(){return l?l.docs.map((function(e){return c(e,o,i,a,s)})):void 0}),[l,o,i,a,s]),f,d];return Object(r.useMemo)((function(){return p}),p)}},function(e,t,n){"use strict";var r=n(6),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.a=i},function(e,t,n){"use strict";var r=n(148),i=n(6);var a=i.createContext(null);function o(){return i.useContext(a)}function s(e){return 0===Object.keys(e).length}var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=o();return!t||s(t)?e:t},c=Object(r.a)();t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return u(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(72);function i(e){if("string"!==typeof e)throw new Error(Object(r.a)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(7);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?Object(r.a)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},,,,,,,,function(e,t,n){"use strict";var r=n(76),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=g.prototype=new y;b.constructor=g,r(b,m.prototype),b.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!O.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+E(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(j(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+E(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function S(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function N(){var e=C.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:S,forEach:function(e,t,n){S(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return S(e,(function(){t++})),t},toArray:function(e){return S(e,(function(e){return e}))||[]},only:function(e){if(!j(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!O.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(6),i=n(76),a=n(101);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=60103,_=60106,j=60107,x=60108,E=60114,T=60109,S=60110,I=60112,C=60113,N=60120,R=60115,A=60116,P=60121,D=60128,M=60129,L=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;O=U("react.element"),_=U("react.portal"),j=U("react.fragment"),x=U("react.strict_mode"),E=U("react.profiler"),T=U("react.provider"),S=U("react.context"),I=U("react.forward_ref"),C=U("react.suspense"),N=U("react.suspense_list"),R=U("react.memo"),A=U("react.lazy"),P=U("react.block"),U("react.scope"),D=U("react.opaque.id"),M=U("react.debug_trace_mode"),L=U("react.offscreen"),F=U("react.legacy_hidden")}var q,z="function"===typeof Symbol&&Symbol.iterator;function V(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case _:return"Portal";case E:return"Profiler";case x:return"StrictMode";case C:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case P:return G(e._render);case A:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Oe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function je(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Se=null,Ie=null;function Ce(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Ne(e){Se?Ie?Ie.push(e):Ie=[e]:Se=e}function Re(){if(Se){var e=Se,t=Ie;if(Ie=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Me=Ae,Le=!1,Fe=!1;function Ue(){null===Se&&null===Ie||(De(),Re())}function qe(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Ve={};Object.defineProperty(Ve,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ve,Ve),window.removeEventListener("test",Ve,Ve)}catch(me){ze=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ke=null,He=!1,Ge=null,Qe={onError:function(e){We=!0,Ke=e}};function $e(e,t,n,r,i,a,o,s,u){We=!1,Ke=null,Be.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function kt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&gt(st)&&(st=null),null!==ut&&gt(ut)&&(ut=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function Ot(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jt={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},xt={},Et={};function Tt(e){if(xt[e])return xt[e];if(!jt[e])return e;var t,n=jt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return xt[e]=n[t];return e}f&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);var St=Tt("animationend"),It=Tt("animationiteration"),Ct=Tt("animationstart"),Nt=Tt("transitionend"),Rt=new Map,At=new Map,Pt=["abort","abort",St,"animationEnd",It,"animationIteration",Ct,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),At.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Lt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Lt(u),i=Mt):0!==(s&=a)&&(r=Lt(s),i=Mt)}else 0!==(a=n&~o)?(r=Lt(a),i=Mt):0!==s&&(r=Lt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?qt(10,t):e;case 10:return 0===(e=zt(192&~t))?qt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Le||De();var i=Jt,a=Le;Le=!0;try{Pe(i,e,t,n,r)}finally{(Le=a)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Dr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ee(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(mn),gn=un(i({},mn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),kn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),On=un(wn),_n=un(i({},hn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Sn(){return Tn}var In=i({},pn,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=un(In),Nn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=un(Pn),Mn=[9,13,27,32],Ln=f&&"CompositionEvent"in window,Fn=null;f&&"documentMode"in document&&(Fn=document.documentMode);var Un=f&&"TextEvent"in window&&!Fn,qn=f&&(!Ln||Fn&&8<Fn&&11>=Fn),zn=String.fromCharCode(32),Vn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ne(r),0<(t=Lr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Ir(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Ee(e)),e=Xn,Le)e(t);else{Le=!0;try{Ae(e,t)}finally{Le=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,br=null,kr=null,wr=null,Or=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Or||null==br||br!==J(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Lr(kr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Pt,2);for(var jr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<jr.length;xr++)At.set(jr[xr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Sr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if($e.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ke;We=!1,Ke=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Sr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Sr(i,s,c),a=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Cr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){Tr.has(t)||Ar(t,!1,e,null),Ar(t,!0,e,null)})))}function Ar(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Pr(a,e,i,t),o.add(s))}function Pr(e,t,n,r){var i=At.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Me(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=a,i=Ee(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case St:case It:case Ct:u=kn;break;case Nt:u=An;break;case"scroll":u=vn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=On;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=qe(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=h;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)h=Fr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Fr(l),h=Fr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var y=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(br=y,kr=r,wr=null);break;case"focusout":wr=kr=br=null;break;case"mousedown":Or=!0;break;case"contextmenu":case"mouseup":case"dragend":Or=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Kn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(qn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Lr(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Wn(n))&&(b.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,zn);case"textInput":return(e=t.data)===zn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ir(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=qe(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=qe(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=qe(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=qe(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function qr(){}var zr=null,Vr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,ji=null,xi=a.unstable_runWithPriority,Ei=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Si=a.unstable_shouldYield,Ii=a.unstable_requestPaint,Ci=a.unstable_now,Ni=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Ai=a.unstable_UserBlockingPriority,Pi=a.unstable_NormalPriority,Di=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Li={},Fi=void 0!==Ii?Ii:function(){},Ui=null,qi=null,zi=!1,Vi=Ci(),Bi=1e4>Vi?Ci:function(){return Ci()-Vi};function Wi(){switch(Ni()){case Ri:return 99;case Ai:return 98;case Pi:return 97;case Di:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Ri;case 98:return Ai;case 97:return Pi;case 96:return Di;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Ki(e),xi(e,t)}function Gi(e,t,n){return e=Ki(e),Ei(e,t,n)}function Qi(){if(null!==qi){var e=qi;qi=null,Ti(e)}$i()}function $i(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ei(Ri,Qi),n}finally{zi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ba(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Oa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ja(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case O:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Xu(t,e.mode,n)).return=e,t}if(Oa(t)||V(t))return(t=Qu(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case O:return n.key===i?n.type===j?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(Oa(n)||V(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case O:return e=e.get(null===r.key?n:r.key)||null,r.type===j?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Oa(r)||V(r))return f(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=V(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,m),null===f?l=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===j&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case O:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===j){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===j?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(Oa(a))return v(e,r,a,u);if(V(a))return m(e,r,a,u);if(l&&ja(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ea=xa(!0),Ta=xa(!1),Sa={},Ia=ci(Sa),Ca=ci(Sa),Na=ci(Sa);function Ra(e){if(e===Sa)throw Error(o(174));return e}function Aa(e,t){switch(fi(Na,t),fi(Ca,e),fi(Ia,Sa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ia),fi(Ia,t)}function Pa(){li(Ia),li(Ca),li(Na)}function Da(e){Ra(Na.current);var t=Ra(Ia.current),n=pe(t,e.type);t!==n&&(fi(Ca,e),fi(Ia,n))}function Ma(e){Ca.current===e&&(li(Ia),li(Ca))}var La=ci(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,qa=null,za=!1;function Va(e,t){var n=Wu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(za){var t=qa;if(t){var n=t;if(!Ba(e,t)){if(!(t=Qr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Va(Ua,n)}Ua=e,qa=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ha(e){if(e!==Ua)return!1;if(!za)return Ka(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=qa;t;)Va(e,t),t=Qr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qa=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qa=null}}else qa=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){qa=Ua=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ao:Po,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Do,e=n(r,i)}while(ro)}if(Ya.current=Ro,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=As;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ya.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Wt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=No.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=No.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},so().memoizedState=e}function bo(){return uo().memoizedState}function ko(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function Oo(e,t){return ko(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function jo(e,t){return wo(4,2,e,t)}function xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,xo.bind(null,t,e),n)}function To(){}function So(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Io(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function No(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ao={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:Oo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=No.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return Oo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Po={readContext:oa,useCallback:So,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:jo,useMemo:Io,useReducer:lo,useRef:bo,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[bo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:So,useContext:oa,useEffect:_o,useImperativeHandle:Eo,useLayoutEffect:jo,useMemo:Io,useReducer:fo,useRef:bo,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[bo().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Lo=!1;function Fo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Ea(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function qo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Hu(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return Wo(e,t,n,r,a)}function Vo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Ou(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ou(t,e),null;t.memoizedState={baseLanes:0},Ou(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ou(t,r);return Fo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ba(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ka(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ga(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ka(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ga(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ea(t,e.child,null,a),t.child=Ea(t,null,s,a)):Fo(e,t,s,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Aa(e,t.containerInfo)}var Qo,$o,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(La,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(o,s),null!==e?r=Hu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Fo(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Pa(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Na.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Ia.current),Ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Cr("cancel",r),Cr("close",r);break;case"iframe":case"object":case"embed":Cr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Cr(Er[e],r);break;case"source":Cr("error",r);break;case"img":case"image":case"link":Cr("error",r),Cr("load",r);break;case"details":Cr("toggle",r);break;case"input":ee(r,s),Cr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Cr("invalid",r);break;case"textarea":ue(r,s),Cr("invalid",r)}for(var c in je(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Cr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=qr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=xe(n,r),n){case"dialog":Cr("cancel",e),Cr("close",e),a=r;break;case"iframe":case"object":case"embed":Cr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Er.length;a++)Cr(Er[a],e);a=r;break;case"source":Cr("error",e),a=r;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),a=r;break;case"details":Cr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Cr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Cr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Cr("invalid",e);break;default:a=r}je(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Oe(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Cr("scroll",e):null!=f&&k(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=qr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Na.current),Ra(Ia.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===As||0===(134217727&zs)&&0===(134217727&Vs)||gu(As,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Pa(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(La),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fa(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Hs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fa(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=La.current,fi(La,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Pa(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(La),null;case 4:return Pa(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Ia.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=qr)}for(f in je(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Cr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===D?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){qu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ot(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(ji&&"function"===typeof ji.onCommitFiberUnmount)try{ji.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Lu(t,n);else{r=t;try{i()}catch(a){qu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){qu(t,a)}break;case 5:vs(t);break;case 4:xs(e,t)}}function ks(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Os(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):js(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qr));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function js(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(js(e,t,n),e=e.sibling;null!==e;)js(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Es(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?Oe(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?ge(n,u):k(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ot(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=Bi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Vu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ss(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Is=Math.ceil,Cs=w.ReactCurrentDispatcher,Ns=w.ReactCurrentOwner,Rs=0,As=null,Ps=null,Ds=0,Ms=0,Ls=ci(0),Fs=0,Us=null,qs=0,zs=0,Vs=0,Bs=0,Ws=null,Ks=0,Hs=1/0;function Gs(){Hs=Bi()+500}var Qs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Rs)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=qs),0!==Yi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Rs)&&98===e?e=qt(12,uu):e=qt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===As&&(Vs|=t,4===Fs&&gu(e,Ds));var r=Wi();1===t?0!==(8&Rs)&&0===(48&Rs)?bu(e):(mu(e,n),0===Rs&&(Gs(),Qi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Ws=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===As?Ds:0),t=Mt,0===r)null!==n&&(n!==Li&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ti(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],qi=Ei(Ri,$i)):Ui.push(n),n=Li):14===t?n=Gi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Ft(e,e===As?Ds:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var a=Eu();for(As===e&&Ds===r||(Gs(),ju(e,r));;)try{Iu();break}catch(u){xu(e,u)}if(na(),Cs.current=a,Rs=i,null!==Ps?r=0:(As=null,Ds=0,r=Fs),0!==(qs&Vs))ju(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Tu(e,n))),1===r)throw t=Us,ju(e,0),gu(e,n),mu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ks+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Wt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Is(n/1960))-n)){e.timeoutHandle=Kr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(o(329))}}return mu(e,Bi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~Bs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&Rs))throw Error(o(327));if(Du(),e===As&&0!==(e.expiredLanes&Ds)){var t=Ds,n=Tu(e,t);0!==(qs&Vs)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Tu(e,t))),1===n)throw n=Us,ju(e,0),gu(e,t),mu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),mu(e,Bi()),null}function ku(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}}function wu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}}function Ou(e,t){fi(Ls,Ms),Ms|=t,qs|=t}function _u(){Ms=Ls.current,li(Ls)}function ju(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Pa(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Pa();break;case 13:case 19:li(La);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}As=e,Ps=Hu(e.current,null),Ds=Ms=qs=t,Fs=0,Us=null,Bs=Vs=zs=0}function xu(e,t){for(;;){var n=Ps;try{if(na(),Ya.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ns.current=null,null===n||null===n.return){Fs=1,Us=t,Ps=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&La.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=la(-1,1);g.tag=2,fa(s,g)}s.lanes|=1;break e}u=void 0,s=t;var b=a.pingCache;if(null===b?(b=a.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var k=zu.bind(null,a,c,s);c.then(k,k)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,O=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==O&&"function"===typeof O.componentDidCatch&&(null===Js||!Js.has(O)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Nu(n)}catch(_){t=_,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function Eu(){var e=Cs.current;return Cs.current=Ro,null===e?Ro:e}function Tu(e,t){var n=Rs;Rs|=16;var r=Eu();for(As===e&&Ds===t||ju(e,t);;)try{Su();break}catch(i){xu(e,i)}if(na(),Rs=n,Cs.current=r,null!==Ps)throw Error(o(261));return As=null,Ds=0,Fs}function Su(){for(;null!==Ps;)Cu(Ps)}function Iu(){for(;null!==Ps&&!Si();)Cu(Ps)}function Cu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Nu(e):Ps=t,Ns.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ps=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ps=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ru(e){var t=Wi();return Hi(99,Au.bind(null,e,t)),null}function Au(e,t){do{Du()}while(null!==eu);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===As&&(Ps=As=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ns.current=null,zr=$t,yr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(E){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Vr={focusedElem:s,selectionRange:u},$t=!1,lu=null,fu=!1,$s=r;do{try{Pu()}catch(E){if(null===$s)throw Error(o(330));qu($s,E),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&ge($s.stateNode,""),128&b){var k=$s.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Os($s),$s.flags&=-3;break;case 6:Os($s),$s.flags&=-3,Es($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Es($s.alternate,$s);break;case 4:Es($s.alternate,$s);break;case 8:xs(s,u=$s);var O=u.alternate;ks(u),null!==O&&ks(O)}$s=$s.nextEffect}}catch(E){if(null===$s)throw Error(o(330));qu($s,E),$s=$s.nextEffect}}while(null!==$s);if(w=Vr,k=mr(),b=w.focusedElem,s=w.selectionRange,k!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(k=s.start,void 0===(w=s.end)&&(w=k),"selectionStart"in b?(b.selectionStart=k,b.selectionEnd=Math.min(w,b.value.length)):(w=(k=b.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,O=Math.min(s.start,u),s=void 0===s.end?O:Math.min(s.end,u),!w.extend&&O>s&&(u=s,s=O,O=u),u=pr(b,O),a=pr(b,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),O>s?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=b;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<k.length;b++)(w=k[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!zr,Vr=zr=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var _=$s.flags;if(36&_&&ys(b,$s.alternate,$s),128&_){k=void 0;var j=$s.ref;if(null!==j){var x=$s.stateNode;$s.tag,k=x,"function"===typeof j?j(k):j.current=k}}$s=$s.nextEffect}}catch(E){if(null===$s)throw Error(o(330));qu($s,E),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),Rs=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((_=$s).sibling=null,_.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,ji&&"function"===typeof ji.onCommitFiberRoot)try{ji.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(E){}if(mu(e,Bi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Rs)||Qi(),null}function Pu(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(fu=!0):13===$s.tag&&Ss(e,$s)&&et($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Du(),null}))),$s=$s.nextEffect}}function Du(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Fu)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Du(),null})))}function Lu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Du(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));qu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));qu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),mu(e,t))}function qu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ds&n)===n&&(4===Fs||3===Fs&&(62914560&Ds)===Ds&&500>Bi()-Ks?ju(e,0):Bs|=n),mu(e,t)}function Vu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=qs),0===(t=zt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),mu(e,n))}function Bu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,n,r){return new Bu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case j:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case x:s=8,i|=1;break;case E:return(e=Wu(12,n,t,8|i)).elementType=E,e.type=E,e.lanes=a,e;case C:return(e=Wu(13,n,t,i)).type=C,e.elementType=C,e.lanes=a,e;case N:return(e=Wu(19,n,t,i)).elementType=N,e.lanes=a,e;case L:return $u(n,i,a,t);case F:return(e=Wu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case S:s=9;break e;case I:s=11;break e;case R:s=14;break e;case A:s=16,r=null;break e;case P:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Wu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Wu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Wu(23,e,r,t)).elementType=L,e.lanes=n,e}function Yu(e,t,n){return(e=Wu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vt(0),this.expirationTimes=Vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=ki(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Da(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Aa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(La,1&La.current),null!==(t=as(e,t,n))?t.sibling:null);fi(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,Vo(e,t,n)}return as(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=qo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(qa=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Ga();t=t.child}return t;case 5:return Da(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Wr(r,i)?s=null:null!==a&&Wr(r,a)&&(t.flags|=16),Bo(e,t),Fo(e,t,s,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Jo(e,t,n);case 4:return Aa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ea(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),qo(e,t,i,a=Xi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ba(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Vo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ae=ku,Pe=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&(Gs(),Qi())}},De=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Bi())}))}Qi()}(),Du())},Me=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Ne,Re,Du,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),ji=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Rs=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ku,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(102)},function(e,t,n){"use strict";var r,i,a,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},i=function(e,t){f=setTimeout(e,t)},a=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,y=null,g=-1,b=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,O=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+b;try{y(!0,e)?O.postMessage(null):(m=!1,y=null)}catch(n){throw O.postMessage(null),n}}else m=!1},r=function(e){y=e,m||(m=!0,O.postMessage(null))},i=function(e,n){g=d((function(){e(t.unstable_now())}),n)},a=function(){p(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function j(e){return void 0===(e=e[0])?null:e}function x(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>E(o,n))void 0!==u&&0>E(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>E(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],I=1,C=null,N=3,R=!1,A=!1,P=!1;function D(e){for(var t=j(S);null!==t;){if(null===t.callback)x(S);else{if(!(t.startTime<=e))break;x(S),t.sortIndex=t.expirationTime,_(T,t)}t=j(S)}}function M(e){if(P=!1,D(e),!A)if(null!==j(T))A=!0,r(L);else{var t=j(S);null!==t&&i(M,t.startTime-e)}}function L(e,n){A=!1,P&&(P=!1,a()),R=!0;var r=N;try{for(D(n),C=j(T);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=C.callback;if("function"===typeof o){C.callback=null,N=C.priorityLevel;var s=o(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?C.callback=s:C===j(T)&&x(T),D(n)}else x(T);C=j(T)}if(null!==C)var u=!0;else{var c=j(S);null!==c&&i(M,c.startTime-n),u=!1}return u}finally{C=null,N=r,R=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){A||R||(A=!0,r(L))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return j(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:I++,callback:n,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,_(S,e),null===j(T)&&e===j(S)&&(P?a():P=!0,i(M,o-s))):(e.sortIndex=u,_(T,e),A||R||(A=!0,r(L))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,,function(e,t,n){"use strict";n(76);var r=n(6),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";var r=n(107);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports=n(109)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,k=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function O(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case h:case o:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case m:case c:return e;default:return t}}case a:return t}}}function _(e){return O(e)===h}t.AsyncMode=f,t.ConcurrentMode=h,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=y,t.Memo=m,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||O(e)===f},t.isConcurrentMode=_,t.isContextConsumer=function(e){return O(e)===l},t.isContextProvider=function(e){return O(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return O(e)===d},t.isFragment=function(e){return O(e)===o},t.isLazy=function(e){return O(e)===y},t.isMemo=function(e){return O(e)===m},t.isPortal=function(e){return O(e)===a},t.isProfiler=function(e){return O(e)===u},t.isStrictMode=function(e){return O(e)===s},t.isSuspense=function(e){return O(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===k||e.$$typeof===w||e.$$typeof===g)},t.typeOf=O},function(e,t,n){"use strict";var r=60103,i=60106,a=60107,o=60108,s=60114,u=60109,c=60110,l=60112,f=60113,h=60120,d=60115,p=60116,v=60121,m=60122,y=60117,g=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;r=k("react.element"),i=k("react.portal"),a=k("react.fragment"),o=k("react.strict_mode"),s=k("react.profiler"),u=k("react.provider"),c=k("react.context"),l=k("react.forward_ref"),f=k("react.suspense"),h=k("react.suspense_list"),d=k("react.memo"),p=k("react.lazy"),v=k("react.block"),m=k("react.server.block"),y=k("react.fundamental"),g=k("react.debug_trace_mode"),b=k("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case h:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case d:case u:return e;default:return t}}case i:return t}}}var O=u,_=r,j=l,x=a,E=p,T=d,S=i,I=s,C=o,N=f;t.ContextConsumer=c,t.ContextProvider=O,t.Element=_,t.ForwardRef=j,t.Fragment=x,t.Lazy=E,t.Memo=T,t.Portal=S,t.Profiler=I,t.StrictMode=C,t.Suspense=N,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===l},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===p},t.isMemo=function(e){return w(e)===d},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===s||e===g||e===o||e===f||e===h||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===u||e.$$typeof===c||e.$$typeof===l||e.$$typeof===y||e.$$typeof===v||e[0]===m)},t.typeOf=w},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var b={};u(b,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(I([])));w&&w!==n&&r.call(w,a)&&(b=w);var O=g.prototype=m.prototype=Object.create(b);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function I(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:C}}function C(){return{value:t,done:!0}}return y.prototype=g,u(O,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},_(j.prototype),u(j.prototype,o,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new j(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(O),u(O,s,"Generator"),u(O,a,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=r}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t),i=n(2),a=n(4),o=n(3),s=n(29),u=n(13),c=n(20),l=n(1);function f(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.v)();return!("file:"!==f()&&"ionic:"!==f()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function d(){return Object(l.B)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.v)();return/Edge\/\d+/.test(e)}function v(){try{var e=self.localStorage,t=u.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.v)();return d()||p(e)}()||Object(l.C)()}catch(n){return m()&&Object(l.C)()}return!1}function m(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function y(){return("http:"===f()||"https:"===f()||Object(l.y)()||h())&&!(Object(l.G)()||Object(l.E)())&&v()&&!m()}function g(){return h()&&"undefined"!==typeof document}function b(){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={LOCAL:"local",NONE:"none",SESSION:"session"},O=u.p,_="persistence";function j(e,t){O(Object.values(w).includes(t),e,"invalid-persistence-type"),Object(l.G)()?O(t!==w.SESSION,e,"unsupported-persistence-type"):Object(l.E)()?O(t===w.NONE,e,"unsupported-persistence-type"):m()?O(t===w.NONE||t===w.LOCAL&&Object(l.C)(),e,"unsupported-persistence-type"):O(t===w.NONE||v(),e,"unsupported-persistence-type")}function x(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=T(),i=u.v(_,t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(i,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return"undefined"!==typeof window?window:null}var S=u.p,I=function(){function e(){Object(i.a)(this,e),this.browserResolver=u.t(u.z),this.cordovaResolver=u.t(u.E),this.underlyingResolver=null,this._redirectPersistence=u.A,this._completeRedirectFn=u.u}return Object(a.a)(e,[{key:"_initialize",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n,i,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n,i,a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,i,a));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return g()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return S(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function C(e){return e.unwrap()}function N(e){var t=(e instanceof l.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof l.c)&&"temporaryProof"in t&&"phoneNumber"in t)return u.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===u.k.PASSWORD)return null;switch(r){case u.k.GOOGLE:n=u.f;break;case u.k.FACEBOOK:n=u.d;break;case u.k.GITHUB:n=u.e;break;case u.k.TWITTER:n=u.o;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,c=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?u.m._create(r,s):u.g._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new u.h(r).credential({idToken:i,accessToken:a,rawNonce:c}):null}return e instanceof l.c?n.credentialFromError(e):n.credentialFromResult(e)}function R(e,t){return t.catch((function(t){throw t instanceof l.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new D(e,u.J(e,t));else if(r){var i=N(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,N(t)),additionalUserInfo:u.I(e),user:M.getOrCreate(r)}}))}function A(e,t){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(r.a.mark((function e(t,n){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return i=e.sent,e.abrupt("return",{verificationId:i.verificationId,confirm:function(e){return R(t,i.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(){function e(t,n){Object(i.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(a.a)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return R(C(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),M=function(){function e(t){Object(i.a)(this,e),this._delegate=t,this.multiFactor=u.S(t)}return Object(a.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this.auth,u.O(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(this.auth,u.P(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this.auth,u.Q(this._delegate,t,I)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(u.q(this.auth));case 2:return e.abrupt("return",u.R(this._delegate,t,I));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this.auth,u.T(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return A(this.auth,u.U(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return R(this.auth,u.V(this._delegate,e,I))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(u.q(this.auth));case 2:return e.abrupt("return",u.W(this._delegate,t,I));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return u.X(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ib(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return u.jb(this._delegate,e)}},{key:"updatePassword",value:function(e){return u.kb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return u.lb(this._delegate,e)}},{key:"updateProfile",value:function(e){return u.mb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return u.nb(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();M.USER_MAP=new WeakMap;var L=u.p,F=function(){function e(t,n){if(Object(i.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;L(r,"invalid-api-key",{appName:t.name});var a=[u.L];if("undefined"!==typeof window){a=function(e,t){var n=T();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=u.v(_,e,t);switch(n.sessionStorage.getItem(r)){case w.NONE:return[u.L];case w.LOCAL:return[u.M,u.A];case w.SESSION:return[u.A];default:return[]}}(r,t.name);for(var o=0,s=[u.M,u.y,u.A];o<s.length;o++){var c=s[o];a.includes(c)||a.push(c)}}L(r,"invalid-api-key",{appName:t.name});var l="undefined"!==typeof window?I:void 0;this._delegate=n.initialize({options:{persistence:a,popupRedirectResolver:l}}),this._delegate._updateErrorMap(u.G),this.linkUnderlyingAuth()}return Object(a.a)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?M.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){u.D(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return u.x(this._delegate,e)}},{key:"checkActionCode",value:function(e){return u.B(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return u.C(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R(this._delegate,u.F(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return u.H(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return u.N(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(y(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,u.K(this._delegate,I);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",R(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){u.w(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=U(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=U(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return u.Z(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return u.Y(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(this._delegate,t),e.t0=t,e.next=e.t0===w.SESSION?4:e.t0===w.LOCAL?6:e.t0===w.NONE?11:13;break;case 4:return n=u.A,e.abrupt("break",14);case 6:return e.next=8,u.t(u.M)._isAvailable();case 8:return i=e.sent,n=i?u.M:u.y,e.abrupt("break",14);case 11:return n=u.L,e.abrupt("break",14);case 13:return e.abrupt("return",u.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return R(this._delegate,u.ab(this._delegate))}},{key:"signInWithCredential",value:function(e){return R(this._delegate,u.bb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return R(this._delegate,u.cb(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return R(this._delegate,u.db(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return R(this._delegate,u.eb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return A(this._delegate,u.fb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(y(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",R(this._delegate,u.gb(this._delegate,t,I)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(y(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,x(this._delegate);case 3:return e.abrupt("return",u.hb(this._delegate,t,I));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return u.ob(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function U(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&M.getOrCreate(e))},error:t,complete:n}}F.Persistence=w;var q=function(){function e(){Object(i.a)(this,e),this.providerId="phone",this._delegate=new u.i(C(s.a.auth()))}return Object(a.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return u.i.credential(e,t)}}]),e}();q.PHONE_SIGN_IN_METHOD=u.i.PHONE_SIGN_IN_METHOD,q.PROVIDER_ID=u.i.PROVIDER_ID;var z,V=u.p,B=function(){function e(t,n){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.a.app();Object(i.a)(this,e),V(null===(r=a.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:a.name}),this._delegate=new u.l(t,n,a.auth()),this.type=this._delegate.type}return Object(a.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(z=s.a).INTERNAL.registerComponent(new c.a("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new F(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:u.a.EMAIL_SIGNIN,PASSWORD_RESET:u.a.PASSWORD_RESET,RECOVER_EMAIL:u.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:u.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:u.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:u.a.VERIFY_EMAIL}},EmailAuthProvider:u.c,FacebookAuthProvider:u.d,GithubAuthProvider:u.e,GoogleAuthProvider:u.f,OAuthProvider:u.h,SAMLAuthProvider:u.n,PhoneAuthProvider:q,PhoneMultiFactorGenerator:u.j,RecaptchaVerifier:B,TwitterAuthProvider:u.o,Auth:F,AuthCredential:u.b,Error:l.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),z.registerVersion("@firebase/auth-compat","0.2.2")}).call(this,n(77))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6),i=n(81);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){Object(i.a)(e,n),Object(i.a)(t,n)}}),[e,t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}(),a={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function o(e,t){return a[t]||"".concat(i.generate(e),"-").concat(t)}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(115);function i(e,t){var n={};return t.forEach((function(t){n[t]=Object(r.a)(e,t)})),n}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f}));var r=n(72);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(Object(r.a)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error(Object(r.a)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function s(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){var n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(6),i=n(88);function a(e){var t=r.useRef(e);return Object(i.a)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(6),n(26);var r=n(48),i=n(8);function a(e){var t=e.styles,n=e.defaultTheme,a=void 0===n?{}:n,o="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?a:e);var n}:t;return Object(i.jsx)(r.a,{styles:o})}},function(e,t,n){"use strict";var r=n(7),i=n(15),a=n(6),o=n.n(a),s=(n(26),n(22)),u=n(142),c=n(18),l=n(24),f=n(5),h=n(21),d=n(91),p=n(16),v=n(72),m=n(114);function y(e){return e&&e.ownerDocument||document}function g(e){return y(e).defaultView||window}function b(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(s,n)}return r.clear=function(){clearTimeout(t)},r}var k=n(88),w=n(8),O=["onChange","maxRows","minRows","style","value"];function _(e,t){return parseInt(e[t],10)||0}var j={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},x=a.forwardRef((function(e,t){var n=e.onChange,o=e.maxRows,s=e.minRows,u=void 0===s?1:s,c=e.style,l=e.value,f=Object(i.a)(e,O),h=a.useRef(null!=l).current,d=a.useRef(null),v=Object(m.a)(t,d),y=a.useRef(null),x=a.useRef(0),E=a.useState({}),T=Object(p.a)(E,2),S=T[0],I=T[1],C=a.useCallback((function(){var t=d.current,n=g(t).getComputedStyle(t);if("0px"!==n.width){var r=y.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],a=_(n,"padding-bottom")+_(n,"padding-top"),s=_(n,"border-bottom-width")+_(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;u&&(f=Math.max(Number(u)*l,f)),o&&(f=Math.min(Number(o)*l,f));var h=(f=Math.max(f,l))+("border-box"===i?a+s:0),p=Math.abs(f-c)<=1;I((function(e){return x.current<20&&(h>0&&Math.abs((e.outerHeightStyle||0)-h)>1||e.overflow!==p)?(x.current+=1,{overflow:p,outerHeightStyle:h}):e}))}}),[o,u,e.placeholder]);a.useEffect((function(){var e,t=b((function(){x.current=0,C()})),n=g(d.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(d.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}}),[C]),Object(k.a)((function(){C()})),a.useEffect((function(){x.current=0}),[l]);return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)("textarea",Object(r.a)({value:l,onChange:function(e){x.current=0,h||C(),n&&n(e)},ref:v,rows:u,style:Object(r.a)({height:S.outerHeightStyle,overflow:S.overflow?"hidden":null},c)},f)),Object(w.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:y,tabIndex:-1,style:Object(r.a)({},j,c,{padding:0})})]})}));var E=function(e){return"string"===typeof e};function T(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var S=a.createContext();function I(){return a.useContext(S)}var C=n(27),N=n(31),R=k.a,A=n(146),P=n(47);var D=function(e){return Object(w.jsx)(A.a,Object(r.a)({},e,{defaultTheme:P.a}))};function M(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(M(e.value)&&""!==e.value||t&&M(e.defaultValue)&&""!==e.defaultValue)}var F=n(115),U=n(143);function q(e){return Object(F.a)("MuiInputBase",e)}var z=Object(U.a)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),V=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],B=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Object(C.a)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},W=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},K=Object(c.a)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:B})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({},t.typography.body1,Object(f.a)({color:t.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(z.disabled),{color:t.palette.text.disabled,cursor:"default"}),n.multiline&&Object(r.a)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),H=Object(c.a)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:W})((function(e){var t,n=e.theme,i=e.ownerState,a="light"===n.palette.mode,o={color:"currentColor",opacity:a?.42:.5,transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},s={opacity:"0 !important"},u={opacity:a?.42:.5};return Object(r.a)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},Object(f.a)(t,"label[data-shrink=false] + .".concat(z.formControl," &"),{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":u,"&:focus::-moz-placeholder":u,"&:focus:-ms-input-placeholder":u,"&:focus::-ms-input-placeholder":u}),Object(f.a)(t,"&.".concat(z.disabled),{opacity:1,WebkitTextFillColor:n.palette.text.disabled}),Object(f.a)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===i.size&&{paddingTop:1},i.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===i.type&&{MozAppearance:"textfield"})})),G=Object(w.jsx)(D,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Q=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiInputBase"}),o=n["aria-describedby"],c=n.autoComplete,f=n.autoFocus,h=n.className,d=n.components,m=void 0===d?{}:d,y=n.componentsProps,g=void 0===y?{}:y,b=n.defaultValue,k=n.disabled,O=n.endAdornment,_=n.fullWidth,j=void 0!==_&&_,A=n.id,P=n.inputComponent,D=void 0===P?"input":P,M=n.inputProps,F=void 0===M?{}:M,U=n.inputRef,z=n.maxRows,B=n.minRows,W=n.multiline,Q=void 0!==W&&W,$=n.name,Y=n.onBlur,X=n.onChange,J=n.onClick,Z=n.onFocus,ee=n.onKeyDown,te=n.onKeyUp,ne=n.placeholder,re=n.readOnly,ie=n.renderSuffix,ae=n.rows,oe=n.startAdornment,se=n.type,ue=void 0===se?"text":se,ce=n.value,le=Object(i.a)(n,V),fe=null!=F.value?F.value:ce,he=a.useRef(null!=fe).current,de=a.useRef(),pe=a.useCallback((function(e){0}),[]),ve=Object(N.a)(F.ref,pe),me=Object(N.a)(U,ve),ye=Object(N.a)(de,me),ge=a.useState(!1),be=Object(p.a)(ge,2),ke=be[0],we=be[1],Oe=I();var _e=T({props:n,muiFormControl:Oe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});_e.focused=Oe?Oe.focused:ke,a.useEffect((function(){!Oe&&k&&ke&&(we(!1),Y&&Y())}),[Oe,k,ke,Y]);var je=Oe&&Oe.onFilled,xe=Oe&&Oe.onEmpty,Ee=a.useCallback((function(e){L(e)?je&&je():xe&&xe()}),[je,xe]);R((function(){he&&Ee({value:fe})}),[fe,Ee,he]);a.useEffect((function(){Ee(de.current)}),[]);var Te=D,Se=F;Q&&"input"===Te&&(Se=ae?Object(r.a)({type:void 0,minRows:ae,maxRows:ae},Se):Object(r.a)({type:void 0,maxRows:z,minRows:B},Se),Te=x);a.useEffect((function(){Oe&&Oe.setAdornedStart(Boolean(oe))}),[Oe,oe]);var Ie=Object(r.a)({},n,{color:_e.color||"primary",disabled:_e.disabled,endAdornment:O,error:_e.error,focused:_e.focused,formControl:Oe,fullWidth:j,hiddenLabel:_e.hiddenLabel,multiline:Q,size:_e.size,startAdornment:oe,type:ue}),Ce=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,s=e.formControl,c=e.fullWidth,l=e.hiddenLabel,f=e.multiline,h=e.size,d=e.startAdornment,p=e.type,v={root:["root","color".concat(Object(C.a)(n)),r&&"disabled",i&&"error",c&&"fullWidth",o&&"focused",s&&"formControl","small"===h&&"sizeSmall",f&&"multiline",d&&"adornedStart",a&&"adornedEnd",l&&"hiddenLabel"],input:["input",r&&"disabled","search"===p&&"inputTypeSearch",f&&"inputMultiline","small"===h&&"inputSizeSmall",l&&"inputHiddenLabel",d&&"inputAdornedStart",a&&"inputAdornedEnd"]};return Object(u.a)(v,q,t)}(Ie),Ne=m.Root||K,Re=g.root||{},Ae=m.Input||H;return Se=Object(r.a)({},Se,g.input),Object(w.jsxs)(a.Fragment,{children:[G,Object(w.jsxs)(Ne,Object(r.a)({},Re,!E(Ne)&&{ownerState:Object(r.a)({},Ie,Re.ownerState)},{ref:t,onClick:function(e){de.current&&e.currentTarget===e.target&&de.current.focus(),J&&J(e)}},le,{className:Object(s.a)(Ce.root,Re.className,h),children:[oe,Object(w.jsx)(S.Provider,{value:null,children:Object(w.jsx)(Ae,Object(r.a)({ownerState:Ie,"aria-invalid":_e.error,"aria-describedby":o,autoComplete:c,autoFocus:f,defaultValue:b,disabled:_e.disabled,id:A,onAnimationStart:function(e){Ee("mui-auto-fill-cancel"===e.animationName?de.current:{value:"x"})},name:$,placeholder:ne,readOnly:re,required:_e.required,rows:ae,value:fe,onKeyDown:ee,onKeyUp:te,type:ue},Se,!E(Ae)&&{as:Te,ownerState:Object(r.a)({},Ie,Se.ownerState)},{ref:ye,className:Object(s.a)(Ce.input,Se.className),onBlur:function(e){Y&&Y(e),F.onBlur&&F.onBlur(e),Oe&&Oe.onBlur?Oe.onBlur(e):we(!1)},onChange:function(e){if(!he){var t=e.target||de.current;if(null==t)throw new Error(Object(v.a)(1));Ee({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];F.onChange&&F.onChange.apply(F,[e].concat(r)),X&&X.apply(void 0,[e].concat(r))},onFocus:function(e){_e.disabled?e.stopPropagation():(Z&&Z(e),F.onFocus&&F.onFocus(e),Oe&&Oe.onFocus?Oe.onFocus(e):we(!0))}}))}),O,ie?ie(Object(r.a)({},_e,{startAdornment:oe})):null]}))]})})),$=Q;function Y(e){return Object(F.a)("MuiInput",e)}var X=Object(U.a)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]),J=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],Z=Object(c.a)(K,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Object(h.a)(B(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,i=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return Object(r.a)({position:"relative"},i.formControl&&{"label + &":{marginTop:16}},!i.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat(n.palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},Object(f.a)(t,"&.".concat(X.focused,":after"),{transform:"scaleX(1)"}),Object(f.a)(t,"&.".concat(X.error,":after"),{borderBottomColor:n.palette.error.main,transform:"scaleX(1)"}),Object(f.a)(t,"&:before",{borderBottom:"1px solid ".concat(a),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),Object(f.a)(t,"&:hover:not(.".concat(X.disabled,"):before"),{borderBottom:"2px solid ".concat(n.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(a)}}),Object(f.a)(t,"&.".concat(X.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),ee=Object(c.a)(H,{name:"MuiInput",slot:"Input",overridesResolver:W})({}),te=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiInput"}),a=n.disableUnderline,o=n.components,s=void 0===o?{}:o,c=n.componentsProps,f=n.fullWidth,h=void 0!==f&&f,p=n.inputComponent,v=void 0===p?"input":p,m=n.multiline,y=void 0!==m&&m,g=n.type,b=void 0===g?"text":g,k=Object(i.a)(n,J),O=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},i=Object(u.a)(n,Y,t);return Object(r.a)({},t,i)}(n),_={root:{ownerState:{disableUnderline:a}}},j=c?Object(d.a)(c,_):_;return Object(w.jsx)($,Object(r.a)({components:Object(r.a)({Root:Z,Input:ee},s),componentsProps:j,fullWidth:h,inputComponent:v,multiline:y,ref:t,type:b},k,{classes:O}))}));te.muiName="Input";var ne=te;function re(e){return Object(F.a)("MuiFilledInput",e)}var ie=Object(U.a)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]),ae=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],oe=Object(c.a)(K,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat(Object(h.a)(B(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,i=e.theme,a=e.ownerState,o="light"===i.palette.mode,s=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return Object(r.a)((t={position:"relative",backgroundColor:u,borderTopLeftRadius:i.shape.borderRadius,borderTopRightRadius:i.shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:u}}},Object(f.a)(t,"&.".concat(ie.focused),{backgroundColor:u}),Object(f.a)(t,"&.".concat(ie.disabled),{backgroundColor:o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}),t),!a.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(i.palette[a.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},Object(f.a)(n,"&.".concat(ie.focused,":after"),{transform:"scaleX(1)"}),Object(f.a)(n,"&.".concat(ie.error,":after"),{borderBottomColor:i.palette.error.main,transform:"scaleX(1)"}),Object(f.a)(n,"&:before",{borderBottom:"1px solid ".concat(s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),Object(f.a)(n,"&:hover:not(.".concat(ie.disabled,"):before"),{borderBottom:"1px solid ".concat(i.palette.text.primary)}),Object(f.a)(n,"&.".concat(ie.disabled,":before"),{borderBottomStyle:"dotted"}),n),a.startAdornment&&{paddingLeft:12},a.endAdornment&&{paddingRight:12},a.multiline&&Object(r.a)({padding:"25px 12px 8px"},"small"===a.size&&{paddingTop:21,paddingBottom:4},a.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),se=Object(c.a)(H,{name:"MuiFilledInput",slot:"Input",overridesResolver:W})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),ue=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiFilledInput"}),a=n.components,o=void 0===a?{}:a,s=n.componentsProps,c=n.fullWidth,f=void 0!==c&&c,h=n.inputComponent,p=void 0===h?"input":h,v=n.multiline,m=void 0!==v&&v,y=n.type,g=void 0===y?"text":y,b=Object(i.a)(n,ae),k=Object(r.a)({},n,{fullWidth:f,inputComponent:p,multiline:m,type:g}),O=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},i=Object(u.a)(n,re,t);return Object(r.a)({},t,i)}(n),_={root:{ownerState:k},input:{ownerState:k}},j=s?Object(d.a)(s,_):_;return Object(w.jsx)($,Object(r.a)({components:Object(r.a)({Root:oe,Input:se},o),componentsProps:j,fullWidth:f,inputComponent:p,multiline:m,ref:t,type:g},b,{classes:O}))}));ue.muiName="Input";var ce=ue,le=["children","classes","className","label","notched"],fe=Object(c.a)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),he=Object(c.a)("legend",{skipSx:!0})((function(e){var t=e.ownerState,n=e.theme;return Object(r.a)({float:"unset"},void 0===t.label&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},void 0!==t.label&&Object(r.a)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function de(e){return Object(F.a)("MuiOutlinedInput",e)}var pe=Object(U.a)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]),ve=["components","fullWidth","inputComponent","label","multiline","notched","type"],me=Object(c.a)(K,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:B})((function(e){var t,n=e.theme,i=e.ownerState,a="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Object(r.a)((t={position:"relative",borderRadius:n.shape.borderRadius},Object(f.a)(t,"&:hover .".concat(pe.notchedOutline),{borderColor:n.palette.text.primary}),Object(f.a)(t,"@media (hover: none)",Object(f.a)({},"&:hover .".concat(pe.notchedOutline),{borderColor:a})),Object(f.a)(t,"&.".concat(pe.focused," .").concat(pe.notchedOutline),{borderColor:n.palette[i.color].main,borderWidth:2}),Object(f.a)(t,"&.".concat(pe.error," .").concat(pe.notchedOutline),{borderColor:n.palette.error.main}),Object(f.a)(t,"&.".concat(pe.disabled," .").concat(pe.notchedOutline),{borderColor:n.palette.action.disabled}),t),i.startAdornment&&{paddingLeft:14},i.endAdornment&&{paddingRight:14},i.multiline&&Object(r.a)({padding:"16.5px 14px"},"small"===i.size&&{padding:"8.5px 14px"}))})),ye=Object(c.a)((function(e){var t=e.className,n=e.label,a=e.notched,o=Object(i.a)(e,le),s=Object(r.a)({},e,{notched:a,label:n});return Object(w.jsx)(fe,Object(r.a)({"aria-hidden":!0,className:t,ownerState:s},o,{children:Object(w.jsx)(he,{ownerState:s,children:n?Object(w.jsx)("span",{children:n}):Object(w.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){return{borderColor:"light"===e.theme.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}})),ge=Object(c.a)(H,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:W})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),be=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiOutlinedInput"}),a=n.components,o=void 0===a?{}:a,s=n.fullWidth,c=void 0!==s&&s,f=n.inputComponent,h=void 0===f?"input":f,d=n.label,p=n.multiline,v=void 0!==p&&p,m=n.notched,y=n.type,g=void 0===y?"text":y,b=Object(i.a)(n,ve),k=function(e){var t=e.classes,n=Object(u.a)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},de,t);return Object(r.a)({},t,n)}(n);return Object(w.jsx)($,Object(r.a)({components:Object(r.a)({Root:me,Input:ge},o),renderSuffix:function(e){return Object(w.jsx)(ye,{className:k.notchedOutline,label:d,notched:"undefined"!==typeof m?m:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:c,inputComponent:h,multiline:v,ref:t,type:g},b,{classes:Object(r.a)({},k,{notchedOutline:null})}))}));be.muiName="Input";var ke=be;function we(e){return Object(F.a)("MuiFormLabel",e)}var Oe=Object(U.a)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),_e=["children","className","color","component","disabled","error","filled","focused","required"],je=Object(c.a)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Object(r.a)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,i=e.ownerState;return Object(r.a)({color:n.palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},Object(f.a)(t,"&.".concat(Oe.focused),{color:n.palette[i.color].main}),Object(f.a)(t,"&.".concat(Oe.disabled),{color:n.palette.text.disabled}),Object(f.a)(t,"&.".concat(Oe.error),{color:n.palette.error.main}),t))})),xe=Object(c.a)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return Object(f.a)({},"&.".concat(Oe.error),{color:t.palette.error.main})})),Ee=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiFormLabel"}),a=n.children,o=n.className,c=n.component,f=void 0===c?"label":c,h=Object(i.a)(n,_e),d=T({props:n,muiFormControl:I(),states:["color","required","focused","disabled","error","filled"]}),p=Object(r.a)({},n,{color:d.color||"primary",component:f,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),v=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,s=e.required,c={root:["root","color".concat(Object(C.a)(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]};return Object(u.a)(c,we,t)}(p);return Object(w.jsxs)(je,Object(r.a)({as:f,ownerState:p,className:Object(s.a)(v.root,o),ref:t},h,{children:[a,d.required&&Object(w.jsxs)(xe,{ownerState:p,"aria-hidden":!0,className:v.asterisk,children:["\u2009","*"]})]}))}));function Te(e){return Object(F.a)("MuiInputLabel",e)}Object(U.a)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Se=["disableAnimation","margin","shrink","variant"],Ie=Object(c.a)(Ee,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[Object(f.a)({},"& .".concat(Oe.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&Object(r.a)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&Object(r.a)({transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&Object(r.a)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Ce=a.forwardRef((function(e,t){var n=Object(l.a)({name:"MuiInputLabel",props:e}),a=n.disableAnimation,o=void 0!==a&&a,s=n.shrink,c=Object(i.a)(n,Se),f=I(),h=s;"undefined"===typeof h&&f&&(h=f.filled||f.focused||f.adornedStart);var d=T({props:n,muiFormControl:f,states:["size","variant","required"]}),p=Object(r.a)({},n,{disableAnimation:o,formControl:f,shrink:h,size:d.size,variant:d.variant,required:d.required}),v=function(e){var t=e.classes,n=e.formControl,i=e.size,a=e.shrink,o={root:["root",n&&"formControl",!e.disableAnimation&&"animated",a&&"shrink","small"===i&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},s=Object(u.a)(o,Te,t);return Object(r.a)({},t,s)}(p);return Object(w.jsx)(Ie,Object(r.a)({"data-shrink":h,ownerState:p,ref:t},c,{classes:v}))}));var Ne=function(e,t){return a.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function Re(e){return Object(F.a)("MuiFormControl",e)}Object(U.a)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var Ae=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Pe=Object(c.a)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return Object(r.a)({},t.root,t["margin".concat(Object(C.a)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return Object(r.a)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),De=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiFormControl"}),o=n.children,c=n.className,f=n.color,h=void 0===f?"primary":f,d=n.component,v=void 0===d?"div":d,m=n.disabled,y=void 0!==m&&m,g=n.error,b=void 0!==g&&g,k=n.focused,O=n.fullWidth,_=void 0!==O&&O,j=n.hiddenLabel,x=void 0!==j&&j,E=n.margin,T=void 0===E?"none":E,I=n.required,N=void 0!==I&&I,R=n.size,A=void 0===R?"medium":R,P=n.variant,D=void 0===P?"outlined":P,M=Object(i.a)(n,Ae),F=Object(r.a)({},n,{color:h,component:v,disabled:y,error:b,fullWidth:_,hiddenLabel:x,margin:T,required:N,size:A,variant:D}),U=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat(Object(C.a)(n)),r&&"fullWidth"]};return Object(u.a)(i,Re,t)}(F),q=a.useState((function(){var e=!1;return o&&a.Children.forEach(o,(function(t){if(Ne(t,["Input","Select"])){var n=Ne(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),z=Object(p.a)(q,2),V=z[0],B=z[1],W=a.useState((function(){var e=!1;return o&&a.Children.forEach(o,(function(t){Ne(t,["Input","Select"])&&L(t.props,!0)&&(e=!0)})),e})),K=Object(p.a)(W,2),H=K[0],G=K[1],Q=a.useState(!1),$=Object(p.a)(Q,2),Y=$[0],X=$[1];y&&Y&&X(!1);var J=void 0===k||y?Y:k,Z=a.useCallback((function(){G(!0)}),[]),ee={adornedStart:V,setAdornedStart:B,color:h,disabled:y,error:b,filled:H,focused:J,fullWidth:_,hiddenLabel:x,size:A,onBlur:function(){X(!1)},onEmpty:a.useCallback((function(){G(!1)}),[]),onFilled:Z,onFocus:function(){X(!0)},registerEffect:undefined,required:N,variant:D};return Object(w.jsx)(S.Provider,{value:ee,children:Object(w.jsx)(Pe,Object(r.a)({as:v,ownerState:F,className:Object(s.a)(U.root,c),ref:t},M,{children:o}))})}));function Me(e){return Object(F.a)("MuiFormHelperText",e)}var Le=Object(U.a)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Fe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Ue=Object(c.a)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat(Object(C.a)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,i=e.ownerState;return Object(r.a)({color:n.palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},Object(f.a)(t,"&.".concat(Le.disabled),{color:n.palette.text.disabled}),Object(f.a)(t,"&.".concat(Le.error),{color:n.palette.error.main}),t),"small"===i.size&&{marginTop:4},i.contained&&{marginLeft:14,marginRight:14})})),qe=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiFormHelperText"}),a=n.children,o=n.className,c=n.component,f=void 0===c?"p":c,h=Object(i.a)(n,Fe),d=T({props:n,muiFormControl:I(),states:["variant","size","disabled","error","filled","focused","required"]}),p=Object(r.a)({},n,{component:f,contained:"filled"===d.variant||"outlined"===d.variant,variant:d.variant,size:d.size,disabled:d.disabled,error:d.error,filled:d.filled,focused:d.focused,required:d.required}),v=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,s=e.focused,c=e.required,l={root:["root",i&&"disabled",a&&"error",r&&"size".concat(Object(C.a)(r)),n&&"contained",s&&"focused",o&&"filled",c&&"required"]};return Object(u.a)(l,Me,t)}(p);return Object(w.jsx)(Ue,Object(r.a)({as:f,ownerState:p,className:Object(s.a)(v.root,o),ref:t},h,{children:" "===a?Object(w.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):a}))})),ze=(n(59),y);var Ve=a.createContext({});function Be(e){return Object(F.a)("MuiList",e)}Object(U.a)("MuiList",["root","padding","dense","subheader"]);var We=["children","className","component","dense","disablePadding","subheader"],Ke=Object(c.a)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return Object(r.a)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),He=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiList"}),o=n.children,c=n.className,f=n.component,h=void 0===f?"ul":f,d=n.dense,p=void 0!==d&&d,v=n.disablePadding,m=void 0!==v&&v,y=n.subheader,g=Object(i.a)(n,We),b=a.useMemo((function(){return{dense:p}}),[p]),k=Object(r.a)({},n,{component:h,dense:p,disablePadding:m}),O=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return Object(u.a)(n,Be,t)}(k);return Object(w.jsx)(Ve.Provider,{value:b,children:Object(w.jsxs)(Ke,Object(r.a)({as:h,className:Object(s.a)(O.root,c),ref:t,ownerState:k},g,{children:[y,o]}))})}));function Ge(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var Qe=Ge,$e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Ye(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Xe(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Je(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Ze(e,t,n,r,i,a){for(var o=!1,s=i(e,t,!!t&&n);s;){if(s===e.firstChild){if(o)return!1;o=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Je(s,a)&&!u)return s.focus(),!0;s=i(e,s,n)}return!1}var et=a.forwardRef((function(e,t){var n=e.actions,o=e.autoFocus,s=void 0!==o&&o,u=e.autoFocusItem,c=void 0!==u&&u,l=e.children,f=e.className,h=e.disabledItemsFocusable,d=void 0!==h&&h,p=e.disableListWrap,v=void 0!==p&&p,m=e.onKeyDown,y=e.variant,g=void 0===y?"selectedMenu":y,b=Object(i.a)(e,$e),k=a.useRef(null),O=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});R((function(){s&&k.current.focus()}),[s]),a.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&n){var r="".concat(Qe(ze(e)),"px");k.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var _=Object(N.a)(k,t),j=-1;a.Children.forEach(l,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===j)&&(j=t))}));var x=a.Children.map(l,(function(e,t){if(t===j){var n={};return c&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(n.tabIndex=0),a.cloneElement(e,n)}return e}));return Object(w.jsx)(He,Object(r.a)({role:"menu",ref:_,className:f,onKeyDown:function(e){var t=k.current,n=e.key,r=ze(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Ze(t,r,v,d,Ye);else if("ArrowUp"===n)e.preventDefault(),Ze(t,r,v,d,Xe);else if("Home"===n)e.preventDefault(),Ze(t,null,v,d,Ye);else if("End"===n)e.preventDefault(),Ze(t,null,v,d,Xe);else if(1===n.length){var i=O.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var s=r&&!i.repeating&&Je(r,i);i.previousKeyMatched&&(s||Ze(t,r,!1,d,Ye,i))?e.preventDefault():i.previousKeyMatched=!1}m&&m(e)},tabIndex:s?0:-1},b,{children:x}))})),tt=n(144);function nt(e){return Object(F.a)("MuiPaper",e)}Object(U.a)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var rt=["className","component","elevation","square","variant"],it=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},at=Object(c.a)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&Object(r.a)({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat(Object(tt.a)("#fff",it(n.elevation)),", ").concat(Object(tt.a)("#fff",it(n.elevation)),")")}))})),ot=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiPaper"}),a=n.className,o=n.component,c=void 0===o?"div":o,f=n.elevation,h=void 0===f?1:f,d=n.square,p=void 0!==d&&d,v=n.variant,m=void 0===v?"elevation":v,y=Object(i.a)(n,rt),g=Object(r.a)({},n,{component:c,elevation:h,square:p,variant:m}),b=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,a={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return Object(u.a)(a,nt,i)}(g);return Object(w.jsx)(at,Object(r.a)({as:c,ownerState:g,className:Object(s.a)(b.root,a),ref:t},y))})),st=b,ut=g,ct=n(71),lt=n(42),ft=n.n(lt),ht=!1,dt=n(58),pt="unmounted",vt="exited",mt="entering",yt="entered",gt="exiting",bt=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=vt,r.appearStatus=mt):i=yt:i=t.unmountOnExit||t.mountOnEnter?pt:vt,r.state={status:i},r.nextCallback=null,r}Object(ct.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pt?{status:vt}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==mt&&n!==yt&&(t=mt):n!==mt&&n!==yt||(t=gt)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===mt?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===vt&&this.setState({status:pt})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[ft.a.findDOMNode(this),r],a=i[0],o=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||ht?this.safeSetState({status:yt},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:mt},(function(){t.props.onEntering(a,o),t.onTransitionEnd(u,(function(){t.safeSetState({status:yt},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:ft.a.findDOMNode(this);t&&!ht?(this.props.onExit(r),this.safeSetState({status:gt},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:vt},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:vt},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ft.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===pt)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(dt.a.Provider,{value:null},"function"===typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},t}(o.a.Component);function kt(){}bt.contextType=dt.a,bt.propTypes={},bt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kt,onEntering:kt,onEntered:kt,onExit:kt,onExiting:kt,onExited:kt},bt.UNMOUNTED=pt,bt.EXITED=vt,bt.ENTERING=mt,bt.ENTERED=yt,bt.EXITING=gt;var wt=bt,Ot=n(89);function _t(){return Object(Ot.a)(P.a)}var jt=function(e){return e.scrollTop};function xt(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,s=void 0===o?{}:o;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:s.transitionDelay}}var Et=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Tt(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var St={entering:{opacity:1,transform:Tt(1)},entered:{opacity:1,transform:"none"}},It=a.forwardRef((function(e,t){var n=e.addEndListener,o=e.appear,s=void 0===o||o,u=e.children,c=e.easing,l=e.in,f=e.onEnter,h=e.onEntered,d=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?"auto":g,k=e.TransitionComponent,O=void 0===k?wt:k,_=Object(i.a)(e,Et),j=a.useRef(),x=a.useRef(),E=_t(),T=a.useRef(null),S=Object(N.a)(u.ref,t),I=Object(N.a)(T,S),C=function(e){return function(t){if(e){var n=T.current;void 0===t?e(n):e(n,t)}}},R=C(d),A=C((function(e,t){jt(e);var n,r=xt({style:y,timeout:b,easing:c},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===b?(n=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=n):n=i,e.style.transition=[E.transitions.create("opacity",{duration:n,delay:a}),E.transitions.create("transform",{duration:.666*n,delay:a,easing:o})].join(","),f&&f(e,t)})),P=C(h),D=C(m),M=C((function(e){var t,n=xt({style:y,timeout:b,easing:c},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===b?(t=E.transitions.getAutoHeightDuration(e.clientHeight),x.current=t):t=r,e.style.transition=[E.transitions.create("opacity",{duration:t,delay:i}),E.transitions.create("transform",{duration:.666*t,delay:i||.333*t,easing:a})].join(","),e.style.opacity="0",e.style.transform=Tt(.75),p&&p(e)})),L=C(v);return a.useEffect((function(){return function(){clearTimeout(j.current)}}),[]),Object(w.jsx)(O,Object(r.a)({appear:s,in:l,nodeRef:T,onEnter:A,onEntered:P,onEntering:R,onExit:M,onExited:L,onExiting:D,addEndListener:function(e){"auto"===b&&(j.current=setTimeout(e,x.current||0)),n&&n(T.current,e)},timeout:"auto"===b?null:b},_,{children:function(e,t){return a.cloneElement(u,Object(r.a)({style:Object(r.a)({opacity:0,transform:Tt(.75),visibility:"exited"!==e||l?void 0:"hidden"},St[e],y,u.props.style),ref:I},t))}}))}));It.muiSupportAuto=!0;var Ct=It;function Nt(e){return Object(F.a)("MuiModal",e)}Object(U.a)("MuiModal",["root","hidden"]);var Rt=n(145);function At(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}var Pt=n(81);var Dt=a.forwardRef((function(e,t){var n=e.children,r=e.container,i=e.disablePortal,o=void 0!==i&&i,s=a.useState(null),u=Object(p.a)(s,2),c=u[0],l=u[1],f=Object(m.a)(a.isValidElement(n)?n.ref:null,t);return Object(k.a)((function(){o||l(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),Object(k.a)((function(){if(c&&!o)return Object(Pt.a)(t,c),function(){Object(Pt.a)(t,null)}}),[t,c,o]),o?a.isValidElement(n)?a.cloneElement(n,{ref:f}):n:c?lt.createPortal(n,c):c})),Mt=n(2),Lt=n(4);function Ft(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Ut(e){return parseInt(g(e).getComputedStyle(e).paddingRight,10)||0}function qt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat(Object(h.a)(r)),o=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(function(e){-1===a.indexOf(e)&&-1===o.indexOf(e.tagName)&&Ft(e,i)}))}function zt(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function Vt(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=y(e);return t.body===e?g(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=Ge(y(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Ut(r)+i,"px");var a=y(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Ut(e)+i,"px")}))}var o=r.parentElement,s=g(r),u="HTML"===(null==o?void 0:o.nodeName)&&"scroll"===s.getComputedStyle(o).overflowY?o:r;n.push({value:u.style.overflow,property:"overflow",el:u},{value:u.style.overflowX,property:"overflow-x",el:u},{value:u.style.overflowY,property:"overflow-y",el:u}),u.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var Bt=function(){function e(){Object(Mt.a)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return Object(Lt.a)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ft(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);qt(t,e.mount,e.modalRef,r,!0);var i=zt(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=zt(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=Vt(r,t))}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);if(-1===t)return t;var n=zt(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Ft(e.modalRef,!0),qt(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&Ft(i.modalRef,!1)}return t}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),Wt=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Kt(e){var t=[],n=[];return Array.from(e.querySelectorAll(Wt)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function Ht(){return!0}var Gt=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,i=e.disableEnforceFocus,o=void 0!==i&&i,s=e.disableRestoreFocus,u=void 0!==s&&s,c=e.getTabbable,l=void 0===c?Kt:c,f=e.isEnabled,h=void 0===f?Ht:f,d=e.open,p=a.useRef(),v=a.useRef(null),g=a.useRef(null),b=a.useRef(null),k=a.useRef(null),O=a.useRef(!1),_=a.useRef(null),j=Object(m.a)(t.ref,_),x=a.useRef(null);a.useEffect((function(){d&&_.current&&(O.current=!r)}),[r,d]),a.useEffect((function(){if(d&&_.current){var e=y(_.current);return _.current.contains(e.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex",-1),O.current&&_.current.focus()),function(){u||(b.current&&b.current.focus&&(p.current=!0,b.current.focus()),b.current=null)}}}),[d]),a.useEffect((function(){if(d&&_.current){var e=y(_.current),t=function(t){var n=_.current;if(null!==n)if(e.hasFocus()&&!o&&h()&&!p.current){if(!n.contains(e.activeElement)){if(t&&k.current!==t.target||e.activeElement!==k.current)k.current=null;else if(null!==k.current)return;if(!O.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==g.current||(r=l(_.current)),r.length>0){var i,a,s=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),u=r[0],c=r[r.length-1];s?c.focus():u.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&h()&&"Tab"===t.key&&e.activeElement===_.current&&t.shiftKey&&(p.current=!0,g.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[r,o,u,h,d,l]);var E=function(e){null===b.current&&(b.current=e.relatedTarget),O.current=!0};return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)("div",{tabIndex:0,onFocus:E,ref:v,"data-test":"sentinelStart"}),a.cloneElement(t,{ref:j,onFocus:function(e){null===b.current&&(b.current=e.relatedTarget),O.current=!0,k.current=e.target;var n=t.props.onFocus;n&&n(e)}}),Object(w.jsx)("div",{tabIndex:0,onFocus:E,ref:g,"data-test":"sentinelEnd"})]})},Qt=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"];var $t=new Bt,Yt=a.forwardRef((function(e,t){var n=e.BackdropComponent,o=e.BackdropProps,c=e.children,l=e.classes,f=e.className,h=e.closeAfterTransition,d=void 0!==h&&h,v=e.component,g=void 0===v?"div":v,b=e.components,k=void 0===b?{}:b,O=e.componentsProps,_=void 0===O?{}:O,j=e.container,x=e.disableAutoFocus,T=void 0!==x&&x,S=e.disableEnforceFocus,I=void 0!==S&&S,C=e.disableEscapeKeyDown,N=void 0!==C&&C,R=e.disablePortal,A=void 0!==R&&R,P=e.disableRestoreFocus,D=void 0!==P&&P,M=e.disableScrollLock,L=void 0!==M&&M,F=e.hideBackdrop,U=void 0!==F&&F,q=e.keepMounted,z=void 0!==q&&q,V=e.manager,B=void 0===V?$t:V,W=e.onBackdropClick,K=e.onClose,H=e.onKeyDown,G=e.open,Q=e.theme,$=e.onTransitionEnter,Y=e.onTransitionExited,X=Object(i.a)(e,Qt),J=a.useState(!0),Z=Object(p.a)(J,2),ee=Z[0],te=Z[1],ne=a.useRef({}),re=a.useRef(null),ie=a.useRef(null),ae=Object(m.a)(ie,t),oe=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),se=function(){return ne.current.modalRef=ie.current,ne.current.mountNode=re.current,ne.current},ue=function(){B.mount(se(),{disableScrollLock:L}),ie.current.scrollTop=0},ce=Object(Rt.a)((function(){var e=function(e){return"function"===typeof e?e():e}(j)||y(re.current).body;B.add(se(),e),ie.current&&ue()})),le=a.useCallback((function(){return B.isTopModal(se())}),[B]),fe=Object(Rt.a)((function(e){re.current=e,e&&(G&&le()?ue():Ft(ie.current,!0))})),he=a.useCallback((function(){B.remove(se())}),[B]);a.useEffect((function(){return function(){he()}}),[he]),a.useEffect((function(){G?ce():oe&&d||he()}),[G,he,oe,d,ce]);var de=Object(r.a)({},e,{classes:l,closeAfterTransition:d,disableAutoFocus:T,disableEnforceFocus:I,disableEscapeKeyDown:N,disablePortal:A,disableRestoreFocus:D,disableScrollLock:L,exited:ee,hideBackdrop:U,keepMounted:z}),pe=function(e){var t=e.open,n=e.exited,r=e.classes,i={root:["root",!t&&n&&"hidden"]};return Object(u.a)(i,Nt,r)}(de);if(!z&&!G&&(!oe||ee))return null;var ve={};void 0===c.props.tabIndex&&(ve.tabIndex="-1"),oe&&(ve.onEnter=At((function(){te(!1),$&&$()}),c.props.onEnter),ve.onExited=At((function(){te(!0),Y&&Y(),d&&he()}),c.props.onExited));var me=k.Root||g,ye=_.root||{};return Object(w.jsx)(Dt,{ref:fe,container:j,disablePortal:A,children:Object(w.jsxs)(me,Object(r.a)({role:"presentation"},ye,!E(me)&&{as:g,ownerState:Object(r.a)({},de,ye.ownerState),theme:Q},X,{ref:ae,onKeyDown:function(e){H&&H(e),"Escape"===e.key&&le()&&(N||(e.stopPropagation(),K&&K(e,"escapeKeyDown")))},className:Object(s.a)(pe.root,ye.className,f),children:[!U&&n?Object(w.jsx)(n,Object(r.a)({open:G,onClick:function(e){e.target===e.currentTarget&&(W&&W(e),K&&K(e,"backdropClick"))}},o)):null,Object(w.jsx)(Gt,{disableEnforceFocus:I,disableAutoFocus:T,disableRestoreFocus:D,isEnabled:le,open:G,children:a.cloneElement(c,ve)})]}))})}));function Xt(e){return Object(F.a)("MuiBackdrop",e)}Object(U.a)("MuiBackdrop",["root","invisible"]);var Jt=["classes","className","invisible","component","components","componentsProps","theme"],Zt=a.forwardRef((function(e,t){var n=e.classes,a=e.className,o=e.invisible,c=void 0!==o&&o,l=e.component,f=void 0===l?"div":l,h=e.components,d=void 0===h?{}:h,p=e.componentsProps,v=void 0===p?{}:p,m=e.theme,y=Object(i.a)(e,Jt),g=Object(r.a)({},e,{classes:n,invisible:c}),b=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return Object(u.a)(n,Xt,t)}(g),k=d.Root||f,O=v.root||{};return Object(w.jsx)(k,Object(r.a)({"aria-hidden":!0},O,!E(k)&&{as:f,ownerState:Object(r.a)({},g,O.ownerState),theme:m},{ref:t},y,{className:Object(s.a)(b.root,O.className,a)}))})),en=n(63),tn=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],nn={entering:{opacity:1},entered:{opacity:1}},rn={enter:en.b.enteringScreen,exit:en.b.leavingScreen},an=a.forwardRef((function(e,t){var n=e.addEndListener,o=e.appear,s=void 0===o||o,u=e.children,c=e.easing,l=e.in,f=e.onEnter,h=e.onEntered,d=e.onEntering,p=e.onExit,v=e.onExited,m=e.onExiting,y=e.style,g=e.timeout,b=void 0===g?rn:g,k=e.TransitionComponent,O=void 0===k?wt:k,_=Object(i.a)(e,tn),j=_t(),x=a.useRef(null),E=Object(N.a)(u.ref,t),T=Object(N.a)(x,E),S=function(e){return function(t){if(e){var n=x.current;void 0===t?e(n):e(n,t)}}},I=S(d),C=S((function(e,t){jt(e);var n=xt({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=j.transitions.create("opacity",n),e.style.transition=j.transitions.create("opacity",n),f&&f(e,t)})),R=S(h),A=S(m),P=S((function(e){var t=xt({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=j.transitions.create("opacity",t),e.style.transition=j.transitions.create("opacity",t),p&&p(e)})),D=S(v);return Object(w.jsx)(O,Object(r.a)({appear:s,in:l,nodeRef:x,onEnter:C,onEntered:R,onEntering:I,onExit:P,onExited:D,onExiting:A,addEndListener:function(e){n&&n(x.current,e)},timeout:b},_,{children:function(e,t){return a.cloneElement(u,Object(r.a)({style:Object(r.a)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},nn[e],y,u.props.style),ref:T},t))}}))})),on=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],sn=Object(c.a)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return Object(r.a)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),un=a.forwardRef((function(e,t){var n,a=Object(l.a)({props:e,name:"MuiBackdrop"}),o=a.children,s=a.components,u=void 0===s?{}:s,c=a.componentsProps,f=void 0===c?{}:c,h=a.className,d=a.invisible,p=void 0!==d&&d,v=a.open,m=a.transitionDuration,y=a.TransitionComponent,g=void 0===y?an:y,b=Object(i.a)(a,on),k=function(e){return e.classes}(Object(r.a)({},a,{invisible:p}));return Object(w.jsx)(g,Object(r.a)({in:v,timeout:m},b,{children:Object(w.jsx)(Zt,{className:h,invisible:p,components:Object(r.a)({Root:sn},u),componentsProps:{root:Object(r.a)({},f.root,(!u.Root||!E(u.Root))&&{ownerState:Object(r.a)({},null==(n=f.root)?void 0:n.ownerState)})},classes:k,ref:t,children:o})}))})),cn=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],ln=Object(c.a)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return Object(r.a)({position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),fn=Object(c.a)(un,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),hn=a.forwardRef((function(e,t){var n,o=Object(l.a)({name:"MuiModal",props:e}),s=o.BackdropComponent,u=void 0===s?fn:s,c=o.closeAfterTransition,f=void 0!==c&&c,h=o.children,d=o.components,v=void 0===d?{}:d,m=o.componentsProps,y=void 0===m?{}:m,g=o.disableAutoFocus,b=void 0!==g&&g,k=o.disableEnforceFocus,O=void 0!==k&&k,_=o.disableEscapeKeyDown,j=void 0!==_&&_,x=o.disablePortal,T=void 0!==x&&x,S=o.disableRestoreFocus,I=void 0!==S&&S,C=o.disableScrollLock,N=void 0!==C&&C,R=o.hideBackdrop,A=void 0!==R&&R,P=o.keepMounted,D=void 0!==P&&P,M=Object(i.a)(o,cn),L=a.useState(!0),F=Object(p.a)(L,2),U=F[0],q=F[1],z={closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:O,disableEscapeKeyDown:j,disablePortal:T,disableRestoreFocus:I,disableScrollLock:N,hideBackdrop:A,keepMounted:D},V=function(e){return e.classes}(Object(r.a)({},o,z,{exited:U}));return Object(w.jsx)(Yt,Object(r.a)({components:Object(r.a)({Root:ln},v),componentsProps:{root:Object(r.a)({},y.root,(!v.Root||!E(v.Root))&&{ownerState:Object(r.a)({},null==(n=y.root)?void 0:n.ownerState)})},BackdropComponent:u,onTransitionEnter:function(){return q(!1)},onTransitionExited:function(){return q(!0)},ref:t},M,{classes:V},z,{children:h}))}));function dn(e){return Object(F.a)("MuiPopover",e)}Object(U.a)("MuiPopover",["root","paper"]);var pn=["onEntering"],vn=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function mn(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function yn(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function gn(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function bn(e){return"function"===typeof e?e():e}var kn=Object(c.a)(hn,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),wn=Object(c.a)(ot,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),On=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiPopover"}),o=n.action,c=n.anchorEl,f=n.anchorOrigin,h=void 0===f?{vertical:"top",horizontal:"left"}:f,d=n.anchorPosition,p=n.anchorReference,v=void 0===p?"anchorEl":p,m=n.children,y=n.className,g=n.container,b=n.elevation,k=void 0===b?8:b,O=n.marginThreshold,_=void 0===O?16:O,j=n.open,x=n.PaperProps,E=void 0===x?{}:x,T=n.transformOrigin,S=void 0===T?{vertical:"top",horizontal:"left"}:T,I=n.TransitionComponent,C=void 0===I?Ct:I,R=n.transitionDuration,A=void 0===R?"auto":R,P=n.TransitionProps,D=(P=void 0===P?{}:P).onEntering,M=Object(i.a)(n.TransitionProps,pn),L=Object(i.a)(n,vn),F=a.useRef(),U=Object(N.a)(F,E.ref),q=Object(r.a)({},n,{anchorOrigin:h,anchorReference:v,elevation:k,marginThreshold:_,PaperProps:E,transformOrigin:S,TransitionComponent:C,transitionDuration:A,TransitionProps:M}),z=function(e){var t=e.classes;return Object(u.a)({root:["root"],paper:["paper"]},dn,t)}(q),V=a.useCallback((function(){if("anchorPosition"===v)return d;var e=bn(c),t=(e&&1===e.nodeType?e:ze(F.current).body).getBoundingClientRect();return{top:t.top+mn(t,h.vertical),left:t.left+yn(t,h.horizontal)}}),[c,h.horizontal,h.vertical,d,v]),B=a.useCallback((function(e){return{vertical:mn(e,S.vertical),horizontal:yn(e,S.horizontal)}}),[S.horizontal,S.vertical]),W=a.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=B(t);if("none"===v)return{top:null,left:null,transformOrigin:gn(n)};var r=V(),i=r.top-n.vertical,a=r.left-n.horizontal,o=i+t.height,s=a+t.width,u=ut(bn(c)),l=u.innerHeight-_,f=u.innerWidth-_;if(i<_){var h=i-_;i-=h,n.vertical+=h}else if(o>l){var d=o-l;i-=d,n.vertical+=d}if(a<_){var p=a-_;a-=p,n.horizontal+=p}else if(s>f){var m=s-f;a-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:gn(n)}}),[c,v,V,B,_]),K=a.useCallback((function(){var e=F.current;if(e){var t=W(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[W]);a.useEffect((function(){j&&K()})),a.useImperativeHandle(o,(function(){return j?{updatePosition:function(){K()}}:null}),[j,K]),a.useEffect((function(){if(j){var e=st((function(){K()})),t=ut(c);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[c,j,K]);var H=A;"auto"!==A||C.muiSupportAuto||(H=void 0);var G=g||(c?ze(bn(c)).body:void 0);return Object(w.jsx)(kn,Object(r.a)({BackdropProps:{invisible:!0},className:Object(s.a)(z.root,y),container:G,open:j,ref:t,ownerState:q},L,{children:Object(w.jsx)(C,Object(r.a)({appear:!0,in:j,onEntering:function(e,t){D&&D(e,t),K()},timeout:H},M,{children:Object(w.jsx)(wn,Object(r.a)({elevation:k},E,{ref:U,className:Object(s.a)(z.paper,E.className),children:m}))}))}))}));function _n(e){return Object(F.a)("MuiMenu",e)}Object(U.a)("MuiMenu",["root","paper","list"]);var jn=["onEntering"],xn=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],En={vertical:"top",horizontal:"right"},Tn={vertical:"top",horizontal:"left"},Sn=Object(c.a)(On,{shouldForwardProp:function(e){return Object(c.b)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),In=Object(c.a)(ot,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Cn=Object(c.a)(et,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),Nn=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiMenu"}),o=n.autoFocus,c=void 0===o||o,f=n.children,h=n.disableAutoFocusItem,d=void 0!==h&&h,p=n.MenuListProps,v=void 0===p?{}:p,m=n.onClose,y=n.open,g=n.PaperProps,b=void 0===g?{}:g,k=n.PopoverClasses,O=n.transitionDuration,_=void 0===O?"auto":O,j=n.TransitionProps,x=(j=void 0===j?{}:j).onEntering,E=n.variant,T=void 0===E?"selectedMenu":E,S=Object(i.a)(n.TransitionProps,jn),I=Object(i.a)(n,xn),C=_t(),N="rtl"===C.direction,R=Object(r.a)({},n,{autoFocus:c,disableAutoFocusItem:d,MenuListProps:v,onEntering:x,PaperProps:b,transitionDuration:_,TransitionProps:S,variant:T}),A=function(e){var t=e.classes;return Object(u.a)({root:["root"],paper:["paper"],list:["list"]},_n,t)}(R),P=c&&!d&&y,D=a.useRef(null),M=-1;return a.Children.map(f,(function(e,t){a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===T&&e.props.selected||-1===M)&&(M=t))})),Object(w.jsx)(Sn,Object(r.a)({classes:k,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:N?"right":"left"},transformOrigin:N?En:Tn,PaperProps:Object(r.a)({component:In},b,{classes:Object(r.a)({},b.classes,{root:A.paper})}),className:A.root,open:y,ref:t,transitionDuration:_,TransitionProps:Object(r.a)({onEntering:function(e,t){D.current&&D.current.adjustStyleForScrollbar(e,C),x&&x(e,t)}},S),ownerState:R},I,{children:Object(w.jsx)(Cn,Object(r.a)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),m&&m(e,"tabKeyDown"))},actions:D,autoFocus:c&&(-1===M||d),autoFocusItem:P,variant:T},v,{className:Object(s.a)(A.list,v.className),children:f}))}))}));function Rn(e){return Object(F.a)("MuiNativeSelect",e)}var An=Object(U.a)("MuiNativeSelect",["root","select","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Pn=["className","disabled","IconComponent","inputRef","variant"],Dn=function(e){var t,n=e.ownerState,i=e.theme;return Object(r.a)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===i.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},Object(f.a)(t,"&.".concat(An.disabled),{cursor:"default"}),Object(f.a)(t,"&[multiple]",{height:"auto"}),Object(f.a)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:i.palette.background.paper}),Object(f.a)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:i.shape.borderRadius,"&:focus":{borderRadius:i.shape.borderRadius},"&&&":{paddingRight:32}})},Mn=Object(c.a)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:c.b,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant]]}})(Dn),Ln=function(e){var t=e.ownerState,n=e.theme;return Object(r.a)(Object(f.a)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(An.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},Fn=Object(c.a)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Object(C.a)(n.variant))],n.open&&t.iconOpen]}})(Ln),Un=a.forwardRef((function(e,t){var n=e.className,o=e.disabled,c=e.IconComponent,l=e.inputRef,f=e.variant,h=void 0===f?"standard":f,d=Object(i.a)(e,Pn),p=Object(r.a)({},e,{disabled:o,variant:h}),v=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.open,a={select:["select",n,r&&"disabled"],icon:["icon","icon".concat(Object(C.a)(n)),i&&"iconOpen",r&&"disabled"]};return Object(u.a)(a,Rn,t)}(p);return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)(Mn,Object(r.a)({ownerState:p,className:Object(s.a)(v.select,n),disabled:o,ref:l||t},d)),e.multiple?null:Object(w.jsx)(Fn,{as:c,ownerState:p,className:v.icon})]})}));var qn=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,a.useRef(void 0!==t).current),i=a.useState(n),o=Object(p.a)(i,2),s=o[0],u=o[1];return[r?t:s,a.useCallback((function(e){r||u(e)}),[])]};function zn(e){return Object(F.a)("MuiSelect",e)}var Vn=Object(U.a)("MuiSelect",["root","select","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Bn=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Wn=Object(c.a)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[Object(f.a)({},"&.".concat(Vn.select),t.select),Object(f.a)({},"&.".concat(Vn.select),t[n.variant])]}})(Dn,Object(f.a)({},"&.".concat(Vn.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),Kn=Object(c.a)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat(Object(C.a)(n.variant))],n.open&&t.iconOpen]}})(Ln),Hn=Object(c.a)("input",{shouldForwardProp:function(e){return Object(c.c)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Gn(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Qn(e){return null==e||"string"===typeof e&&!e.trim()}var $n=a.forwardRef((function(e,t){var n=e["aria-describedby"],o=e["aria-label"],c=e.autoFocus,l=e.autoWidth,f=e.children,h=e.className,d=e.defaultValue,m=e.disabled,y=e.displayEmpty,g=e.IconComponent,b=e.inputRef,k=e.labelId,O=e.MenuProps,_=void 0===O?{}:O,j=e.multiple,x=e.name,E=e.onBlur,T=e.onChange,S=e.onClose,I=e.onFocus,R=e.onOpen,A=e.open,P=e.readOnly,D=e.renderValue,M=e.SelectDisplayProps,F=void 0===M?{}:M,U=e.tabIndex,q=e.value,z=e.variant,V=void 0===z?"standard":z,B=Object(i.a)(e,Bn),W=qn({controlled:q,default:d,name:"Select"}),K=Object(p.a)(W,2),H=K[0],G=K[1],Q=a.useRef(null),$=a.useRef(null),Y=a.useState(null),X=Object(p.a)(Y,2),J=X[0],Z=X[1],ee=a.useRef(null!=A).current,te=a.useState(),ne=Object(p.a)(te,2),re=ne[0],ie=ne[1],ae=a.useState(!1),oe=Object(p.a)(ae,2),se=oe[0],ue=oe[1],ce=Object(N.a)(t,b),le=a.useCallback((function(e){$.current=e,e&&Z(e)}),[]);a.useImperativeHandle(ce,(function(){return{focus:function(){$.current.focus()},node:Q.current,value:H}}),[H]),a.useEffect((function(){c&&$.current.focus()}),[c]),a.useEffect((function(){var e=ze($.current).getElementById(k);if(e){var t=function(){getSelection().isCollapsed&&$.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}),[k]);var fe,he,de=function(e,t){e?R&&R(t):S&&S(t),ee||(ie(l?null:J.clientWidth),ue(e))},pe=a.Children.toArray(f),ve=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(j){n=Array.isArray(H)?H.slice():[];var r=H.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),H!==n&&(G(n),T)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:x}}),T(a,e)}j||de(!1,t)}}},me=null!==J&&(ee?A:se);delete B["aria-invalid"];var ye=[],ge=!1;(L({value:H})||y)&&(D?fe=D(H):ge=!0);var be=pe.map((function(e){if(!a.isValidElement(e))return null;var t;if(j){if(!Array.isArray(H))throw new Error(Object(v.a)(2));(t=H.some((function(t){return Gn(t,e.props.value)})))&&ge&&ye.push(e.props.children)}else(t=Gn(H,e.props.value))&&ge&&(he=e.props.children);return t&&!0,a.cloneElement(e,{"aria-selected":t?"true":void 0,onClick:ve(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ge&&(fe=j?ye.join(", "):he);var ke,we=re;!l&&ee&&J&&(we=J.clientWidth),ke="undefined"!==typeof U?U:m?null:0;var Oe=F.id||(x?"mui-component-select-".concat(x):void 0),_e=Object(r.a)({},e,{variant:V,value:H,open:me}),je=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.open,a={select:["select",n,r&&"disabled"],icon:["icon","icon".concat(Object(C.a)(n)),i&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Object(u.a)(a,zn,t)}(_e);return Object(w.jsxs)(a.Fragment,{children:[Object(w.jsx)(Wn,Object(r.a)({ref:le,tabIndex:ke,role:"button","aria-disabled":m?"true":void 0,"aria-expanded":me?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[k,Oe].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:function(e){if(!P){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),de(!0,e))}},onMouseDown:m||P?null:function(e){0===e.button&&(e.preventDefault(),$.current.focus(),de(!0,e))},onBlur:function(e){!me&&E&&(Object.defineProperty(e,"target",{writable:!0,value:{value:H,name:x}}),E(e))},onFocus:I},F,{ownerState:_e,className:Object(s.a)(je.select,h,F.className),id:Oe,children:Qn(fe)?Object(w.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):fe})),Object(w.jsx)(Hn,Object(r.a)({value:Array.isArray(H)?H.join(","):H,name:x,ref:Q,"aria-hidden":!0,onChange:function(e){var t=pe.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=pe[t];G(n.props.value),T&&T(e,n)}},tabIndex:-1,disabled:m,className:je.nativeInput,autoFocus:c,ownerState:_e},B)),Object(w.jsx)(Kn,{as:g,className:je.icon,ownerState:_e}),Object(w.jsx)(Nn,Object(r.a)({id:"menu-".concat(x||""),anchorEl:J,open:me,onClose:function(e){de(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},_,{MenuListProps:Object(r.a)({"aria-labelledby":k,role:"listbox",disableListWrap:!0},_.MenuListProps),PaperProps:Object(r.a)({},_.PaperProps,{style:Object(r.a)({minWidth:we},null!=_.PaperProps?_.PaperProps.style:null)}),children:be}))]})}));function Yn(e){return Object(F.a)("MuiSvgIcon",e)}Object(U.a)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Xn=["children","className","color","component","fontSize","htmlColor","titleAccess","viewBox"],Jn=Object(c.a)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Object(C.a)(n.color))],t["fontSize".concat(Object(C.a)(n.fontSize))]]}})((function(e){var t,n,r=e.theme,i=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:r.transitions.create("fill",{duration:r.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:r.typography.pxToRem(20),medium:r.typography.pxToRem(24),large:r.typography.pxToRem(35)}[i.fontSize],color:null!=(t=null==(n=r.palette[i.color])?void 0:n.main)?t:{action:r.palette.action.active,disabled:r.palette.action.disabled,inherit:void 0}[i.color]}})),Zn=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiSvgIcon"}),a=n.children,o=n.className,c=n.color,f=void 0===c?"inherit":c,h=n.component,d=void 0===h?"svg":h,p=n.fontSize,v=void 0===p?"medium":p,m=n.htmlColor,y=n.titleAccess,g=n.viewBox,b=void 0===g?"0 0 24 24":g,k=Object(i.a)(n,Xn),O=Object(r.a)({},n,{color:f,component:d,fontSize:v,viewBox:b}),_=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat(Object(C.a)(t)),"fontSize".concat(Object(C.a)(n))]};return Object(u.a)(i,Yn,r)}(O);return Object(w.jsxs)(Jn,Object(r.a)({as:d,className:Object(s.a)(_.root,o),ownerState:O,focusable:"false",viewBox:b,color:m,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},k,{children:[a,y?Object(w.jsx)("title",{children:y}):null]}))}));Zn.muiName="SvgIcon";var er=Zn;var tr,nr,rr=function(e,t){var n=function(n,i){return Object(w.jsx)(er,Object(r.a)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=er.muiName,a.memo(a.forwardRef(n))}(Object(w.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),ir=["autoWidth","children","classes","className","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],ar=["root"],or=a.forwardRef((function(e,t){var n=Object(l.a)({name:"MuiSelect",props:e}),o=n.autoWidth,c=void 0!==o&&o,f=n.children,h=n.classes,p=void 0===h?{}:h,v=n.className,m=n.displayEmpty,y=void 0!==m&&m,g=n.IconComponent,b=void 0===g?rr:g,k=n.id,O=n.input,_=n.inputProps,j=n.label,x=n.labelId,E=n.MenuProps,S=n.multiple,C=void 0!==S&&S,R=n.native,A=void 0!==R&&R,P=n.onClose,D=n.onOpen,M=n.open,L=n.renderValue,F=n.SelectDisplayProps,U=n.variant,q=void 0===U?"outlined":U,z=Object(i.a)(n,ir),V=A?Un:$n,B=T({props:n,muiFormControl:I(),states:["variant"]}).variant||q,W=O||{standard:tr||(tr=Object(w.jsx)(ne,{})),outlined:Object(w.jsx)(ke,{label:j}),filled:nr||(nr=Object(w.jsx)(ce,{}))}[B],K=function(e){var t=e.classes;return Object(u.a)({root:["root"]},zn,t)}(Object(r.a)({},n,{classes:p})),H=Object(i.a)(p,ar),G=Object(N.a)(t,W.ref);return a.cloneElement(W,Object(r.a)({inputComponent:V,inputProps:Object(r.a)({children:f,IconComponent:b,variant:B,type:void 0,multiple:C},A?{id:k}:{autoWidth:c,displayEmpty:y,labelId:x,MenuProps:E,onClose:P,onOpen:D,open:M,renderValue:L,SelectDisplayProps:Object(r.a)({id:k},F)},_,{classes:_?Object(d.a)(H,_.classes):H},O?O.props.inputProps:{})},C&&A&&"outlined"===B?{notched:!0}:{},{ref:G,className:Object(s.a)(K.root,W.props.className,v)},z))}));or.muiName="Select";var sr=or;function ur(e){return Object(F.a)("MuiTextField",e)}Object(U.a)("MuiTextField",["root"]);var cr=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],lr={standard:ne,filled:ce,outlined:ke},fr=Object(c.a)(De,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),hr=a.forwardRef((function(e,t){var n=Object(l.a)({props:e,name:"MuiTextField"}),o=n.autoComplete,c=n.autoFocus,f=void 0!==c&&c,h=n.children,d=n.className,p=n.color,v=void 0===p?"primary":p,m=n.defaultValue,y=n.disabled,g=void 0!==y&&y,b=n.error,k=void 0!==b&&b,O=n.FormHelperTextProps,_=n.fullWidth,j=void 0!==_&&_,x=n.helperText,E=n.id,T=n.InputLabelProps,S=n.inputProps,I=n.InputProps,C=n.inputRef,N=n.label,R=n.maxRows,A=n.minRows,P=n.multiline,D=void 0!==P&&P,M=n.name,L=n.onBlur,F=n.onChange,U=n.onFocus,q=n.placeholder,z=n.required,V=void 0!==z&&z,B=n.rows,W=n.select,K=void 0!==W&&W,H=n.SelectProps,G=n.type,Q=n.value,$=n.variant,Y=void 0===$?"outlined":$,X=Object(i.a)(n,cr),J=Object(r.a)({},n,{autoFocus:f,color:v,disabled:g,error:k,fullWidth:j,multiline:D,required:V,select:K,variant:Y}),Z=function(e){var t=e.classes;return Object(u.a)({root:["root"]},ur,t)}(J);var ee={};if("outlined"===Y&&(T&&"undefined"!==typeof T.shrink&&(ee.notched=T.shrink),N)){var te,ne=null!=(te=null==T?void 0:T.required)?te:V;ee.label=Object(w.jsxs)(a.Fragment,{children:[N,ne&&"\xa0*"]})}K&&(H&&H.native||(ee.id=void 0),ee["aria-describedby"]=void 0);var re=x&&E?"".concat(E,"-helper-text"):void 0,ie=N&&E?"".concat(E,"-label"):void 0,ae=lr[Y],oe=Object(w.jsx)(ae,Object(r.a)({"aria-describedby":re,autoComplete:o,autoFocus:f,defaultValue:m,fullWidth:j,multiline:D,name:M,rows:B,maxRows:R,minRows:A,type:G,value:Q,id:E,inputRef:C,onBlur:L,onChange:F,onFocus:U,placeholder:q,inputProps:S},ee,I));return Object(w.jsxs)(fr,Object(r.a)({className:Object(s.a)(Z.root,d),disabled:g,error:k,fullWidth:j,ref:t,required:V,color:v,variant:Y,ownerState:J},X,{children:[N&&Object(w.jsx)(Ce,Object(r.a)({htmlFor:E,id:ie},T,{children:N})),K?Object(w.jsx)(sr,Object(r.a)({"aria-describedby":re,id:E,labelId:ie,value:Q,input:oe},H,{children:h})):oe,x&&Object(w.jsx)(qe,Object(r.a)({id:re},O,{children:x}))]}))}));t.a=hr},function(e,t,n){"use strict";var r=n(7),i=n(15),a=n(91),o=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,u=e.step,c=void 0===u?5:u,l=Object(i.a)(e,o),f=Object.keys(n);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var r=f.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[f[r]]?n[f[r]]:t)-c/100).concat(s,")")}return Object(r.a)({keys:f,values:n,up:h,down:function(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(s,")")},between:d,only:function(e){return f.indexOf(e)+1<f.length?d(e,f[f.indexOf(e)+1]):h(e)},unit:s},l)}var u={borderRadius:4},c=n(36);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Object(c.a)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var f=["breakpoints","palette","spacing","shape"];t.a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,c=void 0===o?{}:o,h=e.spacing,d=e.shape,p=void 0===d?{}:d,v=Object(i.a)(e,f),m=s(n),y=l(h),g=Object(a.a)({breakpoints:m,direction:"ltr",components:{},palette:Object(r.a)({mode:"light"},c),spacing:y,shape:Object(r.a)({},u,p)},v),b=arguments.length,k=new Array(b>1?b-1:0),w=1;w<b;w++)k[w-1]=arguments[w];return g=k.reduce((function(e,t){return Object(a.a)(e,t)}),g)}},function(e,t,n){"use strict";var r=n(44),i=n(15),a=n(7),o=n(6),s=(n(26),n(22)),u=n(142),c=n(48),l=n(27),f=n(24),h=n(18),d=n(115),p=n(143);function v(e){return Object(d.a)("MuiCircularProgress",e)}Object(p.a)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var m,y,g,b,k,w,O,_,j=n(8),x=["className","color","disableShrink","size","style","thickness","value","variant"],E=44,T=Object(c.c)(k||(k=m||(m=Object(r.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),S=Object(c.c)(w||(w=y||(y=Object(r.a)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),I=Object(h.a)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(Object(l.a)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return Object(a.a)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:n.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Object(c.b)(O||(O=g||(g=Object(r.a)(["\n      animation: "," 1.4s linear infinite;\n    "]))),T)})),C=Object(h.a)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),N=Object(h.a)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(Object(l.a)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return Object(a.a)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Object(c.b)(_||(_=b||(b=Object(r.a)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),S)})),R=o.forwardRef((function(e,t){var n=Object(f.a)({props:e,name:"MuiCircularProgress"}),r=n.className,o=n.color,c=void 0===o?"primary":o,h=n.disableShrink,d=void 0!==h&&h,p=n.size,m=void 0===p?40:p,y=n.style,g=n.thickness,b=void 0===g?3.6:g,k=n.value,w=void 0===k?0:k,O=n.variant,_=void 0===O?"indeterminate":O,T=Object(i.a)(n,x),S=Object(a.a)({},n,{color:c,disableShrink:d,size:m,thickness:b,value:w,variant:_}),R=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink,a={root:["root",n,"color".concat(Object(l.a)(r))],svg:["svg"],circle:["circle","circle".concat(Object(l.a)(n)),i&&"circleDisableShrink"]};return Object(u.a)(a,v,t)}(S),A={},P={},D={};if("determinate"===_){var M=2*Math.PI*((E-b)/2);A.strokeDasharray=M.toFixed(3),D["aria-valuenow"]=Math.round(w),A.strokeDashoffset="".concat(((100-w)/100*M).toFixed(3),"px"),P.transform="rotate(-90deg)"}return Object(j.jsx)(I,Object(a.a)({className:Object(s.a)(R.root,r),style:Object(a.a)({width:m,height:m},P,y),ownerState:S,ref:t,role:"progressbar"},D,T,{children:Object(j.jsx)(C,{className:R.svg,ownerState:S,viewBox:"".concat(22," ").concat(22," ").concat(E," ").concat(E),children:Object(j.jsx)(N,{className:R.circle,style:A,ownerState:S,cx:E,cy:E,r:(E-b)/2,fill:"none",strokeWidth:b})})}))}));t.a=R}]]);
//# sourceMappingURL=2.26a4bd87.chunk.js.map