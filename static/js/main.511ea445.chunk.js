(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return V}));var c=n(6),r=n.n(c),a=n(42),i=n.n(a),s=(n(103),n(104),n(16)),o=n(56),d=n.n(o),u="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAAGIUlEQVR4nO2dz48URRTHP7OLKOJiQvzJalSSRQTMKgcSo4KRHyrxB6AED5JwMCZGbvwBJHr0ptGLiV70AIkHRRQ1BGNUQBc1IRgSfikgiQmIuyiyC+56qBnoftMz09Vd1dU7/T5JJdsz+169/r6p6urq6m5QFEVRFEVRqsUq4AQw4bicqPtWLFgLXMR9MhrlEvBCYXszyfGdDE2KBUUlo2uTshz4APgNGMW9YBeBdQ7jXYefhI/WNXgfWOYw3tTMAr5IGWxZktHAV1Ki5XOMRoVwJ/Cr5x3ylYwGRSTlKHCHx30A4CpgyPOOHKeYYemqel0+9+V7YIrPnXgpodJdwBKgz2fFJacPo8EumvV50WfFsnV8DPT6rHCS0QtsI67RD74quwUYj1T0HzDbV2WTmNkYbRo6jWO0c84a4pnf46OSLmEPca3WpDXssajkIbH9jYVt1fhWbD+Y1tAmIdKprFS5QuaEpGUazWfiXvrFLuFm4lqNAde6rOARUcEhl867lMPENVuSxihtl6XdlT2Zui1NiD+8HUdqwBnizW+eK+ddzHzimp3FbhDVkgXC8Z+uHHc5ST/k+Z2M0gib1F2N20ZXQSaA3eKzjt1W1oQo6fByHDlCvNk97MJpRVhMXLvDeR16P8HpcpJOqG9tZ9Cpy5LzV/uA81mjqyD/Aj+Jzx5oZ9ApIXr8yI/VccS2hWhC7JGaSU1ToxOKbnB2HNYJRXeknmhs12Xp8cMd1ucjA8CHwAh+l8VoaS4jwBagH8x8ywDmGvDMdhlTvHMauK8XeAdYGDgYxRzo+2uYJlPlRW5lYriG6cei1EJEUmFi+ut1jZKhCSkZmpCSoQkpGZqQkqEJKRmakJJRA4aBGaEDUQAY7gF2hI5CucyOGmaW8WfghsDBVJ3TwGAP8DswiJkCHgkaUjVpTL8PAqeS/qEGnCQ+Zx/k6QRdxnLimp4iYd4waZQ1AXwmPnvCdXQVRGr4Cc0Tuy1ZTTybB93FdZmpwEbMxbG/62U38Er9u7Lb23KQuKarbYz7aF5x4vIW6FnAj7S+rLmP9iv8QtvbMlv4HyXDNaidwslGR8FNpb0YjTKEeZRH2eyzsFH43pnFySbhZLun4NqVl0ton4Xtwu+mLE7mCSfnMYvn8iJvqt+GORfq58qBrlG+K6G9LdMw2kX9Zr4D7ZhwtNJBgOeEz/7Id7eL75LOi0Lb27JS+DyWx9nbwtkbeaMT/iYm4fe2vCn8vZXH2VPC2dG80RFe0KITIpeRPpnH2XTMPQ5Rh3fnDDC0oEUmZK7wdQG4rp1Bp+sh/wBfi89cHEeqgtTqK8wJaEvSXKDSaZTsSK2klpmYg2Wz60DoLqeoLms6Rquor4Ec/mIcEo6fzuErtKBFJeQZ4edIGqO019Q/FdvabXVGarTNpfPHiWf7eA5foX/hRbUQ+Wzjx3L4auIazIgrWsGCjL5CC1pEQu4VPlJPO6Xtsi5gnkkbRbut1khtdmLO5zpisy5Lh7/p8TLcldxFvBmOAddn8BO6y/HdZc3AaBP14e35xr+Iip7N4CO0oL4T8pywP2BjbLuUVIe/nZGaSM2cspR49hOXsnQg9C/cZwupYda5Re0ftfRhxVSa72W/39JHaEF9JmShsD0HXG3jwLbLGqP5Ar12W1eQWnyJWWGSmiy3I+jwtzWFDHcltxF/bcUl7J4CIbuE6DGolvB92exbMROjRcNuHKOVFVlayElgf2S7F1hhYf+X2J4b+fse8d3ZEtq3YgXxl9vsx2hlRdY7qGRTtLmKuE9sN141t6z+d5ShEtq3QmpQSHfVQD5t8w/SJ/d5mruFVmVtCe2T6MFoELVdnNLWCVMwzTkawKKUtjWaF6QllY9IPscJbZ/EImF7Fs9vZ0tiqwhis4Xt9AT7aNlS/5+y2ks2C/utFrbO2CCC2JvBx1LgvbrtXuBd7M5sQ9s32Etciw0ZfOQm6a1tN4UIJDA30vxWNpe3Mlgh32vo6paFyYRcTW8zMnPOa7Tuh6taXs2laE7mED87rXq5VNckM3lfm3oGMxpx/lq4ScrrmBFacNZjbm4ZJvyvtOgyjHku7/rcKiqKoiiKoiiKogTgfzMG95izHx+0AAAAAElFTkSuQmCC",l=n(8),b=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:d.a.img,children:Object(l.jsx)("img",{src:e.img,alt:"phone"})}),Object(l.jsx)("div",{children:e.description}),Object(l.jsxs)("div",{className:d.a.price,children:[Object(l.jsx)("div",{children:e.price}),Object(l.jsx)("div",{className:d.a.basket,onClick:function(){return e.addProduct(e.id)},children:Object(l.jsx)("img",{src:u})})]})]})},j=n(41),p=n(37),f=n(55),m=Object(f.b)({name:"basket",initialState:{basket:[],status:"idle"},reducers:{setProductInBasketAC:function(e,t){e.basket.push(t.payload.product)},setAppStatusAC:function(e,t){e.status=t.payload.status},setIncreaseCountProductAC:function(e,t){var n=e.basket.find((function(e){return e.id===t.payload.id}));n&&(n.count+=1)},setDecreaseCountProductAC:function(e,t){var n=e.basket.find((function(e){return e.id===t.payload.id}));n&&(n.count-=1)},deleteProductAC:function(e,t){var n=e.basket.findIndex((function(e){return e.id===t.payload.id}));e.basket.splice(n,1)}}}),O=m.reducer,h=m.actions,x=(h.setProductInBasketAC,h.setAppStatusAC,h.setIncreaseCountProductAC,h.setDecreaseCountProductAC,h.deleteProductAC,n(62)),v=Object(f.b)({name:"store",initialState:{store:[]},reducers:{setStoreAC:function(e,t){console.log(t.payload.products),e.store=t.payload.products}}}),A=v.reducer,g=(v.actions.setStoreAC,Object(p.c)({basket:O,store:A})),C=Object(f.a)({reducer:g,middleware:function(e){return e().prepend(x.a)},preloadedState:function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}()});C.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(C.getState())})),window.store=C;function S(e){var t=Object(j.b)();return Object(c.useMemo)((function(){return Object(p.b)(e,t)}),[])}var k=n(80),y=Object(k.a)({},m.actions),I=Object(k.a)({},v.actions),P=n(87),R=n(149),E=function(){var e=Object(c.useContext)(V).firestore,t=Object(P.a)(e.collection("store")),n=Object(s.a)(t,2),r=n[0],a=n[1],i=Object(j.c)((function(e){return e.store.store})),o=Object(j.c)((function(e){return e.basket.basket})),u=S(y),p=u.setProductInBasketAC,f=u.setIncreaseCountProductAC,m=S(I).setStoreAC,O=function(e){var t=i.find((function(t){return t.id===e})),n=o.find((function(t){return t.id===e}));t&&!n?p({product:t}):t&&n&&f({id:e})};return console.log(r),Object(c.useEffect)((function(){r&&m({products:r}),console.log(r)}),[r]),a?Object(l.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(l.jsx)(R.a,{})}):Object(l.jsx)("div",{className:d.a.products,children:i.map((function(e){return Object(l.jsx)(b,{id:e.id,addProduct:O,img:e.img,description:e.description,price:e.price},e.id)}))})},w=n(51),J=n.n(w),G=n(74),H=n(147),Q=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(""),i=Object(s.a)(a,2),o=i[0],d=i[1],u=Object(c.useState)(""),b=Object(s.a)(u,2),p=b[0],f=b[1],m=Object(c.useState)(""),O=Object(s.a)(m,2),h=O[0],x=O[1],v=S(y),A=(v.setProductInBasketAC,v.setIncreaseCountProductAC),g=v.setDecreaseCountProductAC,C=v.deleteProductAC,k=Object(j.c)((function(e){return e.basket.basket}));return Object(l.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(l.jsx)("div",{children:k.map((function(e){return Object(l.jsxs)("div",{className:J.a.basket,children:[Object(l.jsx)("div",{className:J.a.img,children:Object(l.jsx)("img",{src:e.img,alt:"phone"})}),Object(l.jsx)("div",{children:e.description}),Object(l.jsxs)("div",{className:J.a.button,children:[Object(l.jsx)(G.a,{variant:"contained",size:"small",onClick:function(){return function(e){var t=k.find((function(t){return t.id===e}));t&&1===t.count?C({id:e}):t&&t.count>1&&g({id:e})}(e.id)},children:" - "}),Object(l.jsxs)("div",{children:[" ",e.count," "]}),Object(l.jsx)(G.a,{variant:"contained",size:"small",onClick:function(){return t=e.id,void A({id:t});var t},children:" + "})]})]})}))}),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(l.jsx)(H.a,{id:"demo-helper-text-misaligned",label:"Name",value:n,onChange:function(e){return r(e.currentTarget.value)}}),Object(l.jsx)(H.a,{id:"demo-helper-text-misaligned",label:"Surname",value:o,onChange:function(e){return d(e.currentTarget.value)}}),Object(l.jsx)(H.a,{id:"demo-helper-text-misaligned",label:"Address",value:p,onChange:function(e){return f(e.currentTarget.value)}}),Object(l.jsx)(H.a,{id:"demo-helper-text-misaligned",label:"Phone",value:h,onChange:function(e){return x(e.currentTarget.value)}}),Object(l.jsx)(G.a,{variant:"contained",onClick:function(){var e={name:n,surName:o,address:p,phone:h},t=JSON.stringify(e);console.log(t)},children:"Order"})]})]})},T=function(){var e=Object(c.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(j.c)((function(e){return e.basket.basket}));return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:J.a.header,children:[Object(l.jsx)("span",{children:a.reduce((function(e,t){return e+t.price*t.count}),0)}),Object(l.jsx)("div",{className:J.a.img,onClick:function(){return r(!n)},children:Object(l.jsx)("img",{src:u,alt:"basket"})})]}),n?Object(l.jsx)(Q,{}):null]})};var B=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(T,{}),Object(l.jsx)(E,{})]})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,150)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},D=n(73);n(39);D.a.initializeApp({apiKey:"AIzaSyAR7kWTzUEWjWLAUrU-H3VGKFmvQmwBHLI",authDomain:"store-21-lesson.firebaseapp.com",projectId:"store-21-lesson",storageBucket:"store-21-lesson.appspot.com",messagingSenderId:"468160755430",appId:"1:468160755430:web:35acd3ca18b761799b2d27",measurementId:"G-J5RVZ1QWVM"});var V=Object(c.createContext)(null),L=D.a.firestore();i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(j.a,{store:C,children:Object(l.jsx)(V.Provider,{value:{firebase:D.a,firestore:L},children:Object(l.jsx)(B,{})})})}),document.getElementById("root")),F()},51:function(e,t,n){e.exports={header:"Header_header__3abc3",img:"Header_img__Ws-f0",basket:"Header_basket__2RpG4",button:"Header_button__1X47x"}},56:function(e,t,n){e.exports={price:"MainScreen_price__1i7tE",basket:"MainScreen_basket__3DQpL",img:"MainScreen_img__18skO",products:"MainScreen_products__1aQfs"}}},[[113,1,2]]]);
//# sourceMappingURL=main.511ea445.chunk.js.map