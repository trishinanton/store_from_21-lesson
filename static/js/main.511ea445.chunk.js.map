{"version":3,"sources":["common/icons8-корзина-2-100.png","n2-features/f1-main_screen/Product.tsx","n1-main/m2-bll/basket-reducer.ts","n1-main/m2-bll/main-reducer.ts","n1-main/m2-bll/b1-store/redux-store.ts","n1-main/utils/localstorage-utils.ts","n1-main/m2-bll/index.ts","n2-features/f1-main_screen/MainScreen.tsx","n2-features/f2-basket/Basket.tsx","n1-main/m1-ui/Header/Header.tsx","n1-main/m1-ui/App.tsx","reportWebVitals.ts","index.tsx","n1-main/m1-ui/Header/Header.module.css","n2-features/f1-main_screen/MainScreen.module.css"],"names":["Product","props","className","style","img","src","alt","description","price","basket","onClick","addProduct","id","slice","createSlice","name","initialState","status","reducers","setProductInBasketAC","state","action","push","payload","product","setAppStatusAC","setIncreaseCountProductAC","find","b","count","setDecreaseCountProductAC","deleteProductAC","i","findIndex","splice","basketReducer","reducer","actions","MainSlice","store","setStoreAC","console","log","products","storeReducer","rootReducer","combineReducers","configureStore","middleware","getDefaultMiddleware","prepend","thunkMiddleware","preloadedState","stringState","localStorage","getItem","JSON","parse","err","loadState","subscribe","serializedStartValue","stringify","setItem","saveState","getState","window","useActions","dispatch","useDispatch","useMemo","bindActionCreators","basketActions","storeActions","MainScreen","firestore","useContext","Context","useCollectionData","collection","productFromFireBase","loading","useSelector","addProductInBasket","p","productInBasket","useEffect","display","flexDirection","justifyContent","alignItems","CircularProgress","map","Basket","useState","setName","surName","setSurName","address","setAddress","phone","setPhone","button","Button","variant","size","prod","decreaseCount","TextField","label","value","onChange","e","currentTarget","order","json","Header","showBasket","setShowBasket","basketArray","header","reduce","acc","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","ReactDOM","render","StrictMode","Provider","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.511ea445.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import style from \"./MainScreen.module.css\";\r\nimport phone from \"../../common/standart(iphone6(2)).png\";\r\nimport basket from \"../../common/icons8-корзина-2-100.png\";\r\n\r\ntype PropsType = {\r\n    id: number,\r\n    img: string,\r\n    description: string,\r\n    price: number,\r\n    addProduct: (id:number)=>void\r\n}\r\nexport const Product = (props:PropsType)=>{\r\n    return (\r\n        <div>\r\n            <div className={style.img}><img src={props.img} alt=\"phone\"/></div>\r\n            <div>{props.description}</div>\r\n            <div className={style.price}>\r\n                <div>{props.price}</div>\r\n                <div className={style.basket} onClick={()=>props.addProduct(props.id)}><img src={basket}/></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\nconst initialState = {\r\n    basket: [] as BacketType,\r\n    status: 'idle'\r\n}\r\nexport type ProductType = {id:number, img: string, description: string, count: number, price: number };\r\nexport type BacketType = Array<ProductType>\r\nexport type RequestStatusType = 'idle' | 'loading' | 'succeeded' | 'failed'\r\n\r\nexport const slice = createSlice({\r\n    name: 'basket',\r\n    initialState: initialState,\r\n    reducers: {\r\n        setProductInBasketAC (state,action: PayloadAction<{product:ProductType }>){\r\n            state.basket.push(action.payload.product)\r\n        },\r\n        setAppStatusAC(state, action: PayloadAction<{status: RequestStatusType}>){\r\n            state.status = action.payload.status\r\n        },\r\n        setIncreaseCountProductAC (state, action: PayloadAction<{id:number}>){\r\n            const product = state.basket.find(b=>b.id===action.payload.id)\r\n            if (product) product.count+=1\r\n        },\r\n        setDecreaseCountProductAC (state, action: PayloadAction<{id:number}>){\r\n\r\n            const product = state.basket.find(b=>b.id===action.payload.id)\r\n            if (product) product.count-=1\r\n        },\r\n        deleteProductAC (state, action: PayloadAction<{id: number}>){\r\n            const i = state.basket.findIndex(b=>b.id===action.payload.id)\r\n            state.basket.splice(i,1)\r\n        }\r\n    }\r\n})\r\n\r\nexport const basketReducer = slice.reducer;\r\nexport const {setProductInBasketAC,setAppStatusAC,setIncreaseCountProductAC,setDecreaseCountProductAC,deleteProductAC} = slice.actions;","import {createSlice, PayloadAction} from \"@reduxjs/toolkit\";\r\n\r\nexport const initialState = {\r\n    store: [] as StoreType\r\n}\r\n\r\ntype ProductType = { id: number, img: string, description: string, count: number, price: number };\r\nexport type StoreType = Array<ProductType>\r\n\r\nexport const MainSlice = createSlice({\r\n    name: \"store\",\r\n    initialState:initialState,\r\n    reducers:{\r\n        setStoreAC(state, action: PayloadAction<{products:StoreType}>){\r\n            console.log(action.payload.products)\r\n            state.store = action.payload.products\r\n\r\n        }\r\n    }\r\n})\r\nexport const storeReducer = MainSlice.reducer;\r\nexport const {setStoreAC} = MainSlice.actions\r\n","import {combineReducers} from \"redux\";\r\nimport {basketReducer} from \"../basket-reducer\";\r\nimport {configureStore} from \"@reduxjs/toolkit\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {ActionCreatorsMapObject, bindActionCreators} from \"redux\";\r\nimport {useMemo} from \"react\";\r\nimport {storeReducer} from \"../main-reducer\";\r\nimport {loadState, saveState} from \"../../utils/localstorage-utils\";\r\n\r\nconst rootReducer = combineReducers({\r\n    basket: basketReducer,\r\n    store: storeReducer\r\n})\r\n\r\nexport const store = configureStore({\r\n    reducer: rootReducer,\r\n    middleware: getDefaultMiddleware => getDefaultMiddleware().prepend(thunkMiddleware),\r\n    preloadedState: loadState()\r\n})\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>\r\n\r\nstore.subscribe(() => {\r\n    saveState(store.getState())\r\n});\r\n\r\n//@ts-ignore\r\nwindow.store = store\r\n\r\ntype AppDispatchType = typeof store.dispatch\r\nexport const useAppDispatch = ()=> useDispatch<AppDispatchType>()\r\nexport function useActions<T extends ActionCreatorsMapObject<any>>(actions:T){\r\n    const dispatch = useAppDispatch()\r\n\r\n    const boundActions = useMemo(()=>{\r\n        return bindActionCreators(actions,dispatch)\r\n    }, [])\r\n    return boundActions\r\n}","import {AppRootStateType} from \"../m2-bll/b1-store/redux-store\";\r\n\r\n\r\nexport const loadState = () => {\r\n    try {\r\n        const stringState = localStorage.getItem('state');\r\n        if (stringState  === null) {\r\n            return undefined;\r\n        }\r\n         let state = JSON.parse(stringState);\r\n        return state\r\n    } catch (err) {\r\n        return undefined;\r\n    }\r\n};\r\n\r\n\r\nexport const saveState = (state:AppRootStateType) => {\r\n    try {\r\n        const serializedStartValue = JSON.stringify(state);\r\n        localStorage.setItem('state', serializedStartValue);\r\n\r\n    } catch {\r\n        // ignore write errors\r\n    }\r\n};","import {slice} from './basket-reducer'\r\nimport {MainSlice} from \"./main-reducer\";\r\n\r\nconst basketActions = {\r\n    ...slice.actions\r\n}\r\nconst storeActions = {\r\n    ...MainSlice.actions\r\n}\r\n\r\nexport {\r\n    basketActions,\r\n    storeActions\r\n}\r\n","import basket from '../../common/icons8-корзина-2-100.png';\r\nimport style from './MainScreen.module.css'\r\nimport phone from '../../common/standart(iphone6(2)).png'\r\nimport {Product} from \"./Product\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType, useActions} from \"../../n1-main/m2-bll/b1-store/redux-store\";\r\nimport {StoreType} from \"../../n1-main/m2-bll/main-reducer\";\r\nimport {basketActions, storeActions} from \"../../n1-main/m2-bll\";\r\nimport {BacketType} from \"../../n1-main/m2-bll/basket-reducer\";\r\nimport {useContext, useEffect} from \"react\";\r\nimport {Context} from \"../../index\";\r\nimport {useCollectionData} from \"react-firebase-hooks/firestore\";\r\nimport {CircularProgress} from \"@mui/material\";\r\n\r\nexport const MainScreen = ()=>{\r\n\r\n    const {firestore} = useContext(Context)\r\n    const [productFromFireBase, loading] = useCollectionData(\r\n        firestore.collection('store')\r\n    )\r\n\r\n    const store = useSelector<AppRootStateType, StoreType>(state=>state.store.store)\r\n    const basket = useSelector<AppRootStateType, BacketType>(state=>state.basket.basket)\r\n\r\n    const {setProductInBasketAC,setIncreaseCountProductAC} = useActions(basketActions)\r\n    const {setStoreAC} = useActions(storeActions)\r\n\r\n    const addProductInBasket = (id:number)=>{\r\n        const product = store.find(p=>p.id===id)\r\n        const productInBasket = basket.find(b=>b.id===id)\r\n\r\n        if(product && !productInBasket) setProductInBasketAC({product})\r\n        else if (product && productInBasket) setIncreaseCountProductAC({id})\r\n\r\n    }\r\n\r\n    console.log(productFromFireBase)\r\n\r\n        useEffect(()=>{\r\n            //@ts-ignore\r\n            if(productFromFireBase) setStoreAC({products:productFromFireBase})\r\n            console.log(productFromFireBase)\r\n        },[productFromFireBase])\r\n\r\n    if(loading){\r\n        return <div style={{display: 'flex', flexDirection:'column', justifyContent: 'center', alignItems:'center'}}>\r\n            <CircularProgress />\r\n        </div>\r\n    }\r\n    return(\r\n        <div className={style.products}>\r\n            {store.map(p=> <Product key={p.id} id={p.id} addProduct={addProductInBasket} img={p.img} description={p.description} price={p.price}/>)}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\n","import React, {useState} from 'react';\r\nimport style from \"../../n1-main/m1-ui/Header/Header.module.css\";\r\nimport phone from \"../../common/standart(iphone6(2)).png\";\r\nimport Button from \"@mui/material/Button/Button\";\r\nimport {AppRootStateType, useActions} from \"../../n1-main/m2-bll/b1-store/redux-store\";\r\nimport {basketActions} from \"../../n1-main/m2-bll\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {BacketType} from \"../../n1-main/m2-bll/basket-reducer\";\r\nimport TextField from '@mui/material/TextField';\r\n\r\n\r\nexport const Basket = () =>{\r\n    const [name, setName] = useState('')\r\n    const [surName, setSurName] = useState('')\r\n    const [address, setAddress] = useState('')\r\n    const [phone, setPhone] = useState('')\r\n\r\n    const {setProductInBasketAC,setIncreaseCountProductAC,setDecreaseCountProductAC,deleteProductAC} = useActions(basketActions)\r\n    const basket = useSelector<AppRootStateType, BacketType>(state=>state.basket.basket)\r\n\r\n    const increaseCount = (id: number)=>{\r\n        setIncreaseCountProductAC({id})\r\n    }\r\n    const decreaseCount = (id:number)=>{\r\n        const prod = basket.find(b=>b.id===id)\r\n        if(prod && prod.count ===1) deleteProductAC({id})\r\n        else if (prod && prod.count>1) setDecreaseCountProductAC({id})\r\n    }\r\n    const sendJSON = ()=>{\r\n        const order = {\r\n            name,surName,address,phone\r\n        }\r\n        const json = JSON.stringify(order)\r\n        console.log(json)\r\n    }\r\n    return (\r\n        <div style={{display: 'flex', justifyContent:'space-around'}}>\r\n            <div>\r\n                {basket.map((b)=>{\r\n                    return (\r\n                        <div className={style.basket}>\r\n                            <div className={style.img}>\r\n                                <img src={b.img} alt='phone'/>\r\n                            </div>\r\n                            <div>\r\n                                {b.description}\r\n                            </div>\r\n                            <div className={style.button}>\r\n                                <Button variant=\"contained\" size=\"small\" onClick={()=>decreaseCount(b.id)}> - </Button>\r\n                                <div> { b.count } </div>\r\n                                <Button variant=\"contained\" size=\"small\" onClick={()=>increaseCount(b.id)}> + </Button>\r\n                            </div>\r\n                        </div>\r\n\r\n                    )\r\n                })}\r\n            </div>\r\n\r\n            <div style={{display: 'flex', flexDirection:'column'}}>\r\n                <TextField id=\"demo-helper-text-misaligned\" label=\"Name\" value={name} onChange={(e)=>setName(e.currentTarget.value)}/>\r\n                <TextField id=\"demo-helper-text-misaligned\" label=\"Surname\" value={surName} onChange={(e)=>setSurName(e.currentTarget.value)}/>\r\n                <TextField id=\"demo-helper-text-misaligned\" label=\"Address\" value={address} onChange={(e)=>setAddress(e.currentTarget.value)}/>\r\n                <TextField id=\"demo-helper-text-misaligned\" label=\"Phone\" value={phone} onChange={(e)=>setPhone(e.currentTarget.value)}/>\r\n                <Button variant=\"contained\" onClick={sendJSON}>Order</Button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","import style from './Header.module.css'\r\nimport basket from '../../../common/icons8-корзина-2-100.png'\r\nimport phone from '../../../common/standart(iphone6(2)).png'\r\nimport {useState} from \"react\";\r\nimport Button from '@mui/material/Button/Button';\r\nimport {Basket} from \"../../../n2-features/f2-basket/Basket\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootStateType} from \"../../m2-bll/b1-store/redux-store\";\r\nimport {BacketType} from \"../../m2-bll/basket-reducer\";\r\n\r\n\r\nexport const Header = ()=>{\r\n    const [showBasket, setShowBasket] = useState(false)\r\n    const basketArray = useSelector<AppRootStateType,BacketType>(state=>state.basket.basket)\r\n\r\n    return (\r\n        <>\r\n            <div className={style.header}>\r\n                <span>{basketArray.reduce((acc,b)=> acc+ b.price*b.count, 0)}</span>\r\n                <div className={style.img} onClick={()=>setShowBasket(!showBasket)}>\r\n                    <img src={basket} alt=\"basket\"/>\r\n                </div>\r\n\r\n            </div>\r\n            {showBasket ? <Basket/> : null}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\n","import React from 'react';\nimport logo from '../../logo.svg';\nimport './App.css';\nimport {MainScreen} from \"../../n2-features/f1-main_screen/MainScreen\";\nimport {Header} from \"./Header/Header\";\nimport {Provider} from \"react-redux\";\nimport {store} from \"../m2-bll/b1-store/redux-store\";\n\nfunction App() {\n  return (\n    <div>\n            <Header/>\n            <MainScreen/>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, {createContext} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './n1-main/m1-ui/App';\nimport reportWebVitals from './reportWebVitals';\nimport {initializeApp} from \"firebase/app\";\nimport firebase from \"firebase/compat\";\nimport {store} from \"./n1-main/m2-bll/b1-store/redux-store\";\nimport {Provider} from \"react-redux\";\nimport 'firebase/firestore'\n\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyAR7kWTzUEWjWLAUrU-H3VGKFmvQmwBHLI\",\n    authDomain: \"store-21-lesson.firebaseapp.com\",\n    projectId: \"store-21-lesson\",\n    storageBucket: \"store-21-lesson.appspot.com\",\n    messagingSenderId: \"468160755430\",\n    appId: \"1:468160755430:web:35acd3ca18b761799b2d27\",\n    measurementId: \"G-J5RVZ1QWVM\"\n});\n\n\nexport const Context = createContext<any>(null)\nconst firestore = firebase.firestore()\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <Context.Provider value={{firebase,firestore}}>\n                <App/>\n            </Context.Provider>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3abc3\",\"img\":\"Header_img__Ws-f0\",\"basket\":\"Header_basket__2RpG4\",\"button\":\"Header_button__1X47x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"price\":\"MainScreen_price__1i7tE\",\"basket\":\"MainScreen_basket__3DQpL\",\"img\":\"MainScreen_img__18skO\",\"products\":\"MainScreen_products__1aQfs\"};"],"sourceRoot":""}